(self.webpackChunkportal=self.webpackChunkportal||[]).push([[52223],{52223:(N,g,i)=>{i.r(g),i.d(g,{MediaCenterModule:()=>A});var s=i(28675),d=i(92482),l=i(4125),t=i(11705),u=i(22141),f=i(55175),M=i(91236),C=i(30074),p=i(78570),m=i(82423),v=i(62411),h=i(81011);function b(n,c){if(1&n&&(t.\u0275\u0275elementStart(0,"p",10),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"date"),t.\u0275\u0275elementEnd()),2&n){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,1,null==a.cardData?null:a.cardData.publishDate,a.AppConsts.DateOnlyFormat)," ")}}function P(n,c){if(1&n&&(t.\u0275\u0275elementStart(0,"p",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==a.cardData?null:a.cardData.content," ")}}function D(n,c){if(1&n&&(t.\u0275\u0275elementStart(0,"p",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"abpLocalization"),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()),2&n){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,"CMSService::Offers:OfferEndDate")," : ",t.\u0275\u0275pipeBind2(3,4,null==a.cardData?null:a.cardData.endDate,a.AppConsts.DateOnlyFormat)," ")}}function _(n,c){if(1&n&&(t.\u0275\u0275elementStart(0,"p",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"abpLocalization"),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()),2&n){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,"CMSService::Events:PublishDate")," : ",t.\u0275\u0275pipeBind2(3,4,null==a.cardData?null:a.cardData.publishDate,a.AppConsts.DateOnlyFormat)," ")}}function y(n,c){if(1&n&&(t.\u0275\u0275elementStart(0,"p",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"abpLocalization"),t.\u0275\u0275pipe(3,"date"),t.\u0275\u0275elementEnd()),2&n){const a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",t.\u0275\u0275pipeBind1(2,2,"CMSService::Advertisments:Date")," : ",t.\u0275\u0275pipeBind2(3,4,null==a.cardData?null:a.cardData.publishDate,a.AppConsts.DateOnlyFormat)," ")}}let O=(()=>{class n{constructor(a){this._Router=a,this.cardTextVisibility=!1,this.publishDateVisibility=!1,this.endDateVisibility=!1,this.eventDateVisibility=!1,this.advertisementDate=!1,this.navigateToDetails=new t.EventEmitter,this.PreviewModeEnum=p.PreviewModeEnum,this.AppConsts=d.AppConsts}navigateToAll(){this._Router.navigate([`/${this.routingPath}`])}onNavigateToDetails(){this.navigateToDetails.emit()}static#t=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(s.Router))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-main-page-card"]],inputs:{cardData:"cardData",routingPath:"routingPath",attachmentEntitiy:"attachmentEntitiy",attachmentModule:"attachmentModule",cardActionTitle:"cardActionTitle",cardTextVisibility:"cardTextVisibility",publishDateVisibility:"publishDateVisibility",endDateVisibility:"endDateVisibility",eventDateVisibility:"eventDateVisibility",advertisementDate:"advertisementDate"},outputs:{navigateToDetails:"navigateToDetails"},decls:16,vars:15,consts:[[1,"card","media-card","bg-transparent"],[1,"card-header","bg-transparent","position-absolute","border-0","end-0"],[1,"btn",3,"click"],[1,"icon-arrow-narrow-left","flip-icon","filp-icon","d-inline-flex"],[3,"previewMode","base64File"],[1,"card-img-overlay","d-flex","flex-column","justify-content-end",3,"click"],["class","publish-date d-inline-block",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","end-date",4,"ngIf"],[1,"publish-date","d-inline-block"],[1,"card-text"],[1,"end-date"]],template:function(o,e){1&o&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"button",2),t.\u0275\u0275listener("click",function(){return e.navigateToAll()}),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"abpLocalization"),t.\u0275\u0275element(5,"i",3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(6,"app-base64-file-preview",4),t.\u0275\u0275pipe(7,"attachmentFile"),t.\u0275\u0275elementStart(8,"div",5),t.\u0275\u0275listener("click",function(){return e.onNavigateToDetails()}),t.\u0275\u0275template(9,b,3,4,"p",6),t.\u0275\u0275elementStart(10,"h5",7),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,P,2,1,"p",8),t.\u0275\u0275template(13,D,4,7,"p",9),t.\u0275\u0275template(14,_,4,7,"p",9),t.\u0275\u0275template(15,y,4,7,"p",9),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,9,e.cardActionTitle)," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("previewMode",e.PreviewModeEnum.Image)("base64File",t.\u0275\u0275pipeBind3(7,11,(null==e.cardData?null:e.cardData.imageId)||(null==e.cardData?null:e.cardData.mainImageId),e.attachmentEntitiy,e.attachmentModule)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.publishDateVisibility),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",null==e.cardData?null:e.cardData.title," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.cardTextVisibility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.endDateVisibility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.eventDateVisibility),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.advertisementDate&&(null==e.cardData?null:e.cardData.publishDate)))},dependencies:[v.NgIf,p.Base64FilePerviewComponent,v.DatePipe,h.LocalizationPipe,p.AttachmentPipe],styles:["[_nghost-%COMP%]  .media-card app-base64-file-preview img{border-radius:12px;box-shadow:0 6px 16px #0000000a;height:100%}html[dir=ltr][_nghost-%COMP%]   .media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, html[dir=ltr]   [_nghost-%COMP%]   .media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{padding-right:35px;padding-left:25px}html[dir=ltr][_nghost-%COMP%]   .media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{right:5%}.media-card[_ngcontent-%COMP%]{cursor:pointer}.media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px;z-index:var(--z-index-relative-child)}.media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:20px;background:rgba(255,255,255,.95);padding:4px 16px;color:var(--text-body, #1e293b);font-size:14px;font-style:normal;font-weight:700;display:flex;align-items:center;position:relative;transition:all .3s ease-out}.media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:0;font-size:20px;line-height:1;position:absolute;left:5%;top:19%;transition:all .3s ease-out}.media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transition:all .3s ease-out;color:#5e1ad5;padding-left:35px;padding-right:25px}.media-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:1}.media-card[_ngcontent-%COMP%]   .card-img-overlay[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(0,0,0,0) 42.64%,rgba(0,0,0,.2) 65.43%,rgba(0,0,0,.85) 89.54%);padding:24px 16px}.media-card[_ngcontent-%COMP%]   p.publish-date[_ngcontent-%COMP%]{color:var(--basic-white, #fff);font-size:12px;font-style:normal;font-weight:700;border-radius:12px;background:var(--secondary-light-purple-100, #7f92ff);padding:0 12px;margin-bottom:12px;width:max-content}.media-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{overflow:hidden;color:var(--basic-white, #fff);text-overflow:ellipsis;white-space:nowrap;font-size:16px;font-style:normal;font-weight:700;margin-bottom:8px;line-height:24px}.media-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{overflow:hidden;color:var(--neutral-50, #f8fafc);font-size:14px;font-weight:500;margin-bottom:0;line-height:24px}@supports (-webkit-line-clamp: 2){.media-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}.media-card[_ngcontent-%COMP%]   p.end-date[_ngcontent-%COMP%]{color:var(--secondary-light-purple-100, #7f92ff);font-size:12px;font-style:normal;font-weight:700;margin-bottom:0}"]})}return n})();const w=[{path:"",component:(()=>{class n{constructor(a,o,e,r,I){this._newsItemService=a,this._advertismentService=o,this._offerService=e,this._cstEvents=r,this._router=I,this.AttachmentEntities=d.AttachmentEntities}ngOnInit(){this._getLatestNews(),this._getLatestAdvertisment(),this._getLatestOffer(),this._getLatestEvent()}onNavigateToDetails(a,o){this._router.navigate([`/cms/${a}/details/${o}`])}_getLatestNews(){this.isLoading=!0,this._sub$=this._newsItemService.getLatest().pipe((0,l.finalize)(()=>{this.isLoading=!1})).subscribe(a=>{this.latestNews=a})}_getLatestAdvertisment(){this.isLoading=!0,this._sub$=this._advertismentService.getLatest().pipe((0,l.finalize)(()=>{this.isLoading=!1})).subscribe(a=>{this.latestAdvertisment=a})}_getLatestOffer(){this.isLoading=!0,this._sub$=this._offerService.getListPublic({maxResultCount:1}).pipe((0,l.finalize)(()=>{this.isLoading=!1})).subscribe(a=>{this.latestOffer=a.items[0]})}_getLatestEvent(){this.isLoading=!0,this._sub$=this._cstEvents.getLatest().pipe((0,l.finalize)(()=>{this.isLoading=!1})).subscribe(a=>{this.latestEvent=a})}ngOnDestroy(){return this._sub$?.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(u.C),t.\u0275\u0275directiveInject(f.a),t.\u0275\u0275directiveInject(M.K),t.\u0275\u0275directiveInject(C.K),t.\u0275\u0275directiveInject(s.Router))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-main-page"]],decls:37,vars:81,consts:[["pageTitle","CMSService::Menu:MainPage","icon","Group"],[1,"row"],[1,"col-lg-4","col-sm-12","col-xs-12","order-lg-1","order-sm-2","order-2"],[1,"d-flex","flex-column","gap-2","mt-2","mt-lg-0"],["loaderImage","media-loader.svg","nodataImage","offers.svg",3,"isLoadingData","isDataNotEmpty","nodataMessage","nodataHint"],[3,"cardData","routingPath","attachmentEntitiy","attachmentModule","cardActionTitle","endDateVisibility","navigateToDetails"],["loaderImage","media-loader.svg","nodataImage","Events-icon.svg",3,"isLoadingData","isDataNotEmpty","nodataMessage","nodataHint"],[3,"cardData","routingPath","attachmentEntitiy","attachmentModule","cardActionTitle","eventDateVisibility","navigateToDetails"],[1,"col-lg-8","col-sm-12","col-xs-12","order-lg-2","order-sm-1","order-1"],[1,"callender-wrapping"],[1,"col-lg-8","col-sm-12","col-xs-12","mt-2","order-lg-3","order-sm-3","order-3"],["loaderImage","media-loader.svg","nodataImage","Group.svg",3,"isLoadingData","isDataNotEmpty","nodataMessage","nodataHint"],[1,"height-lg",3,"cardData","routingPath","attachmentEntitiy","attachmentModule","cardActionTitle","cardTextVisibility","publishDateVisibility","navigateToDetails"],[1,"col-lg-4","col-sm-12","col-xs-12","mt-2","order-lg-4","order-sm-4","order-4"],["loaderImage","media-loader.svg","nodataImage","advertisement-nodata.svg",3,"isLoadingData","isDataNotEmpty","nodataMessage","nodataHint"],[1,"height-lg",3,"cardData","routingPath","attachmentEntitiy","attachmentModule","cardActionTitle","advertisementDate","navigateToDetails"]],template:function(o,e){1&o&&(t.\u0275\u0275element(0,"app-page-header",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"app-nodata-or-loading",4),t.\u0275\u0275pipe(7,"isNotNullOrEmpty"),t.\u0275\u0275pipe(8,"abpLocalization"),t.\u0275\u0275pipe(9,"abpLocalization"),t.\u0275\u0275elementStart(10,"app-main-page-card",5),t.\u0275\u0275listener("navigateToDetails",function(){return e.onNavigateToDetails("offers",null==e.latestOffer?null:e.latestOffer.id)}),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(11,"div")(12,"div")(13,"app-nodata-or-loading",6),t.\u0275\u0275pipe(14,"isNotNullOrEmpty"),t.\u0275\u0275pipe(15,"abpLocalization"),t.\u0275\u0275pipe(16,"abpLocalization"),t.\u0275\u0275elementStart(17,"app-main-page-card",7),t.\u0275\u0275listener("navigateToDetails",function(){return e.onNavigateToDetails("events",null==e.latestEvent?null:e.latestEvent.id)}),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(18,"div",8)(19,"div",9),t.\u0275\u0275element(20,"app-calendar"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"div",10)(22,"div")(23,"div")(24,"app-nodata-or-loading",11),t.\u0275\u0275pipe(25,"isNotNullOrEmpty"),t.\u0275\u0275pipe(26,"abpLocalization"),t.\u0275\u0275pipe(27,"abpLocalization"),t.\u0275\u0275elementStart(28,"app-main-page-card",12),t.\u0275\u0275listener("navigateToDetails",function(){return e.onNavigateToDetails("news",null==e.latestNews?null:e.latestNews.id)}),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(29,"div",13)(30,"div")(31,"div")(32,"app-nodata-or-loading",14),t.\u0275\u0275pipe(33,"isNotNullOrEmpty"),t.\u0275\u0275pipe(34,"abpLocalization"),t.\u0275\u0275pipe(35,"abpLocalization"),t.\u0275\u0275elementStart(36,"app-main-page-card",15),t.\u0275\u0275listener("navigateToDetails",function(){return e.onNavigateToDetails("advertisements",null==e.latestAdvertisment?null:e.latestAdvertisment.id)}),t.\u0275\u0275elementEnd()()()()()()),2&o&&(t.\u0275\u0275advance(4),t.\u0275\u0275classProp("card-wrapping",!e.latestOffer),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("card-sm",!e.latestOffer),t.\u0275\u0275advance(1),t.\u0275\u0275property("isLoadingData",e.isLoading)("isDataNotEmpty",t.\u0275\u0275pipeBind1(7,57,e.latestOffer))("nodataMessage",t.\u0275\u0275pipeBind1(8,59,"CMSService::NoOffers"))("nodataHint",t.\u0275\u0275pipeBind1(9,61,"CMSService::ReturnLater")),t.\u0275\u0275advance(4),t.\u0275\u0275property("cardData",e.latestOffer)("routingPath","cms/offers")("attachmentEntitiy",e.AttachmentEntities.OffersImage.entity)("attachmentModule",e.AttachmentEntities.OffersImage.module)("cardActionTitle","CMSService::Offers:ViewAll")("endDateVisibility",!0),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("card-wrapping",!e.latestEvent),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("card-sm",!e.latestEvent),t.\u0275\u0275advance(1),t.\u0275\u0275property("isLoadingData",e.isLoading)("isDataNotEmpty",t.\u0275\u0275pipeBind1(14,63,e.latestEvent))("nodataMessage",t.\u0275\u0275pipeBind1(15,65,"CMSService::NoEvents"))("nodataHint",t.\u0275\u0275pipeBind1(16,67,"CMSService::ReturnLater")),t.\u0275\u0275advance(4),t.\u0275\u0275property("cardData",e.latestEvent)("routingPath","cms/events")("attachmentEntitiy",e.AttachmentEntities.EventsImage.entity)("attachmentModule",e.AttachmentEntities.EventsImage.module)("cardActionTitle","CMSService::Events:ViewAll")("eventDateVisibility",!0),t.\u0275\u0275advance(5),t.\u0275\u0275classProp("card-wrapping-lg",!e.latestNews),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("card-lg",!e.latestNews),t.\u0275\u0275advance(1),t.\u0275\u0275property("isLoadingData",e.isLoading)("isDataNotEmpty",t.\u0275\u0275pipeBind1(25,69,e.latestNews))("nodataMessage",t.\u0275\u0275pipeBind1(26,71,"CMSService::NoNews"))("nodataHint",t.\u0275\u0275pipeBind1(27,73,"CMSService::ReturnLater")),t.\u0275\u0275advance(4),t.\u0275\u0275property("cardData",e.latestNews)("routingPath","cms/news")("attachmentEntitiy",e.AttachmentEntities.NewsImage.entity)("attachmentModule",e.AttachmentEntities.NewsImage.module)("cardActionTitle","CMSService::News:ViewAll")("cardTextVisibility",!0)("publishDateVisibility",!0),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("card-wrapping-lg",!e.latestAdvertisment),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("card-lg",!e.latestAdvertisment),t.\u0275\u0275advance(1),t.\u0275\u0275property("isLoadingData",e.isLoading)("isDataNotEmpty",t.\u0275\u0275pipeBind1(33,75,e.latestAdvertisment))("nodataMessage",t.\u0275\u0275pipeBind1(34,77,"CMSService::NoAdvertisements"))("nodataHint",t.\u0275\u0275pipeBind1(35,79,"CMSService::ReturnLater")),t.\u0275\u0275advance(4),t.\u0275\u0275property("cardData",e.latestAdvertisment)("routingPath","cms/advertisements")("attachmentEntitiy",e.AttachmentEntities.AdvertismentsImage.entity)("attachmentModule",e.AttachmentEntities.AdvertismentsImage.module)("cardActionTitle","CMSService::Advertisment:ViewAll")("advertisementDate",!0))},dependencies:[p.PageHeaderComponent,d.NodataOrLoadingComponent,m.e,O,h.LocalizationPipe,d.IsNotNullOrEmptyStringPipe],styles:["[_nghost-%COMP%]  app-main-page-card:not(.height-lg)>.media-card{min-height:292.1px;max-height:292.1px;margin-bottom:0}[_nghost-%COMP%]  app-main-page-card:not(.height-lg)>.media-card img{min-height:292.1px;max-height:292.1px;margin-bottom:0}[_nghost-%COMP%]  app-main-page-card.height-lg>.media-card{min-height:616px;max-height:616px}[_nghost-%COMP%]  app-main-page-card.height-lg>.media-card img{min-height:616px;max-height:616px}.row[_ngcontent-%COMP%]   .card-wrapping[_ngcontent-%COMP%]{height:300px;padding:16px;border-radius:12px;border:1px solid var(--Neutral-200, #E2E8F0);background:var(--Basic-White, #FFF);box-shadow:0 6px 16px #0000000a}.row[_ngcontent-%COMP%]   .card-wrapping[_ngcontent-%COMP%]   .card-sm[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;padding:40px 16px;border-radius:12px;background:var(--primary-6, #F0F0F6)}.row[_ngcontent-%COMP%]   .card-wrapping-lg[_ngcontent-%COMP%]{height:616px;padding:16px;border-radius:12px;border:1px solid var(--Neutral-200, #E2E8F0);background:var(--Basic-White, #FFF);box-shadow:0 6px 16px #0000000a;margin-bottom:28px}.row[_ngcontent-%COMP%]   .card-wrapping-lg[_ngcontent-%COMP%]   .card-lg[_ngcontent-%COMP%]{background:var(--primary-6, #F0F0F6);height:100%;display:flex;align-items:center;justify-content:center;border-radius:12px}"]})}return n})()},{path:"details/:id",component:i(33814).j}];let S=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#a=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[s.RouterModule.forChild(w),s.RouterModule]})}return n})();var T=i(92134),L=i(68979);let A=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#a=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[S,T.b,m.e,L.a]})}return n})()}}]);