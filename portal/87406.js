(self.webpackChunkportal=self.webpackChunkportal||[]).push([[87406],{87406:(I,y,i)=>{i.r(y),i.d(y,{UnderApprovalDocumentLibraryModule:()=>X});var f=i(28675),c=i(78570),s=i(81011),g=i(4125),p=function(t){return t[t.Create=1]="Create",t[t.Delete=2]="Delete",t[t.Edit=3]="Edit",t}(p||{});(0,s.mapEnumToOptions)(p);var b=i(66035),E=i(32903),u=i(27437),C=i(92482),e=i(11705),h=i(62411),v=i(21786),x=i(82830),D=i(36503),T=i(13087),_=i(36394),S=i(74478),A=i(31093);function L(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(),l=e.\u0275\u0275reference(32);return e.\u0275\u0275resetView(a.resetDatepicker(l,"requestDateMin"))}),e.\u0275\u0275elementEnd()}}function M(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(),l=e.\u0275\u0275reference(42);return e.\u0275\u0275resetView(a.resetDatepicker(l,"requestDateMax"))}),e.\u0275\u0275elementEnd()}}let w=(()=>{class t extends c.AbstractAdvancedFilterComponent{constructor(n){super(!0),this._targetAudienceService=n,this.allTypes=[],this.searchSectorFn=this._searchSector.bind(this),this.searchDepartmentFn=this._searchDepartment.bind(this)}ngOnInit(){this._getTypeLookup(),this._getRequestType(),super.ngOnInit(),this.buildControlValueChanges()}initForm(){this.filtersForm=this.fb.group({sectorId:new c.FilterFormControl({filterTitle:"CMSService::DocumentSector",validatorOrOpts:[],filterValueFun:null}),mainDepartmentId:new c.FilterFormControl({filterTitle:"CMSService::Documents:GeneralAdministration",validatorOrOpts:[],filterValueFun:null}),documentCategory:new c.FilterFormControl({filterTitle:"CMSService::DocumentType",validatorOrOpts:[],filterValueFun:n=>this.allTypes.find(r=>r.id==n).displayName}),statusTypeEnum:new c.FilterFormControl({filterTitle:"CMSService::Documents:RequestType",validatorOrOpts:[],filterValueFun:n=>this.requestType.find(r=>r.id==n).displayName}),requestDateMin:new c.FilterFormControl({filterTitle:"CMSService::Documents:RequestDateFrom",validatorOrOpts:[]}),requestDateMax:new c.FilterFormControl({filterTitle:"CMSService::Documents:RequestDateTo",validatorOrOpts:[]})})}buildControlValueChanges(){const n=this.filtersForm.controls.sectorId;n.valueChanges.pipe((0,g.startWith)(n.value),(0,g.pairwise)()).subscribe(([r,a])=>{r!=a&&this.filtersForm.controls.mainDepartmentId.setValue(void 0)})}_searchSector(n){return this._targetAudienceService.getCstSectorLookUpByInput(n)}_searchDepartment(n){const r=this.filtersForm.controls.sectorId.value;return r?this._targetAudienceService.getCstGeneralDepartmentsBySectorIdBySectorIdAndInput(r,n):(0,g.of)([])}_getRequestType(){this.requestType=Object.values(p).filter(n=>!1===isNaN(Number(n))).map(n=>({id:n,displayName:this.localizationService.instant("CMSService::Enum:RequestType:"+n)}))}_getTypeLookup(){const n=Object.values(D.b).filter(r=>!1===isNaN(Number(r))).map(r=>({id:r,displayName:this.localizationService.instant("CMSService::Enum:DocumentCategory:"+r)}));this.allTypes=n}static#e=this.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(T.d))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-under-approval-document-library-filters"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:54,vars:40,consts:[[3,"filterText","isShowFilters","searchInputText","advancedSearchText","filterTextChange","showAdvancedFilter"],[1,"filters-form",3,"formGroup","validateOnSubmit","ngSubmit"],[1,"scroll-bar"],[1,"row"],[1,"form-group","col-12","mt-3"],[1,"form-label"],["formControlName","sectorId",3,"searchFn","valueChanged"],[1,"form-group","col-12","mt-2"],["formControlName","mainDepartmentId",3,"searchFn","valueChanged"],[1,"mb-1","form-label"],["formControlName","documentCategory","bindLabel","displayName","bindValue","id",3,"items"],["formControlName","statusTypeEnum","bindLabel","displayName","bindValue","id",3,"items"],[1,"form-group","mt-2"],[1,"date-picker-container",3,"click"],["name","datepicker","formControlName","requestDateMin","ngbDatepicker","","datepickerClass","filter-calendar",1,"form-control"],["requestDateMin","ngbDatepicker"],[1,"date-picker-icon"],["class","icon-x mx-1",3,"click",4,"ngIf"],[1,"icon-calendar"],[1,"form-group","mt-3"],["name","datepicker","formControlName","requestDateMax","ngbDatepicker","","datepickerClass","filter-calendar",1,"form-control"],["requestDateMax","ngbDatepicker"],[1,"filter-actions"],["type","submit",1,"btn","btn-primary","d-flex","align-item-center"],["type","button",1,"btn","btn-close-bar",3,"click"],[1,"icon-x","mx-1",3,"click"]],template:function(r,a){if(1&r){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-sw-filter",0),e.\u0275\u0275listener("filterTextChange",function(m){return a.chnageFilterText(m)})("showAdvancedFilter",function(m){return m?a.showFilterSidebar():a.closeFilterSidebar()}),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementStart(3,"form",1),e.\u0275\u0275listener("ngSubmit",function(){return a.submitFilterForm()}),e.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"app-ng-select-auto-complete",6),e.\u0275\u0275listener("valueChanged",function(m){return a.changeFilterValueForDropDown(m,"sectorId")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"label",5),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"app-ng-select-auto-complete",8),e.\u0275\u0275listener("valueChanged",function(m){return a.changeFilterValueForDropDown(m,"mainDepartmentId")}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",7)(17,"label",9),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"ng-select",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",7)(22,"label",9),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"ng-select",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",12)(27,"label",9),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const m=e.\u0275\u0275reference(32);return e.\u0275\u0275resetView(m.toggle())}),e.\u0275\u0275element(31,"input",14,15),e.\u0275\u0275elementStart(33,"div",16),e.\u0275\u0275template(34,L,1,0,"i",17),e.\u0275\u0275element(35,"i",18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(36,"div",19)(37,"label",9),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const m=e.\u0275\u0275reference(42);return e.\u0275\u0275resetView(m.toggle())}),e.\u0275\u0275element(41,"input",20,21),e.\u0275\u0275elementStart(43,"div",16),e.\u0275\u0275template(44,M,1,0,"i",17),e.\u0275\u0275element(45,"i",18),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(46,"div",22)(47,"button",23)(48,"span"),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"button",24),e.\u0275\u0275listener("click",function(){return a.filtersForm.reset()}),e.\u0275\u0275text(52),e.\u0275\u0275pipe(53,"abpLocalization"),e.\u0275\u0275elementEnd()()()()}2&r&&(e.\u0275\u0275property("filterText",a.quickFilter.filterValue)("isShowFilters",a.isShowFilters)("searchInputText",e.\u0275\u0275pipeBind1(1,20,"CMSService::Documents:Search"))("advancedSearchText",e.\u0275\u0275pipeBind1(2,22,"CMSService::Documents:FilterDocuments")),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",a.filtersForm)("validateOnSubmit",!0),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,24,"CMSService::DocumentSector")),e.\u0275\u0275advance(2),e.\u0275\u0275property("searchFn",a.searchSectorFn),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,26,"CMSService::Documents:GeneralAdministration")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("searchFn",a.searchDepartmentFn),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,28,"CMSService::DocumentType")),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",a.allTypes),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,30,"CMSService::Documents:RequestType")),e.\u0275\u0275advance(2),e.\u0275\u0275property("items",a.requestType),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,32,"CMSService::Documents:RequestDateFrom")," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",a.filtersForm.controls.requestDateMin.value),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,34,"CMSService::Documents:RequestDateTo")," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",a.filtersForm.controls.requestDateMax.value),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(50,36,"::AdvancedFilter:Refresh")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(53,38,"::AdvancedFilter:Clear")," "))},dependencies:[h.NgIf,_.\u0275NgNoValidate,_.DefaultValueAccessor,_.NgControlStatus,_.NgControlStatusGroup,_.FormGroupDirective,_.FormControlName,s.FormSubmitDirective,S.ValidationGroupDirective,S.ValidationDirective,C.NgSelectAutoCompleteComponent,C.SwFilterComponent,A.NgSelectComponent,x.NgbInputDatepicker,s.LocalizationPipe],encapsulation:2})}return t})();function B(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span",19),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&t){const n=o.column,r=o.rowIndex,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",a.list.page*a.list.maxResultCount+r+1,"")}}function P(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span",20),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("ngbTooltip",r.fileName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.fileName," ")}}function N(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization")),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"CMSService::Enum:DocumentCategory:"+r.documentCategory)," ")}}function U(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2)),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.sectorName," ")}}function O(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2)),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.mainDepartmentName," ")}}function R(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization")),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"CMSService::Enum:RequestType:"+r.statusTypeEnum)," ")}}function z(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization")),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"CMSService::Documents:RequestStatus:"+r.requestStatusEnum)," ")}}function V(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"date")),2&t){const n=o.column,r=o.row,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(3,2,r.requestDate,a.AppConsts.DateOnlyFormat)," ")}}function j(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(2)),2&t){const n=o.column,r=o.row;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.userName," ")}}function G(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext().row,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.approveDocument(a.id,a.statusTypeEnum))}),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275element(2,"i",28),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"CMSService::Documents:Approve"))}function W(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext().row,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.rejectDocument(a.id,a.statusTypeEnum))}),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275element(2,"i",30),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"CMSService::Documents:Reject"))}function k(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275element(2,"i",32),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"CMSService::Documents:Download"))}function K(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275elementStart(2,"div",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext().row,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.deleteDocument(a.id,a.statusTypeEnum))}),e.\u0275\u0275element(3,"i",35),e.\u0275\u0275elementEnd()()}2&t&&e.\u0275\u0275propertyInterpolate("ngbTooltip",e.\u0275\u0275pipeBind1(1,1,"AbpUi::Delete"))}function H(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",21),e.\u0275\u0275template(3,G,3,3,"div",22),e.\u0275\u0275template(4,W,3,3,"div",23),e.\u0275\u0275elementStart(5,"app-base64-file-preview",24),e.\u0275\u0275pipe(6,"attachmentFile"),e.\u0275\u0275template(7,k,3,3,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,K,4,3,"div",26),e.\u0275\u0275elementEnd()),2&t){const n=o.column,r=o.row,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("abpPermission","CMSService.Documents.Approve"),e.\u0275\u0275advance(1),e.\u0275\u0275property("abpPermission","CMSService.Documents.Approve"),e.\u0275\u0275advance(1),e.\u0275\u0275property("previewMode",a.PreviewModeEnum.Link)("base64File",e.\u0275\u0275pipeBind3(6,6,r.fileAttachmentId,a.entity,"cms-service/documents")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!a.canCancel)}}function Y(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-nodata-or-loading",36),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementStart(4,"div",37)(5,"app-pager",38),e.\u0275\u0275listener("pageNumberChanged",function(a){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onPageNumberChange(a))})("pageSizeChanged",function(a){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext(),d=e.\u0275\u0275reference(7);return e.\u0275\u0275resetView(l.onPageSizeChange(a,d))}),e.\u0275\u0275elementEnd()()}if(2&t){const n=o.rowCount,r=o.pageSize,a=o.curPage,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("isLoadingData",l.service.isLoading)("isDataNotEmpty",l.service.data.items.length>0)("isDataFiltered",l.service.isFiltering)("nodataMessage",e.\u0275\u0275pipeBind1(1,9,"CMSService::NoDocumentsCurrently"))("noFilterResultMessage",e.\u0275\u0275pipeBind1(2,11,"CMSService::DocumentsNoFilterResult"))("noFilterResultHint",e.\u0275\u0275pipeBind1(3,13,"CMSService::ChangeFilters")),e.\u0275\u0275advance(5),e.\u0275\u0275property("page",a)("size",r)("count",n)}}function Z(t){return new c.ListFilterService((n,r)=>t.getList({...n,requestStatus:E.e.InProgress},r))}const q=[{path:"",component:(()=>{class t extends c.AbstractListComponent{constructor(n,r,a,l){super(),this._documentService=n,this._permissionService=r,this._toasterService=a,this.service=l,this.PreviewModeEnum=c.PreviewModeEnum,this.AppConsts=C.AppConsts}ngOnInit(){this.entity="ar"===this.localizationService.currentLang?"ArDocumentAttachment":"EnDocumentAttachment",this.canCancel=this._permissionService.getGrantedPolicy("CMSService.Documents.Approve")}approveDocument(n,r){this.confirmationService.warn("CMSService::Documents:CONF005","CMSService::Documents:ApproveConfirmation",void 0,{yesSeverity:"success",yesText:"CMSService::Documents:YesApproveConfirmation"}).pipe((0,g.filter)(a=>a===c.SWConfirmation.SWStatus.confirm)).subscribe(()=>{r===p.Create?this._documentService.approveCreateById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Delete?this._documentService.approveDeleteById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Edit&&this._documentService.approveEditById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()})})}rejectDocument(n,r){this.confirmationService.warn("CMSService::Documents:CONF006","CMSService::Documents:RejectConfirmation",void 0,{yesSeverity:"error",yesText:"CMSService::Documents:YesRejectConfirmation"}).pipe((0,g.filter)(a=>a===c.SWConfirmation.SWStatus.confirm)).subscribe(()=>{r===p.Create?this._documentService.rejectCreateById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Delete?this._documentService.rejectDeleteById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Edit&&this._documentService.rejectEditById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()})})}deleteDocument(n,r){const a=this.localizationService.instant("CMSService::Enum:RequestType:"+r);this.confirmationService.warn("CMSService::Documents:CONF021","::DeleteConfimation",void 0,{yesSeverity:"error",yesText:"::DeleteConfimation:SaveButton",messageLocalizationParams:[a]}).pipe((0,g.filter)(l=>l===c.SWConfirmation.SWStatus.confirm)).subscribe(()=>{r===p.Create?this._documentService.rejectCreateById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Delete?this._documentService.rejectDeleteById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()}):r===p.Edit&&this._documentService.rejectEditById(n).subscribe(()=>{this._toasterService.success("::Success"),this.list.get()})})}static#e=this.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(b.Z),e.\u0275\u0275directiveInject(s.PermissionService),e.\u0275\u0275directiveInject(u.ToasterService),e.\u0275\u0275directiveInject(c.ListFilterService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-under-approval-document-library"]],features:[e.\u0275\u0275ProvidersFeature([s.ListService,c.SelectedFiltersBannerService,{provide:c.ListFilterService,useFactory:Z,deps:[b.Z]}]),e.\u0275\u0275InheritDefinitionFeature],decls:39,vars:46,consts:[[3,"pageTitle","icon"],[1,"card","mt-3","ngx-datatable-card"],[1,"card-body","p-3"],[1,"ngx-datatable-container"],["default","",3,"rows","count","list","columnMode"],["table",""],["name","#",3,"flexGrow"],["ngx-datatable-cell-template",""],["prop","fileName",3,"name","flexGrow"],["prop","documentCategory",3,"name","flexGrow"],["prop","sectorName",3,"name","flexGrow"],["prop","mainDepartmentName",3,"name","flexGrow"],["prop","requestStatus",3,"name","flexGrow"],[3,"name","flexGrow"],["prop","requestDate",3,"name","flexGrow"],["prop","userName",3,"name","flexGrow"],[3,"flexGrow","sortable","name"],["ngx-datatable-footer-template","","ngx-datatable-footer-template",""],[1,"column-label"],[1,"text-bold"],["container","body",1,"text-bold",3,"ngbTooltip"],[1,"table-actions"],["class","btn btn-outline-success","placement","top","container","body",3,"ngbTooltip","click",4,"abpPermission"],["class","btn btn-outline-danger","placement","top","container","body",3,"ngbTooltip","click",4,"abpPermission"],[3,"previewMode","base64File"],["customLinkTemplate",""],["placement","top","container","body",3,"ngbTooltip",4,"ngIf"],["placement","top","container","body",1,"btn","btn-outline-success",3,"ngbTooltip","click"],[1,"icon-check"],["placement","top","container","body",1,"btn","btn-outline-danger",3,"ngbTooltip","click"],[1,"icon-x"],["placement","top","container","body",1,"btn","btn-outline-primary",3,"ngbTooltip"],[1,"icon-download"],["placement","top","container","body",3,"ngbTooltip"],[1,"btn","btn-outline-danger",3,"click"],[1,"icon-trash"],["loaderImage","table.svg","nodataImage","books.svg","noFilterResultImage","no-filter-result.svg",3,"isLoadingData","isDataNotEmpty","isDataFiltered","nodataMessage","noFilterResultMessage","noFilterResultHint"],[1,"w-100","footer"],[3,"page","size","count","pageNumberChanged","pageSizeChanged"]],template:function(r,a){1&r&&(e.\u0275\u0275elementStart(0,"app-page-header",0),e.\u0275\u0275element(1,"app-under-approval-document-library-filters"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"app-selected-filters-banner"),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2)(5,"div",3)(6,"ngx-datatable",4,5)(8,"ngx-datatable-column",6),e.\u0275\u0275template(9,B,4,2,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ngx-datatable-column",8),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275template(12,P,4,3,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ngx-datatable-column",9),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275template(15,N,4,4,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ngx-datatable-column",10),e.\u0275\u0275pipe(17,"abpLocalization"),e.\u0275\u0275template(18,U,3,2,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"ngx-datatable-column",11),e.\u0275\u0275pipe(20,"abpLocalization"),e.\u0275\u0275template(21,O,3,2,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"ngx-datatable-column",12),e.\u0275\u0275pipe(23,"abpLocalization"),e.\u0275\u0275template(24,R,4,4,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"ngx-datatable-column",13),e.\u0275\u0275pipe(26,"abpLocalization"),e.\u0275\u0275template(27,z,4,4,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"ngx-datatable-column",14),e.\u0275\u0275pipe(29,"abpLocalization"),e.\u0275\u0275template(30,V,4,5,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"ngx-datatable-column",15),e.\u0275\u0275pipe(32,"abpLocalization"),e.\u0275\u0275template(33,j,3,2,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"ngx-datatable-column",16),e.\u0275\u0275pipe(35,"abpLocalization"),e.\u0275\u0275template(36,H,10,10,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"ngx-datatable-footer"),e.\u0275\u0275template(38,Y,6,15,"ng-template",17),e.\u0275\u0275elementEnd()()()()()),2&r&&(e.\u0275\u0275property("pageTitle","CMSService::Menu:SuspendedDocumentLibrary")("icon","library-icon"),e.\u0275\u0275advance(6),e.\u0275\u0275classProp("is-empty",a.service.isLoading||0===a.service.data.items.length),e.\u0275\u0275property("rows",a.service.data.items)("count",a.service.data.totalCount)("list",a.list)("columnMode","flex"),e.\u0275\u0275advance(2),e.\u0275\u0275property("flexGrow",1),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(11,28,"CMSService::DocumentFileName")),e.\u0275\u0275property("flexGrow",5),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(14,30,"CMSService::DocumentType")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(17,32,"CMSService::DocumentSector")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(20,34,"CMSService::Documents:mainDepartment")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(23,36,"CMSService::Documents:RequestType")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(26,38,"CMSService::Documents:RequestStatus")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(29,40,"CMSService::Documents:RequestDate")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(32,42,"CMSService::DocumentUsername")),e.\u0275\u0275property("flexGrow",2),e.\u0275\u0275advance(3),e.\u0275\u0275property("flexGrow",3)("sortable",!1)("name",e.\u0275\u0275pipeBind1(35,44,"AbpUi::Actions")))},dependencies:[h.NgIf,s.PermissionDirective,v.DatatableComponent,v.DataTableColumnDirective,v.DataTableColumnCellDirective,v.DataTableFooterTemplateDirective,v.DatatableFooterDirective,u.NgxDatatableDefaultDirective,u.NgxDatatableListDirective,c.PageHeaderComponent,c.Base64FilePerviewComponent,c.SelectedFiltersBannerComponent,C.PagerComponent,C.NodataOrLoadingComponent,x.NgbTooltip,w,h.DatePipe,s.LocalizationPipe,c.AttachmentPipe],styles:[".column-label[_ngcontent-%COMP%]{display:none}.text-bold[_ngcontent-%COMP%]{font-weight:700}app-nodata-or-loading[_ngcontent-%COMP%]{min-height:230px}"]})}return t})(),canActivate:[s.PermissionGuard],data:{requiredPolicy:"CMSService.Documents"}}];let J=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.RouterModule.forChild(q),f.RouterModule]})}return t})();var Q=i(92134);let X=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[Q.b,J]})}return t})()},92134:(I,y,i)=>{i.d(y,{b:()=>_});var f=i(81011),s=i(92482),p=i(78570),b=i(37385),u=i(82830),e=i(31093),v=i(62411),D=i(11705);let _=(()=>{class S{static#e=this.\u0275fac=function(M){return new(M||S)};static#t=this.\u0275mod=D.\u0275\u0275defineNgModule({type:S});static#n=this.\u0275inj=D.\u0275\u0275defineInjector({imports:[f.CoreModule,s.SharedModule,p.AbpUtilsModule,b.NgScrollbarModule,f.CoreModule,p.AbpUtilsModule,s.SharedModule,u.NgbTooltipModule,e.NgSelectModule,v.CommonModule,b.NgScrollbarModule,u.NgbDropdownModule,u.NgbDatepickerModule]})}return S})()}}]);