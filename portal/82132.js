(self.webpackChunkportal=self.webpackChunkportal||[]).push([[82132],{82132:(Xt,W,m)=>{m.r(W),m.d(W,{CSTLayoutComponent:()=>Kt});var l=m(92482),e=m(11705);let U=(()=>{class i{getPosition(){return new Promise((t,o)=>{navigator.geolocation.getCurrentPosition(n=>{t({lng:n.coords.longitude,lat:n.coords.latitude})},n=>{o(n)})})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var u=m(81011),d=m(4125);let X=(()=>{class i{constructor(t){this.restService=t,this.apiName="CMSService",this.getPrayerTimesByInput=(o,n)=>this.restService.request({method:"GET",url:"/api/cms-service/prayer-time",params:{latitude:o.latitude,longitude:o.longitude}},{apiName:this.apiName,...n})}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(u.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var g=m(62411);function Z(i,a){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"CMSService::PrayerAzan")))}function q(i,a){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"CMSService::PrayerAzan")))}let ee=(()=>{class i{constructor(t,o,n){this.locationService=t,this.prayerTimePublicService=o,this.localization=n,this.showPrayerTime=!1,this.AppConsts=l.AppConsts,this.Remmaning=new e.EventEmitter}ngOnInit(){this.getLocation()}getLocation(){let t={latitude:null,longitude:null};this.locationService.getPosition().then(o=>{t={latitude:o.lat,longitude:o.lng}}).finally(()=>{this.getPrayerTime(t)})}getPrayerTime(t){this.sub$=this.prayerTimePublicService.getPrayerTimesByInput(t).pipe().subscribe(o=>{this.prayerTime=o,this.getNextPrayer(o),this.getPrayerList(o),(0,d.timer)(1e3*(60-(new Date).getSeconds()),6e4).subscribe(()=>{this.getNextPrayer(o),this.getPrayerList(o)})})}getNextPrayer(t){delete t.date;const o=/\d+:\d+/,n=Object.entries(t).map(([M,x])=>{const[b,B]=x.match(o)[0].split(":").map(Number),K=new Date;return K.setHours(b,B,0,0),{key:M,date:K}}).sort((M,x)=>M.date.getTime()-x.date.getTime()),r=new Date;let c=n.find(({date:M})=>r<=M),p=!1;c||(c=n[0],p=r.getHours()>0),this.next=t[c.key],this.calculateRemmanning(p)}calculateRemmanning(t){const[n,r]=this.next.match(/\d+:\d+/)[0].split(":").map(Number),c=new Date;c.setHours(n,r,0,0),t&&c.setDate(c.getDate()+1);const p=new Date,x=(c.getTime()-p.getTime())/36e5,b=Math.floor(x),B=Math.floor(x%1*60);this.remanning=`${this.localization.instant("CMSService::PrayerRemmaing")} ${b} ${this.localization.instant("CMSService::PrayerHourAnd")} ${B} ${this.localization.instant("CMSService::PrayerMinute")}`,this.Tolayout=`${b} ${this.localization.instant("CMSService::PrayerHourAnd")} ${B} ${this.localization.instant("CMSService::PrayerMinute")}`}togglePrayerTime(){this.isToggle=!0,this.showPrayerTime=!this.showPrayerTime}getPrayerList(t){const o=[{id:1,name:this.localization.instant("CMSService::PrayerFajr"),time:t.fajr},{id:2,name:this.localization.instant("CMSService::PrayerSunRises"),time:t.sunrise},{id:3,name:this.localization.instant("CMSService::PrayerDuhr"),time:t.dhuhr},{id:4,name:this.localization.instant("CMSService::PrayerAsr"),time:t.asr},{id:5,name:this.localization.instant("CMSService::PrayerMaghrib"),time:t.maghrib},{id:6,name:this.localization.instant("CMSService::PrayerIsha"),time:t.isha}];this.nextPrayer=o.find(n=>n.time===this.next.toString()),this.isNextSunrise=2===this.nextPrayer.id,this.Remmaning.emit({prayer:this.nextPrayer,remanning:this.Tolayout,isNextSunrise:this.isNextSunrise})}ngOnDestroy(){this.sub$?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(U),e.\u0275\u0275directiveInject(X),e.\u0275\u0275directiveInject(u.LocalizationService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-prayer-time"]],outputs:{Remmaning:"Remmaning"},decls:141,vars:127,consts:[[1,"prayer-time-lg",3,"ngClass"],[1,"next-prayer"],["src","../../assets/images/mousqe.svg","alt","Mousqe"],[1,"details"],[1,"title"],[4,"ngIf"],[1,"time"],[1,"remaining"],[1,"remaining-prayers"],[1,"logo","fajr-logo"],["src","../../assets/images/fajr.svg","alt","Fajr",1,"fajr"],[1,"logo"],["src","../../assets/images/sun-rise.svg","alt","Sunrise",1,"sunrise"],["src","../../assets/images/Duhr.svg","alt","Duhr",1,"duhr"],["src","../../assets/images/Asr.svg","alt","Asr",1,"asr"],["src","../../assets/images/Maghrib.svg","alt","Maghrib",1,"maghrib"],["src","../../assets/images/Isha.svg","alt","Isha",1,"isha"],[1,"prayer-time-sm",3,"ngClass"],[1,"layout"],[1,"time-details"],["src","../../assets/images/mousqe.svg","alt","Sun"],["src","../../assets/images/fajr.svg","alt","Fajr"],["src","../../assets/images/sun-rise.svg","alt","Sun Rises"],["src","../../assets/images/Duhr.svg","alt","Duhr"],["src","../../assets/images/Asr.svg","alt","Asr"],["src","../../assets/images/Maghrib.svg","alt","Maghrib"],["src","../../assets/images/Isha.svg","alt","Isha"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"img",2),e.\u0275\u0275elementStart(3,"div",3)(4,"span",4),e.\u0275\u0275template(5,Z,3,3,"ng-container",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"date"),e.\u0275\u0275pipe(10,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",7),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",8)(14,"span",9),e.\u0275\u0275element(15,"img",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"span",4),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"span",6),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"date"),e.\u0275\u0275pipe(22,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",8)(24,"span",11),e.\u0275\u0275element(25,"img",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"span",4),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"span",6),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"date"),e.\u0275\u0275pipe(32,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",8)(34,"span",11),e.\u0275\u0275element(35,"img",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"span",4),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"span",6),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"date"),e.\u0275\u0275pipe(42,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",8)(44,"span",11),e.\u0275\u0275element(45,"img",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"span",4),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"span",6),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"date"),e.\u0275\u0275pipe(52,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",8)(54,"span",11),e.\u0275\u0275element(55,"img",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"span",4),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"span",6),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"date"),e.\u0275\u0275pipe(62,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",8)(64,"span",11),e.\u0275\u0275element(65,"img",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"span",4),e.\u0275\u0275text(67),e.\u0275\u0275pipe(68,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"span",6),e.\u0275\u0275text(70),e.\u0275\u0275pipe(71,"date"),e.\u0275\u0275pipe(72,"timeToDate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(73,"div",17)(74,"div",18)(75,"div",4)(76,"span"),e.\u0275\u0275template(77,q,3,3,"ng-container",5),e.\u0275\u0275text(78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"span"),e.\u0275\u0275text(80),e.\u0275\u0275pipe(81,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(82,"span"),e.\u0275\u0275text(83),e.\u0275\u0275pipe(84,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"span"),e.\u0275\u0275text(86),e.\u0275\u0275pipe(87,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"span"),e.\u0275\u0275text(89),e.\u0275\u0275pipe(90,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(91,"span"),e.\u0275\u0275text(92),e.\u0275\u0275pipe(93,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(94,"span"),e.\u0275\u0275text(95),e.\u0275\u0275pipe(96,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(97,"div",6)(98,"div",19),e.\u0275\u0275text(99),e.\u0275\u0275elementStart(100,"span"),e.\u0275\u0275text(101),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(102,"span"),e.\u0275\u0275text(103),e.\u0275\u0275pipe(104,"date"),e.\u0275\u0275pipe(105,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(106,"span"),e.\u0275\u0275text(107),e.\u0275\u0275pipe(108,"date"),e.\u0275\u0275pipe(109,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(110,"span"),e.\u0275\u0275text(111),e.\u0275\u0275pipe(112,"date"),e.\u0275\u0275pipe(113,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(114,"span"),e.\u0275\u0275text(115),e.\u0275\u0275pipe(116,"date"),e.\u0275\u0275pipe(117,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(118,"span"),e.\u0275\u0275text(119),e.\u0275\u0275pipe(120,"date"),e.\u0275\u0275pipe(121,"timeToDate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(122,"span"),e.\u0275\u0275text(123),e.\u0275\u0275pipe(124,"date"),e.\u0275\u0275pipe(125,"timeToDate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(126,"div",11)(127,"span"),e.\u0275\u0275element(128,"img",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(129,"span"),e.\u0275\u0275element(130,"img",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(131,"span"),e.\u0275\u0275element(132,"img",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(133,"span"),e.\u0275\u0275element(134,"img",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(135,"span"),e.\u0275\u0275element(136,"img",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(137,"span"),e.\u0275\u0275element(138,"img",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(139,"span"),e.\u0275\u0275element(140,"img",26),e.\u0275\u0275elementEnd()()()()),2&o&&(e.\u0275\u0275styleProp("visibility",n.isToggle?"visible":"hidden"),e.\u0275\u0275property("ngClass",n.showPrayerTime?"showPrayerTime":"hidePrayerTime"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!n.isNextSunrise),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==n.nextPrayer?null:n.nextPrayer.name,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(9,38,e.\u0275\u0275pipeBind1(10,41,null==n.nextPrayer?null:n.nextPrayer.time),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.remanning),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,43,"CMSService::PrayerFajr")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(21,45,e.\u0275\u0275pipeBind1(22,48,null==n.prayerTime?null:n.prayerTime.fajr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,50,"CMSService::PrayerSunRises")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(31,52,e.\u0275\u0275pipeBind1(32,55,null==n.prayerTime?null:n.prayerTime.sunrise),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,57,"CMSService::PrayerDuhr")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(41,59,e.\u0275\u0275pipeBind1(42,62,null==n.prayerTime?null:n.prayerTime.dhuhr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(48,64,"CMSService::PrayerAsr")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(51,66,e.\u0275\u0275pipeBind1(52,69,null==n.prayerTime?null:n.prayerTime.asr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(58,71,"CMSService::PrayerMaghrib")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(61,73,e.\u0275\u0275pipeBind1(62,76,null==n.prayerTime?null:n.prayerTime.maghrib),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(68,78,"CMSService::PrayerIsha")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(71,80,e.\u0275\u0275pipeBind1(72,83,null==n.prayerTime?null:n.prayerTime.isha),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(3),e.\u0275\u0275styleProp("visibility",n.isToggle?"visible":"hidden"),e.\u0275\u0275property("ngClass",n.showPrayerTime?"showPrayerTime":"hidePrayerTime"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.isNextSunrise),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==n.nextPrayer?null:n.nextPrayer.name,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(81,85,"CMSService::PrayerFajr")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(84,87,"CMSService::PrayerSunRises")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(87,89,"CMSService::PrayerDuhr")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(90,91,"CMSService::PrayerAsr")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(93,93,"CMSService::PrayerMaghrib")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(96,95,"CMSService::PrayerIsha")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",null==n.nextPrayer?null:n.nextPrayer.time," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.remanning," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(104,97,e.\u0275\u0275pipeBind1(105,100,null==n.prayerTime?null:n.prayerTime.fajr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(108,102,e.\u0275\u0275pipeBind1(109,105,null==n.prayerTime?null:n.prayerTime.sunrise),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(112,107,e.\u0275\u0275pipeBind1(113,110,null==n.prayerTime?null:n.prayerTime.dhuhr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(116,112,e.\u0275\u0275pipeBind1(117,115,null==n.prayerTime?null:n.prayerTime.asr),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(120,117,e.\u0275\u0275pipeBind1(121,120,null==n.prayerTime?null:n.prayerTime.maghrib),n.AppConsts.TimeOnlyFormat)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(124,122,e.\u0275\u0275pipeBind1(125,125,null==n.prayerTime?null:n.prayerTime.isha),n.AppConsts.TimeOnlyFormat)," "))},dependencies:[g.NgClass,g.NgIf,g.DatePipe,u.LocalizationPipe,l.TimeToDatePipe],styles:[".prayer-time-lg[_ngcontent-%COMP%]{background:rgba(15,23,42,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:41px 80px;display:flex;justify-content:space-between;align-items:center;position:fixed;z-index:99;bottom:0;width:100vw;transition:padding .9s ease}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:40px}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:16px;width:96px;height:110px}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;color:#fff}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-radius:4px;background:var(--neutral-900, #0f172a);padding:6px 12px;font-size:.875rem;text-align:center;width:-moz-fit-content;width:fit-content}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:var(--basic-white, #fff);font-size:2.5rem}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{color:var(--basic-white, #fff);font-size:1rem;font-style:normal}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]{color:#fff;display:grid;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-radius:4px;background:var(--neutral-900, #0F172A);padding:6px 12px;font-size:.75rem;color:#fff;text-align:center;width:-moz-fit-content;width:fit-content}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;justify-content:center}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:var(--basic-white, #fff);text-align:center;font-size:1.25rem}.prayer-time-sm[_ngcontent-%COMP%]{display:none;background:rgba(15,23,42,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:16px;justify-content:space-between;align-items:center;position:fixed;z-index:var(--z-index-bottom-layer);bottom:0;width:100vw;border-radius:12px 12px 0 0}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center;margin-bottom:20px}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:grid;grid-gap:45px;justify-content:center;align-items:center;color:var(--basic-white, #fff);font-size:.875rem}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px;background:var(--neutral-900, #0f172a);text-align:center}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:var(--basic-white, #fff);text-align:center;font-size:1.25rem;display:grid;grid-gap:49px}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .time-details[_ngcontent-%COMP%]{display:grid}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .time-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:grid;grid-gap:37px}.prayer-time-sm[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:42px;height:42px}.showPrayerTime[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideFromBottom .3s forwards}.hidePrayerTime[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideToBottom .4s forwards}@keyframes _ngcontent-%COMP%_slideFromBottom{0%{bottom:-100px;opacity:0}to{bottom:0;opacity:1}}@keyframes _ngcontent-%COMP%_slideToBottom{0%{transform:translateY(0);opacity:1}to{transform:translateY(100%);opacity:0}}@media (min-width: 1200px){.prayer-time-sm[_ngcontent-%COMP%]{display:none}}@media (max-width: 1199px){.prayer-time-lg[_ngcontent-%COMP%]{grid-gap:5px}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:95px}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-gap:10px}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;margin-bottom:0}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:1.25rem}.prayer-time-lg[_ngcontent-%COMP%]   .next-prayer[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%], .prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.625rem;font-weight:500}.prayer-time-lg[_ngcontent-%COMP%]   .remaining-prayers[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.625rem;font-weight:700}.prayer-time-sm[_ngcontent-%COMP%]{display:none}}@media (max-width: 991px){.prayer-time-lg[_ngcontent-%COMP%]{display:none}.prayer-time-sm[_ngcontent-%COMP%]{display:block}}"],data:{animation:[l.SmoothToggle]}})}return i})(),te=(()=>{class i{constructor(t){this.restService=t,this.apiName="CMSService",this.getWeatherForcastByInput=(o,n)=>this.restService.request({method:"GET",url:"/api/CMS-service/Weather",params:{latitude:o.latitude,longitude:o.longitude}},{apiName:this.apiName,...n})}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(u.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ne(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",4)(2,"span",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span",13),e.\u0275\u0275element(6,"img",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(4,4,t.day,"EEEE")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("src",t.conditionIcon,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" \u0652 ",t.maxtemp," / \u0652 ",t.mintemp," ")}}function ie(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.locationText)}}function oe(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",16)(1,"div",2)(2,"span",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span",6),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",13),e.\u0275\u0275element(8,"img",17),e.\u0275\u0275elementEnd()()()),2&i){const t=a.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(4,4,t.day,"EEEE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2(" \u0652 ",t.maxtemp," / \u0652 ",t.mintemp," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("src",t.conditionIcon,e.\u0275\u0275sanitizeUrl)}}let ae=(()=>{class i{constructor(t,o){this.locationService=t,this.weatherService=o,this.showWeather=!1,this.todayWeather=new e.EventEmitter,this.location=new e.EventEmitter}ngOnInit(){this.getLocation()}getLocation(){let t={latitude:null,longitude:null};this.locationService.getPosition().then(o=>{t={latitude:o.lat,longitude:o.lng}}).finally(()=>{this.getWeather(t)})}getWeather(t){this.sub$=this.weatherService.getWeatherForcastByInput(t).subscribe(o=>{o&&(this.AllWeatherList=o.dayWeatherDtos.map(n=>({...n,mintemp:+n.mintemp.toFixed(),maxtemp:+n.maxtemp.toFixed()})),this.weatherList=this.AllWeatherList.slice(1),this.today=this.AllWeatherList[0],this.locationText=o.location,this.todayWeather.emit(this.today),this.location.emit(o.location))})}displayWeather(){this.isToggle=!0,this.showWeather=!this.showWeather}ngOnDestroy(){this.sub$?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(U),e.\u0275\u0275directiveInject(te))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-weather"]],outputs:{todayWeather:"todayWeather",location:"location"},decls:21,vars:13,consts:[[1,"weather-layout",3,"ngClass"],[1,"layout-lg"],[1,"current"],[3,"src","alt"],[1,"details"],[1,"title"],[1,"temperature"],[1,"degree"],[1,"icon"],["class","remaining",4,"ngFor","ngForOf"],["class","location",4,"ngIf"],["class","layout-sm",4,"ngFor","ngForOf"],[1,"remaining"],[1,"logo"],["alt","",3,"src"],[1,"location"],[1,"layout-sm"],["alt","","width","40",3,"src"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"img",3),e.\u0275\u0275elementStart(4,"div",4)(5,"span",5),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",6)(9,"span",7)(10,"span",8),e.\u0275\u0275text(11," \u0652"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(13," / "),e.\u0275\u0275elementStart(14,"span",7)(15,"span",8),e.\u0275\u0275text(16," \u0652"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(18,ne,9,7,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,ie,2,1,"div",10),e.\u0275\u0275template(20,oe,9,7,"div",11),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275styleProp("visibility",n.isToggle?"visible":"hidden"),e.\u0275\u0275property("ngClass",n.showWeather?"showWeather":"hideWeather"),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("src",null==n.today?null:n.today.conditionIcon,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275propertyInterpolate("alt",null==n.today?null:n.today.condition),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,11,"CMSService::WeatherToday")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",null==n.today?null:n.today.maxtemp,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==n.today?null:n.today.mintemp," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.weatherList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.locationText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.AllWeatherList))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.DatePipe,u.LocalizationPipe],styles:[".weather-layout[_ngcontent-%COMP%]{background:rgba(15,23,42,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:41px 0;position:fixed;z-index:99;bottom:0;width:100vw}.weather-layout[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:none;justify-content:center;color:var(--basic-white, #FFF);font-size:1.25rem;font-weight:700}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-grow:1;justify-content:center}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:84px;height:84px;padding:6px}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:grid;grid-gap:8px;color:#fff}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-radius:4px;background:var(--neutral-900, #0F172A);padding:6px 12px;font-size:.875rem;font-weight:700;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{color:var(--basic-white, #FFF);font-size:2.5rem;font-weight:700}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{flex-grow:1}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;border-right:1px solid rgb(71,85,105);border-left:1px solid rgb(71,85,105)}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-radius:4px;background:var(--neutral-900, #0F172A);padding:6px 12px;font-size:.75rem;color:#fff;text-align:center;width:-moz-fit-content;width:fit-content}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{text-align:center}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:42px;height:42px}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{color:var(--basic-white, #FFF);font-size:1.25rem;font-weight:700;text-align:center}.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]{display:none}.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 36px}.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:6px 12px;border-radius:4px;background:var(--neutral-900, #0F172A);color:var(--basic-white, #FFF);font-size:.875rem;font-weight:700}.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{color:var(--basic-white, #FFF);font-size:1.25rem;font-weight:700}html[dir=rtl][_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]:last-of-type, html[dir=rtl]   [_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]:last-of-type{border-left:none}html[dir=ltr][_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{position:relative}html[dir=ltr][_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;right:-6px}html[dir=ltr][_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]:last-of-type, html[dir=ltr]   [_nghost-%COMP%]   .weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]:last-of-type{border-right:none}.showWeather[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideFromBottom .3s forwards}.hideWeather[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideToBottom .4s forwards}@keyframes _ngcontent-%COMP%_slideFromBottom{0%{bottom:-100px;opacity:0}to{bottom:0;opacity:1}}@keyframes _ngcontent-%COMP%_slideToBottom{0%{transform:translateY(0);opacity:1}to{transform:translateY(100%);opacity:0}}@media (min-width: 1200px){.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]{display:none}}@media (max-width: 575px){.weather-layout[_ngcontent-%COMP%]{padding:16px}.weather-layout[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex}.weather-layout[_ngcontent-%COMP%]   .layout-lg[_ngcontent-%COMP%]{display:none}.weather-layout[_ngcontent-%COMP%]   .layout-sm[_ngcontent-%COMP%]{display:block;padding:8px 0}.title[_ngcontent-%COMP%]{width:5.975rem}}"],data:{animation:[l.SmoothToggle]}})}return i})();var _=m(28675),V=m(20710),re=m(60501),f=m(36394),R=m(16672),ce=m(81558),P=m(47615),C=m(78570),se=m(52087),le=m(24373),O=m(27437);function pe(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275element(1,"img",24),e.\u0275\u0275elementEnd())}function de(i,a){if(1&i&&e.\u0275\u0275element(0,"div",25),2&i){const t=a.ngIf,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("badge-status-success",t===o.EmployeeAvailableEnum.Available)("badge-status-danger",t===o.EmployeeAvailableEnum.Unavailable)("badge-status-warning",t===o.EmployeeAvailableEnum.Remotely)}}function me(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",26),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("( ",e.\u0275\u0275pipeBind1(2,1,"CMSService::EmployeeGuide:Unavailable")," )"))}function ge(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",27),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("( ",e.\u0275\u0275pipeBind1(2,1,"CMSService::EmployeeGuide:Remotely")," )"))}function ue(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function _e(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function he(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function Ce(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",28),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).ngIf,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.copyTextToClipboard(r))}),e.\u0275\u0275element(1,"i",29),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.ngIf;e.\u0275\u0275property("ngbTooltip",(null==t?null:t.length)>28?t:""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t)}}function fe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",30),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).ngIf,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.copyTextToClipboard(r))}),e.\u0275\u0275element(1,"i",31),e.\u0275\u0275elementStart(2,"span",32),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.ngIf;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t)}}function ve(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",30),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).ngIf,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.copyTextToClipboard(r))}),e.\u0275\u0275element(1,"i",33),e.\u0275\u0275elementStart(2,"span",32),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.ngIf;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t)}}function Me(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"i",34),e.\u0275\u0275elementEnd())}function ye(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"div",35),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",5)(5,"div",37)(6,"span",38),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",39),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",37)(13,"span",38),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"span",39),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"date"),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.employee.unavailableReason),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,5,"CMSService::EmployeeGuide:VactionFrom")," :"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(11,7,t.employee.unavailableFrom,t.AppConsts.DateOnlyFormat)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(15,10,"CMSService::EmployeeGuide:VactionTo")," :"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind2(18,12,t.employee.unavailableTo,t.AppConsts.DateOnlyFormat)," ")}}function Pe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"div",30),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).ngIf,c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.copyTextToClipboard(r))}),e.\u0275\u0275element(2,"i",29),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()}if(2&i){const t=a.ngIf;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t)}}function xe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"div",30),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).ngIf,c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.copyTextToClipboard(r))}),e.\u0275\u0275element(2,"i",45),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()}if(2&i){const t=a.ngIf;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t)}}function be(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"div",35),e.\u0275\u0275elementStart(2,"div")(3,"div",40),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.isShowDelegateDetails=!n.isShowDelegateDetails)}),e.\u0275\u0275elementStart(4,"span",37)(5,"span",38),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",41),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"span"),e.\u0275\u0275element(11,"i"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",42),e.\u0275\u0275element(13,"div",43),e.\u0275\u0275elementStart(14,"ul",44),e.\u0275\u0275template(15,Pe,5,1,"li",18),e.\u0275\u0275template(16,xe,5,1,"li",18),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"CMSService::EmployeeGuide:Delegator"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.employee.delegatorName,""),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("icon-chevron-down",!t.isShowDelegateDetails)("icon-chevron-up",t.isShowDelegateDetails),e.\u0275\u0275advance(1),e.\u0275\u0275property("@smoothCollapse",t.isShowDelegateDetails?"final":"initial"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.employee.delegatorEmail),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.delegatorMobile)}}function Oe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.itemClicked.emit(n.employee))}),e.\u0275\u0275elementStart(5,"div",8)(6,"app-base64-file-preview",9),e.\u0275\u0275pipe(7,"attachmentFile"),e.\u0275\u0275template(8,pe,2,0,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,de,1,6,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",12)(12,"label",13),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,me,3,3,"span",14),e.\u0275\u0275template(15,ge,3,3,"span",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",16)(17,"ul",17),e.\u0275\u0275template(18,ue,2,1,"li",18),e.\u0275\u0275template(19,_e,2,1,"li",18),e.\u0275\u0275template(20,he,2,1,"li",18),e.\u0275\u0275template(21,Ce,4,2,"li",19),e.\u0275\u0275template(22,fe,4,1,"li",20),e.\u0275\u0275template(23,ve,4,1,"li",20),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(24,Me,2,0,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,ye,19,15,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",22),e.\u0275\u0275template(27,be,17,11,"div",18),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("previewMode",t.PreviewModeEnum.Image)("base64File",e.\u0275\u0275pipeBind3(7,15,t.employee.imageId,t.AttachmentEntities.UserProfileImage.entity,t.AttachmentEntities.UserProfileImage.module)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.employee.availability),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.employee.empFullName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.availability===t.EmployeeAvailableEnum.Unavailable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.availability===t.EmployeeAvailableEnum.Remotely),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.employee.jobTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.sectorName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.generalDepartmentName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.email),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.mobileNumber),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.phoneNumber),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.isRelated),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.employee.unavailableReason),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.employee.delegatorName)}}function Se(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275element(1,"img",47),e.\u0275\u0275elementEnd())}const we=(0,P.trigger)("smoothCollapse",[(0,P.state)("initial",(0,P.style)({height:"0",overflow:"hidden",opacity:"0"})),(0,P.state)("final",(0,P.style)({height:"43px",overflow:"hidden",opacity:"1"})),(0,P.transition)("initial=>final",(0,P.animate)("200ms")),(0,P.transition)("final=>initial",(0,P.animate)("200ms"))]);let Ie=(()=>{class i{constructor(t,o){this._toasterService=t,this._clipboardService=o,this.itemClicked=new e.EventEmitter,this.isShowDelegateDetails=!1,this.EmployeeAvailableEnum=se.J,this.AttachmentEntities=l.AttachmentEntities,this.PreviewModeEnum=C.PreviewModeEnum,this.AppConsts=l.AppConsts}copyTextToClipboard(t){null!=t&&""!=t&&(this._clipboardService.copyFromContent(t),this._toasterService.success("::Copied"))}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(O.ToasterService),e.\u0275\u0275directiveInject(le.ClipboardService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-employee-guide-card"]],inputs:{employee:"employee"},outputs:{itemClicked:"itemClicked"},decls:4,vars:2,consts:[[1,"card","standing-card"],["class","card-body",4,"ngIf","ngIfElse"],["loadingData",""],[1,"card-body"],[1,"main-card"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column"],[1,"img-flex-width",3,"click"],[1,"circle-img"],[3,"previewMode","base64File"],["defaultImage",""],["class","badge-status",3,"badge-status-success","badge-status-danger","badge-status-warning",4,"ngIf"],[1,"d-flex","flex-wrap","align-items-center"],[1,"main-card-title"],["class","badge badge-error",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],[1,"d-grid","gap-1"],[1,"contact-container"],[4,"ngIf"],["isEllipsisActive","","class","grid-link email-link",3,"ngbTooltip","click",4,"ngIf"],["class","grid-link",3,"click",4,"ngIf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],[1,"avatar-image"],["src","../../../../assets/images/profile-avatar.svg","alt","Profile"],[1,"badge-status"],[1,"badge","badge-error"],[1,"badge","badge-warning"],["isEllipsisActive","",1,"grid-link","email-link",3,"ngbTooltip","click"],[1,"icon-mail"],[1,"grid-link",3,"click"],[1,"icon-device-mobile","fw-bold"],[1,"ltr-text"],[1,"icon-phone","fw-bold"],[1,"icon-paper-clip","employee-icons"],[1,"divider"],[1,"fw-bold","mb-1"],[1,"fw-bold"],[1,"text-placeholder"],[1,"px-1","text-dark"],[1,"d-flex","justify-content-between","mt-1","mb-2","cursor-pointer","delegated-card",3,"click"],[1,"px-1","text-dark","delegated-person"],[1,"d-flex"],[1,"img-flex-width"],[1,"contact-container","d-grid","gap-1"],[1,"icon-phone","ltr-text"],[1,"card-body","waiting-card"],["src","../../../assets/images/loaders/employee-card.svg","alt",""]],template:function(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Oe,28,19,"div",1),e.\u0275\u0275template(2,Se,2,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&o){const r=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.employee)("ngIfElse",r)}},dependencies:[g.NgIf,C.Base64FilePerviewComponent,g.DatePipe,u.LocalizationPipe,C.AttachmentPipe],styles:["[_nghost-%COMP%]{font-size:.75rem}.card.standing-card[_ngcontent-%COMP%]{border:1px solid var(--neutral-200, #E2E8F0);box-shadow:0 1px 2px #0000000d;margin-bottom:8px!important;width:calc(100% - 10px)}.card.standing-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:8px}.card.standing-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .main-card[_ngcontent-%COMP%]   .circle-img[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.75rem;border-radius:100px;box-shadow:0 6px 16px #00000014}.card.standing-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .main-card[_ngcontent-%COMP%]   .main-card-title[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:0;font-weight:700;pointer-events:none}.card.standing-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .delegated-card[_ngcontent-%COMP%]:hover   .delegated-person[_ngcontent-%COMP%]{color:var(--secondary-dark-purple-100)!important}.card.standing-card[_ngcontent-%COMP%]:hover{transition:all .25s ease-in-out;box-shadow:0 4px 6px -2px #0000000d,0 10px 15px -3px #0000001a}.card.standing-card[_ngcontent-%COMP%]   .card-body.waiting-card[_ngcontent-%COMP%]{min-height:136px}.card.standing-card[_ngcontent-%COMP%]   .card-body.waiting-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:126px}.img-flex-width[_ngcontent-%COMP%]{display:flex;gap:8px;cursor:pointer}.img-flex-width[_ngcontent-%COMP%]:hover{color:var(--lpx-primary)}[_nghost-%COMP%]  .img-flex-width:hover .circle-img img, .img-flex-width[_ngcontent-%COMP%]:hover   .circle-img[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{box-shadow:0 0 1px 2px var(--secondary-dark-purple-100)!important}ul.contact-container[_ngcontent-%COMP%]{list-style:none;margin-bottom:0;gap:.375rem;display:flex;flex-direction:column}html:not([dir=ltr])[_nghost-%COMP%]   ul.contact-container[_ngcontent-%COMP%], html:not([dir=ltr])   [_nghost-%COMP%]   ul.contact-container[_ngcontent-%COMP%]{padding-right:44px}html[dir=ltr][_nghost-%COMP%]   ul.contact-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   ul.contact-container[_ngcontent-%COMP%]{padding-left:44px}ul.contact-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;gap:.375rem;margin-bottom:0;display:flex;flex-wrap:wrap;justify-content:space-between;width:215px}ul.contact-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--text-placeholder, #94A3B8);font-weight:700;display:flex;flex-wrap:wrap;align-items:center}ul.contact-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;line-height:0}.employee-icons[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-placeholder)}.email-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;direction:ltr}"],data:{animation:[we]},changeDetection:0})}return i})();function Te(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.clearSearch())}),e.\u0275\u0275elementEnd()}}function Ee(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275element(1,"app-nodata-or-loading",21),e.\u0275\u0275pipe(2,"isNotNullOrEmpty"),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275pipe(6,"abpLocalization"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",t.isLoading?"pt-2":"align-items-center"),e.\u0275\u0275advance(1),e.\u0275\u0275property("isLoadingData",t.isLoading)("isDataNotEmpty",!1)("isDataFiltered",e.\u0275\u0275pipeBind1(2,8,t.filter.filterText))("nodataMessage",e.\u0275\u0275pipeBind1(3,10,t.filter.filterText?"CMSService::EmployeesGuideNoFilterResult":"CMSService::EmployeesGuideNoData"))("nodataHint",e.\u0275\u0275pipeBind1(4,12,t.filter.filterText?"CMSService::ChangeFilters":"CMSService::ReturnLater"))("noFilterResultMessage",e.\u0275\u0275pipeBind1(5,14,"CMSService::EmployeesGuideNoFilterResult"))("noFilterResultHint",e.\u0275\u0275pipeBind1(6,16,"CMSService::ChangeFilters"))}}function ke(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"app-employee-guide-card",26),e.\u0275\u0275listener("itemClicked",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2),p=e.\u0275\u0275reference(24);return c.closeSidebar(),e.\u0275\u0275resetView(p.openSidebar(r.username))}),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("employee",t)}}function ze(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275pipe(3,"asString"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"cdk-virtual-scroll-viewport",23),e.\u0275\u0275template(5,ke,2,1,"div",24),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(2,2,t.isFiltering?"CMSService::EmployeeGuide:FilteringEmployeeCount":"CMSService::EmployeeGuide:TotalEmployeCount",e.\u0275\u0275pipeBind1(3,5,t.totalCount))," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("cdkVirtualForOf",t.dataSource)}}let Le=(()=>{class i{get isOpen(){return this._isOpen}constructor(t){this._employeeService=t,this._isOpen=!1,this.isLoading=!0,this.totalCount=0,this.filter={maxResultCount:10,skipCount:0,isRelated:!1},this.isFiltering=!1}_initDataSource(){this.dataSource??=new l.VirtualScrollDataSource(this,"searchByPageNumber",this.filter.maxResultCount)}openSidebar(){this._initDataSource(),this._isOpen=!0}closeSidebar(t=!1){t&&(this.isLoading=!0,this.dataSource=void 0),this._isOpen=!1}filterTextChange(){this.isLoading=!0,this.dataSource.clear()}clearSearch(){this.filter.filterText=void 0,this.filterTextChange()}identify(t,o){return o.id}searchByPageNumber(t){return this.isFiltering=this.filter.isRelated||!(0,u.isNullOrEmpty)(this.filter.filterText),this.filter.skipCount=t*this.filter.maxResultCount,this._employeeService.getEmployeesDirectory(this.filter).pipe((0,d.switchMap)(o=>(this.totalCount=o.totalCount,(0,d.of)(o))),(0,d.finalize)(()=>this.isLoading=!1))}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(re.h))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-employee-guide"]],decls:25,vars:18,consts:[[3,"click"],[1,"guide-sidebar"],[1,"d-flex","justify-content-between"],[1,"guide-header"],[1,"close-icon",3,"click"],[1,"icon-x"],[1,"my-0"],[1,"flex-grow-1","d-flex","flex-column","px-16"],[1,"mb-2","switch-employee"],[1,"form-check","form-switch","form-switch-reverse"],["type","checkbox","role","switch","id","RelatedEmployeeCheckbox",1,"form-check-input","toggle",3,"ngModel","ngModelChange"],["for","RelatedEmployeeCheckbox",1,"form-check-label","fw-bold","my-auto"],[1,"search-form-control"],["id","employee-guide-search-input",1,"form-control","py-3",3,"ngModel","placeholder","ngModelChange","ngModelChangeDebounced"],["class","icon-x ",3,"click",4,"ngIf"],["class","flex-grow-1 d-flex justify-content-center",3,"ngClass",4,"ngIf","ngIfElse"],["scrollingData",""],[3,"sideBarClosed"],["employeeDetails",""],[1,"icon-x",3,"click"],[1,"flex-grow-1","d-flex","justify-content-center",3,"ngClass"],["loaderImage","employee-guide-loader.svg","nodataImage","id-card.svg","noFilterResultImage","no-filter-result.svg",3,"isLoadingData","isDataNotEmpty","isDataFiltered","nodataMessage","nodataHint","noFilterResultMessage","noFilterResultHint"],[1,"text-placeholder","my-1","text-small","fw-bold"],["itemSize","220",1,"guide-list","animate-card"],["class","",4,"cdkVirtualFor","cdkVirtualForIdentify","cdkVirtualForOf"],[1,""],[3,"employee","itemClicked"]],template:function(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(){return n.closeSidebar()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275listener("click",function(){return n.closeSidebar(!0)}),e.\u0275\u0275element(7,"i",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(8,"hr",6),e.\u0275\u0275elementStart(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),e.\u0275\u0275listener("ngModelChange",function(c){return n.filter.isRelated=c})("ngModelChange",function(){return n.filterTextChange()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"label",11),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",12)(17,"input",13),e.\u0275\u0275listener("ngModelChange",function(c){return n.filter.filterText=c})("ngModelChangeDebounced",function(){return n.filterTextChange()}),e.\u0275\u0275pipe(18,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Te,1,0,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Ee,7,18,"div",15),e.\u0275\u0275template(21,ze,6,7,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"app-employee-details-view",17,18),e.\u0275\u0275listener("sideBarClosed",function(){return n.openSidebar()}),e.\u0275\u0275elementEnd()),2&o){const r=e.\u0275\u0275reference(22);e.\u0275\u0275classProp("guide-sidebar-backdrop",n.isOpen),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("active",n.isOpen),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,12,"CMSService::EmployeeGuide:Title")),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngModel",n.filter.isRelated),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,14,"CMSService::EmployeeGuide:ReleatedWithMe")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(18,16,"CMSService::EmployeeGuide:Search")),e.\u0275\u0275property("ngModel",n.filter.filterText),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.filter.filterText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isLoading||!(null!=n.dataSource&&n.dataSource.length))("ngIfElse",r)}},dependencies:[g.NgClass,g.NgIf,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,l.NgModelChangeDebouncedDirective,l.NodataOrLoadingComponent,R.xd,R.x0,R.N7,ce.l,Ie,u.LocalizationPipe,l.AsStringPipe,l.IsNotNullOrEmptyStringPipe],styles:["[_nghost-%COMP%]  app-nodata-or-loading .img-container{padding-top:15px}[_nghost-%COMP%]  app-nodata-or-loading .filter-container{height:calc(100vh - 224px);display:flex;justify-content:center}[_nghost-%COMP%]  app-nodata-or-loading .filter-container .filter-text{font-size:.75rem}[_nghost-%COMP%]  app-nodata-or-loading .loader-image>img{width:294px!important;height:419px!important}.px-16[_ngcontent-%COMP%]{padding-right:16px;padding-left:16px}.toggle[_ngcontent-%COMP%]{transition:all .5s ease}.animate-card[_ngcontent-%COMP%]{opacity:0;transform:translateY(100px);animation:_ngcontent-%COMP%_appear .7s ease forwards}@keyframes _ngcontent-%COMP%_appear{to{opacity:1;transform:translateY(0)}}"],data:{animation:[l.smothFadeAnimation]}})}return i})();class v{static#e=this._regiestedServices=new Map;static addRegistredService(a,t){return this._regiestedServices.set(a,t)}static getRegistredServiceByEntity(a){return this._regiestedServices.get(a)}static#t=this.\u0275fac=function(t){return new(t||v)};static#n=this.\u0275prov=e.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})}var s=m(74742);function y(i){return a=>{v.addRegistredService(i,a.constructor)}}var h=function(i){return i[i.News=1]="News",i[i.Offers=2]="Offers",i[i.Events=3]="Events",i[i.Advertisments=4]="Advertisments",i[i.Calendar=5]="Calendar",i[i.Announcements=6]="Announcements",i[i.Documents=7]="Documents",i[i.FAQs=8]="FAQs",i[i.Services=9]="Services",i[i.Surveys=10]="Surveys",i[i.Medias=11]="Medias",i}(h||{});(0,u.mapEnumToOptions)(h);class S extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/advertisements/details/"+a.entityId)}static#e=this.\u0275fac=function(t){return new(t||S)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Advertisments),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],S.prototype,"executeAction",null);class w extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/announcements",{state:{id:a.entityId}})}static#e=this.\u0275fac=function(t){return new(t||w)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Announcements),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],w.prototype,"executeAction",null);class I extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/calendar",{state:{id:a.entityId}})}static#e=this.\u0275fac=function(t){return new(t||I)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Calendar),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],I.prototype,"executeAction",null);class T extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/documentLibrary",{state:{searchTitle:a.title}})}static#e=this.\u0275fac=function(t){return new(t||T)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Documents),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],T.prototype,"executeAction",null);class E extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/events/details/"+a.entityId)}static#e=this.\u0275fac=function(t){return new(t||E)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Events),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],E.prototype,"executeAction",null);class k extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/support/faqs",{state:{searchTitle:a.title}})}static#e=this.\u0275fac=function(t){return new(t||k)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.FAQs),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],k.prototype,"executeAction",null);class z extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/mediaLibrary",{state:{searchTitle:a.title}})}static#e=this.\u0275fac=function(t){return new(t||z)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Medias),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],z.prototype,"executeAction",null);class L extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/news/details/"+a.entityId)}static#e=this.\u0275fac=function(t){return new(t||L)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.News),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],L.prototype,"executeAction",null);class F extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/offers/details/"+a.entityId)}static#e=this.\u0275fac=function(t){return new(t||F)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Offers),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],F.prototype,"executeAction",null);class N extends v{constructor(a){super(),this._router=a}executeAction(a){this._router.navigateByUrl("/cms/eservices/details/"+a.entityId)}static#e=this.\u0275fac=function(t){return new(t||N)(e.\u0275\u0275inject(_.Router))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"})}(0,s.__decorate)([y(h.Services),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",void 0)],N.prototype,"executeAction",null);const Fe=[z,E,I,k,T,w,L,S,N,F];let Ne=(()=>{class i{get searchItem(){return this._searchItem()}constructor(t,o){this._toaster=t,this._injector=o,this._searchItem=(0,e.signal)(void 0),0!==Fe.length&&(0,e.effect)(()=>{const n=this._searchItem();if(n){const c=v.getRegistredServiceByEntity(n.entity);if(!c)return void this._toaster.warn("Not Implemented");(0,e.runInInjectionContext)(this._injector,()=>{(0,e.inject)(c).executeAction(this._searchItem())})}})}goToSearchItem(t){this._searchItem.set(t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(O.ToasterService),e.\u0275\u0275inject(e.EnvironmentInjector))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$=(()=>{class i{constructor(t){this.restService=t,this.apiName="CMSService",this.getList=(o,n)=>this.restService.request({method:"GET",url:"/api/cms-service/searches",params:{filterText:o.filterText,sorting:o.sorting,skipCount:o.skipCount,maxResultCount:o.maxResultCount}},{apiName:this.apiName,...n}),this.refreshData=o=>this.restService.request({method:"GET",url:"/api/cms-service/searches/RefreshData"},{apiName:this.apiName,...o}),this.refreshDataSoft=o=>this.restService.request({method:"GET",url:"/api/cms-service/searches/RefreshDataSoft"},{apiName:this.apiName,...o})}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(u.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ae=(()=>{class i{constructor(t){this.restService=t,this.apiName="CMSService",this.clearAll=o=>this.restService.request({method:"DELETE",url:"/api/cms-service/UserSearchHistories"},{apiName:this.apiName,...o}),this.getList=o=>this.restService.request({method:"GET",url:"/api/cms-service/UserSearchHistories"},{apiName:this.apiName,...o})}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(u.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var H=m(63584);let Q=(()=>{class i{constructor(){this.ServiceImageEntities=l.AttachmentEntities.ServiceImage,this.PreviewModeEnum=C.PreviewModeEnum}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search-service-card"]],inputs:{service:"service"},decls:6,vars:8,consts:[[1,"service-card",3,"routerLink"],[1,"service-img"],[3,"previewMode","base64File"],[1,"mt-2","service-label"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"app-base64-file-preview",2),e.\u0275\u0275pipe(3,"attachmentFile"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275property("routerLink","eservices/details/"+n.service.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("previewMode",n.PreviewModeEnum.Image)("base64File",e.\u0275\u0275pipeBind3(3,4,n.service.imageId,n.ServiceImageEntities.entity,n.ServiceImageEntities.module)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.service.serviceName))},dependencies:[_.RouterLink,C.Base64FilePerviewComponent,C.AttachmentPipe],styles:["[_nghost-%COMP%]{flex-basis:25%}@media (min-width: 576px) and (max-width: 767px){[_nghost-%COMP%]{flex-basis:33%}}@media (max-width: 575px){[_nghost-%COMP%]{flex-basis:50%}}.service-img[_ngcontent-%COMP%]{height:60px}.service-card[_ngcontent-%COMP%]{border-radius:.75rem;background:var(--basic-white, #FFF);box-shadow:0 4px 20px #0000621a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);height:125px;margin:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:15px;transition:all .5s;cursor:pointer}.service-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .5s ease-in-out}.service-card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.service-card[_ngcontent-%COMP%]:hover   .service-label[_ngcontent-%COMP%]{color:var(--lpx-primary)}.service-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65px;height:65px}.service-card[_ngcontent-%COMP%]   .service-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;text-align:center}"],changeDetection:0})}return i})();function Be(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"img",9),e.\u0275\u0275elementEnd())}let Y=(()=>{class i{constructor(){this.PreviewModeEnum=C.PreviewModeEnum}getUrlByEnity(t){switch(t){case h.Advertisments:return l.AttachmentEntities.AdvertismentsImage.module;case h.News:return l.AttachmentEntities.NewsImage.module;case h.Medias:return l.AttachmentEntities.MediaAttachment.module;case h.Events:return l.AttachmentEntities.EventsImage.module;case h.Services:return l.AttachmentEntities.ServiceImage.module;case h.Documents:return l.AttachmentEntities.DocumentsArAttachmentEntities.module;default:return l.AttachmentEntities.OffersImage.module}}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search-content-card"]],inputs:{content:"content"},decls:15,vars:14,consts:[[1,"content-card"],["previewClass","img-content",3,"previewMode","base64File"],["defaultImage",""],[1,"content-title"],[1,"content-calendar"],[1,"icon-calendar"],[1,"text-ellipse"],[1,"text-light-primary","text-x-small"],[1,"img-content"],["src","../../../../assets/images/logo/Logo.svg","alt","CST_Logo"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"app-base64-file-preview",1),e.\u0275\u0275pipe(2,"attachmentFile"),e.\u0275\u0275template(3,Be,2,0,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4),e.\u0275\u0275element(7,"i",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",6),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",7),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd()()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("previewMode",n.PreviewModeEnum.Image)("base64File",e.\u0275\u0275pipeBind3(2,5,n.content.imageAttachmentId,n.content.imageEntity,n.getUrlByEnity(n.content.entity))),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(9,9,n.content.publishDate,"dd MMMM yyyy ")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.content.title," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,12,"CMSService::EntitiesEnum:"+n.content.entity)," "))},dependencies:[C.Base64FilePerviewComponent,g.DatePipe,u.LocalizationPipe,C.AttachmentPipe],styles:[".content-card[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:10px;padding:10px;gap:8px}.content-card[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);cursor:pointer}.content-card[_ngcontent-%COMP%]   .img-content[_ngcontent-%COMP%]{width:68px;height:68px;border-radius:8px;background:var(--Neutral-200, #E2E8F0);display:flex;justify-content:center;align-items:center}.content-card[_ngcontent-%COMP%]   .img-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px!important;height:32px!important}.content-card[_ngcontent-%COMP%]   .text-ellipse[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:calc(100vw - 160px);color:var(--bs-white, #fff);font-size:.75rem;line-height:22px}@media (min-width: 992px){.content-card[_ngcontent-%COMP%]   .text-ellipse[_ngcontent-%COMP%]{width:650px}}.content-card[_ngcontent-%COMP%]   .icon-calendar[_ngcontent-%COMP%]{font-size:1rem;line-height:0}[_nghost-%COMP%]  app-base64-file-preview img{width:68px!important;height:68px!important;border-radius:8px;object-fit:cover}.content-title[_ngcontent-%COMP%]{font-weight:500;font-size:.625rem;line-height:16px}.content-title[_ngcontent-%COMP%]   .content-calendar[_ngcontent-%COMP%]{color:var(--text-placeholder, #94A3B8);gap:4px;display:flex;align-items:center;padding-bottom:8px}"],changeDetection:0})}return i})();function De(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-public-search-service-card",8),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.serviceItemClicked.emit(r))}),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("service",a.$implicit)}function je(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.moreServicesResult.emit(!0))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"CMSService::PublicSearch:MoreServiceResult")," "))}function Ve(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-public-search-content-card",10),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.contentItemClicked.emit(r))}),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("content",a.$implicit)}function Re(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.moreConentsResult.emit(!0))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"CMSService::PublicSearch:MoreContentResult")," "))}let Ge=(()=>{class i{constructor(){this.serviceItemClicked=new e.EventEmitter,this.contentItemClicked=new e.EventEmitter,this.moreServicesResult=new e.EventEmitter(!0),this.moreConentsResult=new e.EventEmitter(!0),this.topServices=[],this.topContents=[],this.isLoadingService=!0,this.isLoadingContent=!0,this.isMoreService=!0,this.isMoreContent=!0,this.PreviewModeEnum=C.PreviewModeEnum}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search-all"]],inputs:{topServices:"topServices",topContents:"topContents",isLoadingService:"isLoadingService",isLoadingContent:"isLoadingContent",isMoreService:"isMoreService",isMoreContent:"isMoreContent"},outputs:{serviceItemClicked:"serviceItemClicked",contentItemClicked:"contentItemClicked",moreServicesResult:"moreServicesResult",moreConentsResult:"moreConentsResult"},decls:19,vars:22,consts:[[1,"text-placeholder","mt-3","mb-1"],["loaderImage","search-service-loader.svg",1,"service-loader",3,"isLoadingData","isDataNotEmpty","isDataFiltered","noFilterResultMessage"],[1,"d-flex","flex-wrap","text-black","maring-mius-10"],["ngFor","",3,"ngForOf"],["class","d-flex justify-content-end text-placeholder-hoverable mt-1",3,"click",4,"ngIf"],[1,"divider","my-4"],["loaderImage","search-content-loader.svg",3,"isLoadingData","isDataNotEmpty","isDataFiltered","noFilterResultMessage"],[1,"d-flex","flex-column","flex-wrap","text-black"],[3,"service","click"],[1,"d-flex","justify-content-end","text-placeholder-hoverable","mt-1",3,"click"],[3,"content","click"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"section")(1,"div",0),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"app-nodata-or-loading",1),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementStart(6,"div",2),e.\u0275\u0275template(7,De,1,1,"ng-template",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,je,3,3,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementStart(10,"section")(11,"div",0),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"app-nodata-or-loading",6),e.\u0275\u0275pipe(15,"abpLocalization"),e.\u0275\u0275elementStart(16,"div",7),e.\u0275\u0275template(17,Ve,1,1,"ng-template",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,Re,3,3,"div",4),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,14,"CMSService::PublicSearch:Services")),e.\u0275\u0275advance(2),e.\u0275\u0275property("isLoadingData",n.isLoadingService)("isDataNotEmpty",n.topServices.length>0)("isDataFiltered",!0)("noFilterResultMessage",e.\u0275\u0275pipeBind1(5,16,"CMSService::PublicSearch:NoServiceFound")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.topServices),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isMoreService),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,18,"CMSService::PublicSearch:Contents")),e.\u0275\u0275advance(2),e.\u0275\u0275property("isLoadingData",n.isLoadingContent)("isDataNotEmpty",n.topContents.length>0)("isDataFiltered",!0)("noFilterResultMessage",e.\u0275\u0275pipeBind1(15,20,"CMSService::PublicSearch:NoContentFound")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.topContents),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isMoreContent))},dependencies:[g.NgForOf,g.NgIf,l.NodataOrLoadingComponent,Q,Y,u.LocalizationPipe],styles:["[_nghost-%COMP%]  app-nodata-or-loading .nodata-message{color:#fff!important}.maring-mius-10[_ngcontent-%COMP%]{margin-left:-10px;margin-right:-10px}"],changeDetection:0})}return i})();function We(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-public-search-service-card",3),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClicked.emit(r))}),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("service",a.$implicit)}let Ue=(()=>{class i{constructor(){this.itemClicked=new e.EventEmitter(void 0),this.services=[],this.isLoadingService=!0,this.PreviewModeEnum=C.PreviewModeEnum}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search-service"]],inputs:{services:"services",isLoadingService:"isLoadingService"},outputs:{itemClicked:"itemClicked"},decls:4,vars:7,consts:[["loaderImage","search-service-loader.svg",1,"service-loader",3,"isLoadingData","isDataNotEmpty","isDataFiltered","noFilterResultMessage"],[1,"d-flex","flex-wrap","text-black","maring-mius-10"],["ngFor","",3,"ngForOf"],[3,"service","click"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"app-nodata-or-loading",0),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275template(3,We,1,1,"ng-template",2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275property("isLoadingData",n.isLoadingService)("isDataNotEmpty",n.services.length>0)("isDataFiltered",!0)("noFilterResultMessage",e.\u0275\u0275pipeBind1(1,5,"CMSService::PublicSearch:NoServiceFound")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.services))},dependencies:[g.NgForOf,l.NodataOrLoadingComponent,Q,u.LocalizationPipe],styles:[".maring-mius-10[_ngcontent-%COMP%]{margin-left:-10px;margin-right:-10px}[_nghost-%COMP%]     .nodata-container .nodata-text .nodata-message{color:#fff!important}"],changeDetection:0})}return i})();var D=m(21786);function $e(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-public-search-content-card",5),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).row,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemClicked.emit(r))}),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("content",a.row)}function He(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-nodata-or-loading",6),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275elementStart(2,"div",7)(3,"app-pager",8),e.\u0275\u0275listener("pageNumberChanged",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onPageNumberChange(n))})("pageSizeChanged",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),c=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(r.onPageSizeChange(n,c))}),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.rowCount,o=a.pageSize,n=a.curPage,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("isLoadingData",r.isLoadingContent)("isDataNotEmpty",r.contents.items.length>0)("isDataFiltered",!0)("noFilterResultMessage",e.\u0275\u0275pipeBind1(1,7,"CMSService::PublicSearch:NoContentFound")),e.\u0275\u0275advance(3),e.\u0275\u0275property("page",n)("size",o)("count",t)}}let Qe=(()=>{class i{ngOnChanges(t){const o=t.filterText;o.currentValue!=o.previousValue&&(this.searchList.filter=o.currentValue,this.searchList.get())}constructor(t,o){this.searchList=t,this.searchService=o,this.itemClicked=new e.EventEmitter(void 0),this.contents={items:[],totalCount:0},this.PreviewModeEnum=C.PreviewModeEnum,this.isLoadingContent=!0}ngOnInit(){this.searchList.hookToQuery(n=>(this.isLoadingContent=!0,this.searchService.getList({...n,filterText:n.filter}).pipe((0,d.finalize)(()=>this.isLoadingContent=!1)))).subscribe(n=>this.contents=n)}onPageNumberChange(t){this.searchList.page=t-1}onPageSizeChange(t,o){o.limit=+t,this.searchList.maxResultCount=+t}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject("SEARCH_LIST"),e.\u0275\u0275directiveInject($))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search-content"]],inputs:{filterText:"filterText"},outputs:{itemClicked:"itemClicked"},features:[e.\u0275\u0275ProvidersFeature([{provide:"SEARCH_LIST",useClass:u.ListService}]),e.\u0275\u0275NgOnChangesFeature],decls:7,vars:9,consts:[["default","",1,"data-view",3,"rows","count","list","loadingIndicator"],["table",""],["prop","title",3,"name"],["ngx-datatable-cell-template",""],["ngx-datatable-footer-template",""],[3,"content","click"],["loaderImage","search-content-loader.svg",3,"isLoadingData","isDataNotEmpty","isDataFiltered","noFilterResultMessage"],[1,"w-100","footer"],[3,"page","size","count","pageNumberChanged","pageSizeChanged"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"ngx-datatable",0,1)(2,"ngx-datatable-column",2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275template(4,$e,1,1,"ng-template",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ngx-datatable-footer"),e.\u0275\u0275template(6,He,4,9,"ng-template",4),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275classProp("is-empty",n.isLoadingContent||0===n.contents.items.length),e.\u0275\u0275property("rows",n.contents.items)("count",n.contents.totalCount)("list",n.searchList)("loadingIndicator",n.isLoadingContent),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("name",e.\u0275\u0275pipeBind1(3,7,"CMSService::Title")))},dependencies:[l.PagerComponent,l.NodataOrLoadingComponent,D.DatatableComponent,D.DataTableColumnDirective,D.DataTableColumnCellDirective,D.DataTableFooterTemplateDirective,D.DatatableFooterDirective,O.NgxDatatableDefaultDirective,O.NgxDatatableListDirective,Y,u.LocalizationPipe],styles:["[_nghost-%COMP%]  ngx-datatable.data-view{background-color:transparent}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-body .datatable-scroll{gap:0px}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-body .datatable-scroll .datatable-body-cell{padding:0!important}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-body .datatable-scroll .datatable-body-cell-label{padding:0!important;background-color:transparent}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-footer{background:transparent}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-footer .app-pager{justify-content:center!important}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-footer .app-pager *{color:#fff}[_nghost-%COMP%]  ngx-datatable.data-view .datatable-footer .app-pager .paging-list{display:none!important}[_nghost-%COMP%]  .nodata-container .nodata-text .nodata-message{color:#fff!important}"]})}return i})();function Ye(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.searchByText(r))}),e.\u0275\u0275element(1,"i",19),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(2&i){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t,"")}}function Je(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",13)(2,"div",14),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.clearAllLatestSearch())}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",16),e.\u0275\u0275template(9,Ye,3,1,"div",17),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"CMSService::PublicSearch:RecentSearch")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"CMSService::PublicSearch:Clear")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.recentsSearch)}}function Ke(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275element(1,"img",21),e.\u0275\u0275elementStart(2,"div"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div")(6,"span",22),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"abpLocalization"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"CMSService::PublicSearch:EmptySearch")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,5,"CMSService::PublicSearch:EmptySearch2")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,7,"CMSService::PublicSearch:EmptySearch3")," "))}function Xe(i,a){if(1&i&&(e.\u0275\u0275template(0,Je,10,7,"div",11),e.\u0275\u0275template(1,Ke,11,9,"ng-template",null,12,e.\u0275\u0275templateRefExtractor)),2&i){const t=e.\u0275\u0275reference(2),o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",o.recentsSearch.length>0)("ngIfElse",t)}}function Ze(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-public-search-content",31),e.\u0275\u0275listener("itemClicked",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.contentSelected(n))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("d-none",t.tab!==t.ContentSearchTab.contents),e.\u0275\u0275property("filterText",t.searchText)}}function qe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"div",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.changeTab(n.ContentSearchTab.all))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275pipe(5,"asString"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.changeTab(n.ContentSearchTab.services))}),e.\u0275\u0275element(7,"i",25),e.\u0275\u0275elementStart(8,"span"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"abpLocalization"),e.\u0275\u0275pipe(11,"asString"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.changeTab(n.ContentSearchTab.contents))}),e.\u0275\u0275element(13,"i",26),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"abpLocalization"),e.\u0275\u0275pipe(17,"asString"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(18,"div",27),e.\u0275\u0275elementStart(19,"app-public-search-all",28),e.\u0275\u0275listener("moreServicesResult",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.changeTab(n.ContentSearchTab.services))})("moreConentsResult",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.changeTab(n.ContentSearchTab.contents))})("serviceItemClicked",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.closeSidebar())})("contentItemClicked",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.contentSelected(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"app-public-search-service",29),e.\u0275\u0275listener("itemClicked",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.closeSidebar())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,Ze,1,3,"app-public-search-content",30)}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("active",t.tab===t.ContentSearchTab.all),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(4,22,"CMSService::PublicSearch:TabAll",e.\u0275\u0275pipeBind1(5,25,t.servicesTotalCount+t.topContents.totalCount)),""),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("active",t.tab===t.ContentSearchTab.services),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(10,27,"CMSService::PublicSearch:TabService",e.\u0275\u0275pipeBind1(11,30,t.servicesTotalCount)),""),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("active",t.tab===t.ContentSearchTab.contents),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(16,32,"CMSService::PublicSearch:TabContent",e.\u0275\u0275pipeBind1(17,35,t.topContents.totalCount)),""),e.\u0275\u0275advance(4),e.\u0275\u0275classProp("d-none",t.tab!==t.ContentSearchTab.all),e.\u0275\u0275property("topServices",t.topFourServices)("isLoadingService",t.isLoadingTopService)("topContents",t.topContents.items)("isLoadingContent",t.isLoadingTopContent)("isMoreService",t.servicesTotalCount>4)("isMoreContent",t.topContents.totalCount>4),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",t.tab!==t.ContentSearchTab.services),e.\u0275\u0275property("services",t.services)("isLoadingService",t.isLoadingService),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isContentCached)}}var A=function(i){return i[i.all=1]="all",i[i.services=2]="services",i[i.contents=3]="contents",i}(A||{});let et=(()=>{class i{get isOpen(){return this._isOpen}get tab(){return this._tab}constructor(t,o,n,r,c){this._searchService=t,this._userSearchHistoryService=o,this._serviceAdminService=n,this._publicSearchService=r,this.renderer=c,this.isRecentSearchVisible=!0,this.recentsSearch=[],this._isOpen=!1,this.searchText="",this.isLoadingTopService=!0,this.isLoadingTopContent=!0,this.isLoadingService=!0,this.isServiceCached=!1,this.isContentCached=!1,this.servicesTotalCount=0,this.services=[],this.topFourServices=[],this.topContents={items:[],totalCount:0},this.ContentSearchTab=A,this.PreviewModeEnum=C.PreviewModeEnum,this._tab=A.all,this.stickyElementClass="";const p=(0,d.fromEvent)(document,"keydown").pipe((0,d.filter)(M=>"Escape"===M.key),(0,d.distinctUntilChanged)());this.sub$=p.subscribe(M=>{"keydown"===M.type&&this.closeSidebar()})}ngOnInit(){this.getLatestSearch()}openSidebar(){this.renderer.addClass(document.body,"overflow-hidden"),this._isOpen=!0}closeSidebar(t=!1){t&&(this.filterText=null,this._tab=A.all),this.renderer.removeClass(document.body,"overflow-hidden"),this._isOpen=!1}getLatestSearch(){this._userSearchHistoryService.getList().subscribe(t=>{this.recentsSearch=t.map(o=>o.searchText)})}clearAllLatestSearch(){this._userSearchHistoryService.clearAll().subscribe(()=>{this.recentsSearch=[]})}searchByText(t){this.filterText=t}search(){this.searchText=this.filterText,this.isServiceCached=!1,this.isContentCached=!1,this.topContents={totalCount:0,items:[]},this.topFourServices=[],this.services=[],this.searchText&&""!==this.searchText.trim()&&(this._filterTopService(),this._filterTopContent(),this.changeTab(this._tab))}onScroll(t){this.stickyElementClass=t.target.scrollTop>=100?"sticky-active":""}changeTab(t){this._tab=t,t===A.services&&(this.isServiceCached=!0,this._filterService()),t===A.contents&&(this.isContentCached=!0)}_filterTopContent(){this.isLoadingTopContent=!0,this._searchService.getList({filterText:this.filterText,maxResultCount:4}).pipe((0,d.finalize)(()=>this.isLoadingTopContent=!1)).subscribe(t=>{this.topContents=t})}_filterTopService(){this.isLoadingTopService=!0,this._serviceAdminService.getListPublic({filterText:this.filterText,serviceCategoryId:null,serviceSubCategoryId:null,getFavorite:null,maxResultCount:4}).pipe((0,d.finalize)(()=>{this.isLoadingTopService=!1,this.getLatestSearch()})).subscribe(t=>{this.servicesTotalCount=t.totalCount,this.topFourServices=t.items})}_filterService(){this.isLoadingService=!0,this.isServiceCached=!0,this.services=[],this._serviceAdminService.getListPublic({filterText:this.filterText,serviceCategoryId:null,serviceSubCategoryId:null,getFavorite:null,maxResultCount:1e3}).pipe((0,d.finalize)(()=>this.isLoadingService=!1)).subscribe({next:t=>{this.servicesTotalCount=t.totalCount,this.services=t.items},error:()=>{this.isServiceCached=!1}})}contentSelected(t){this._publicSearchService.goToSearchItem(t),this.closeSidebar()}ngOnDestroy(){this.sub$?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject($),e.\u0275\u0275directiveInject(Ae),e.\u0275\u0275directiveInject(H.t),e.\u0275\u0275directiveInject(Ne),e.\u0275\u0275directiveInject(e.Renderer2))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-public-search"]],decls:13,vars:11,consts:[[1,"d-flex","flex-column"],[1,"postion-relative"],[1,"scroll-bar",3,"scroll"],[1,"sticky-element",3,"ngClass"],[1,"search-container","search-content-control","input-container"],[1,"icon-search","search-icon"],["id","public-search-input",1,"search-input",3,"placeholder","ngModel","ngModelChange","ngModelChangeDebounced"],[1,"icon-x",3,"click"],[1,"search-container","d-flex","flex-column","px-3"],[1,"search-content"],[3,"ngIf"],[4,"ngIf","ngIfElse"],["emptyRecentSearch",""],[1,"d-flex","justify-content-between","text-placeholder","my-2"],[1,"recent-search"],[1,"text-placeholder-hoverable","clear",3,"click"],[1,"d-flex","flex-column","text-white"],["class","label-hoverable",3,"click",4,"ngFor","ngForOf"],[1,"label-hoverable",3,"click"],[1,"icon-clock","me-2"],[1,"empty-search"],["src","./../../../assets/images/empty/Search.svg","alt","search"],[1,"text-purple"],[1,"search-tab-container"],[1,"search-tab-item",3,"click"],[1,"icon-view-grid"],[1,"icon-document-text"],[1,"divider"],[3,"topServices","isLoadingService","topContents","isLoadingContent","isMoreService","isMoreContent","moreServicesResult","moreConentsResult","serviceItemClicked","contentItemClicked"],[3,"services","isLoadingService","itemClicked"],[3,"d-none","filterText","itemClicked",4,"ngIf"],[3,"filterText","itemClicked"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275listener("scroll",function(c){return n.onScroll(c)}),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4),e.\u0275\u0275element(5,"i",5),e.\u0275\u0275elementStart(6,"input",6),e.\u0275\u0275listener("ngModelChange",function(c){return n.filterText=c})("ngModelChangeDebounced",function(){return n.search()}),e.\u0275\u0275pipe(7,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"i",7),e.\u0275\u0275listener("click",function(){return n.closeSidebar(!0)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"div",8)(10,"div",9),e.\u0275\u0275template(11,Xe,3,2,"ng-template",10),e.\u0275\u0275template(12,qe,22,37,"ng-template",10),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275classProp("search-bar",n.isOpen),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",!n.isOpen),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",n.stickyElementClass),e.\u0275\u0275advance(3),e.\u0275\u0275property("placeholder",e.\u0275\u0275pipeBind1(7,9,"CMSService::PublicSearch:SearchWordPH"))("ngModel",n.filterText),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!n.searchText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.searchText))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgModel,l.NgModelChangeDebouncedDirective,Ge,Ue,Qe,u.LocalizationPipe,l.AsStringPipe],styles:["[_nghost-%COMP%]{color:var(--white, #fff)}.task[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;background:rgba(255,255,255,.1)}.task[_ngcontent-%COMP%]   .mytooltip[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);color:#fff!important;font-size:11px;font-weight:400;padding:2px 8px 3px;border-radius:5px;visibility:hidden;transform:translate(-2px)!important;position:absolute}.task[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.task[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.task[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.15)}.task[_ngcontent-%COMP%]:hover   .mytooltip[_ngcontent-%COMP%]{visibility:visible;transition:all .4s ease-out;transform:translateY(40px)!important}.mt-6[_ngcontent-%COMP%]{position:relative;margin-top:110px}.scroll-bar[_ngcontent-%COMP%]{height:calc(100vh - 10px);overflow-y:auto}.scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px!important}.profile-img[_ngcontent-%COMP%]{border-radius:.5rem;width:70px;height:70px;object-fit:cover}.label-hoverable[_ngcontent-%COMP%]{padding:10px 2px;border-radius:16px;font-size:.75rem;display:flex;align-items:center}.label-hoverable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;line-height:0px}.label-hoverable[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);cursor:pointer}.sticky-element[_ngcontent-%COMP%]{position:sticky;top:0;background-color:transparent;transition:background-color .3s;margin-top:90px;z-index:var(--z-index-relative-child)}.sticky-element.sticky-active[_ngcontent-%COMP%]{background-color:#000000bf;border-bottom:1px solid rgba(255,255,255,.25)}.search-tab-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:.75rem!important;margin-bottom:.75rem!important;gap:10px}.search-tab-container[_ngcontent-%COMP%]   .search-tab-item[_ngcontent-%COMP%]{height:2.5rem;padding:.5rem 1.5rem;border-radius:5rem;border:1px solid var(--neutral-200, #E2E8F0);background:var(--bs-white, #FFF);color:var(--bs-black, #000);opacity:.5;cursor:pointer;font-size:.75rem;display:flex;align-items:center}.search-tab-container[_ngcontent-%COMP%]   .search-tab-item[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.5rem;line-height:0px}.search-tab-container[_ngcontent-%COMP%]   .search-tab-item[_ngcontent-%COMP%]:hover, .search-tab-container[_ngcontent-%COMP%]   .search-tab-item.active[_ngcontent-%COMP%]{opacity:1}@media (max-width: 575px){.search-tab-container[_ngcontent-%COMP%]   .search-tab-item[_ngcontent-%COMP%]{padding:.25rem .75rem}.search-tab-container[_ngcontent-%COMP%]   .search-tab-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}.search-bar[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:48px;top:0}.search-bar[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]:hover{background-color:unset}.recent-search[_ngcontent-%COMP%], .clear[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.search-content[_ngcontent-%COMP%]{width:90%}.search-icon[_ngcontent-%COMP%]{color:#94a3b8;position:absolute;z-index:var(--z-index-relative-child);top:28px;font-size:24px}html[dir=rtl][_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%]{right:24px}html[dir=ltr][_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%]{left:24px}@media (max-width: 767px){.search-bar[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:33px;top:15%}}.input-container[_ngcontent-%COMP%]{align-items:center;gap:16px}@media (max-width: 575px){.sticky-element[_ngcontent-%COMP%]{margin-top:0}.input-container[_ngcontent-%COMP%]{flex-direction:column-reverse}html[dir=rtl][_nghost-%COMP%]   .input-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{align-items:baseline}html[dir=ltr][_nghost-%COMP%]   .input-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{align-items:flex-end}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-content[_ngcontent-%COMP%]{width:100%}.search-icon[_ngcontent-%COMP%]{top:105px}html[dir=rtl][_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%]{right:22px}html[dir=ltr][_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .search-icon[_ngcontent-%COMP%]{left:22px}}[_nghost-%COMP%]  app-nodata-or-loading.service-loader .img-container{max-width:400px}[_nghost-%COMP%]  app-nodata-or-loading .filter-container{flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]  app-nodata-or-loading .filter-text .filter-text--title{color:#fff!important}[_nghost-%COMP%]  app-nodata-or-loading .filter-text .filter-text--subtitle{color:#ccc!important}.text-purple[_ngcontent-%COMP%]{color:var(--secondary-light-purple-100)!important}"]})}return i})();var tt=m(92627),J=m(46663),G=m(37385);function nt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",15),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(0!==r.children.length?c.openInnerMenu(r):c.changeRouterLink(r.path))}),e.\u0275\u0275element(1,"i"),e.\u0275\u0275elementStart(2,"div",16)(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"i",17),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("leaf-item",0===t.children.length)("menu-item-behind-inner-menu",o.isInnerMenuOpen)("active-parent",o.parentMenuTitle===t.name)("menu-item-active",t.name===(null==o.activeMenuItem?null:o.activeMenuItem.name)||t.name===(null==o.activeMenuItem||null==o.activeMenuItem.parent?null:o.activeMenuItem.parent.name)||t.name===(null==o.activeMenuItem||null==o.activeMenuItem.parent||null==o.activeMenuItem.parent.parent?null:o.activeMenuItem.parent.parent.name)),e.\u0275\u0275property("id",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275classMapInterpolate1("",t.iconClass," menu-item-icon"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,14,t.name)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",0===t.children.length?"icon-arrow-narrow-left":"icon-chevron-left")}}function it(i,a){1&i&&e.\u0275\u0275element(0,"i",21)}function ot(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",23),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(c.changeRouterLink(r.path))}),e.\u0275\u0275elementStart(1,"div",16)(2,"span",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"i",21),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,o=a.last,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275classProp("menu-item-active",t.name===(null==n.activeMenuItem?null:n.activeMenuItem.name))("last-child-menu-item",o),e.\u0275\u0275property("id",t.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,t.name),"")}}function at(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ot,6,8,"li",22),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.children)}}function rt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"li",18),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(0===r.children.length&&c.changeRouterLink(r.path))}),e.\u0275\u0275elementStart(2,"div")(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,it,1,0,"i",19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,at,2,1,"ng-container",20),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=a.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("menu-item-active",t.name===(null==o.activeMenuItem?null:o.activeMenuItem.name)),e.\u0275\u0275property("ngClass",0===t.children.length?"menu-item leaf-item":"menu-item-parent")("id",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("menu-item-name",0===t.children.length),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,t.name)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===t.children.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==t.children.length)}}function ct(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"ng-scrollbar")(3,"ul"),e.\u0275\u0275template(4,nt,7,16,"li",12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"div",13)(6,"ng-scrollbar")(7,"ul"),e.\u0275\u0275template(8,rt,8,11,"ng-container",14),e.\u0275\u0275elementEnd()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("parent-menu-behind-inner-menu",t.isInnerMenuOpen),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.mainMenu),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("inner-sidebar-visible",t.isInnerMenuOpen),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.innerMenu)}}let st=(()=>{class i{constructor(t,o,n,r,c){this.routesService=t,this.router=o,this.routerEvents=n,this.localizationService=r,this.homeUserProfileService=c,this.isInnerMenuOpen=!1,this.isMainMenuOpen=!1,this.mainMenu=[],this.innerMenu=[]}ngOnInit(){this.mainMenu=this.routesService.visible,this.routerEvents.getNavigationEvents("End").pipe((0,d.startWith)(this.router)).subscribe(t=>{this.activeMenuItem=this.routesService.search({path:t.url.split("?")[0]})}),this.homeUserProfileService.employeeProfile$.subscribe(t=>{t.employeeType!==J.w.Official&&(this.routesService.remove(["CMSService::Menu:EService"]),this.mainMenu=this.routesService.visible,this.searchByText())})}searchByText(){this.closeInnerMenu();const t=this.filterValue?.trim();this.mainMenu=t?this.searchTree(this.copyTreeNode(this.routesService.visible),t):this.routesService.visible}copyTreeNode(t){const o=[];return t.forEach(n=>o.push({...n})),o.forEach(n=>{n.children=this.copyTreeNode(n.children)}),o}searchTree(t,o){return t.filter(n=>0===n.children.length?this.localizationService.instant(n.name).toLowerCase().includes(o.toLowerCase()):(n.children=this.searchTree(n.children,o),n.children.length>0))}changeRouterLink(t){this.router.navigateByUrl(t),this.closeSidebar(),this.closeInnerMenu()}openInnerMenu(t){this.isInnerMenuOpen=0!==t.children.length,this.innerMenu=t.children,this.parentMenuTitle=t.name}closeInnerMenu(){this.isInnerMenuOpen=!1,this.parentMenuTitle=null}openSidebar(){this.isMainMenuOpen=!0}closeSidebar(){this.closeInnerMenu(),this.isMainMenuOpen=!1}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(u.RoutesService),e.\u0275\u0275directiveInject(_.Router),e.\u0275\u0275directiveInject(u.RouterEvents),e.\u0275\u0275directiveInject(u.LocalizationService),e.\u0275\u0275directiveInject(V.e))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-sidebar"]],decls:13,vars:12,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"search-area"],["id","sidebar-search-input","type","search",1,"search",3,"ngModel","placeholder","ngModelChange","ngModelChangeDebounced"],[1,"icon-search"],[1,"header-text"],[1,"back-icon-container"],[1,"icon-arrow-circle-right","flip-icon",3,"click"],[1,"page-title"],["class","parent-menu-container",4,"ngIf"],[1,"parent-menu-container"],[1,"parent-menu"],["class","menu-item",3,"leaf-item","menu-item-behind-inner-menu","id","active-parent","menu-item-active","click",4,"ngFor","ngForOf"],[1,"inner-sidebar"],[4,"ngFor","ngForOf"],[1,"menu-item",3,"id","click"],[1,"menu-item-name"],[1,"flip-icon",3,"ngClass"],[3,"ngClass","id","click"],["class","icon-arrow-narrow-left flip-icon",4,"ngIf"],[4,"ngIf"],[1,"icon-arrow-narrow-left","flip-icon"],["class","menu-item leaf-item",3,"menu-item-active","last-child-menu-item","id","click",4,"ngFor","ngForOf"],[1,"menu-item","leaf-item",3,"id","click"],[1,"menu-item-child-name"]],template:function(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),e.\u0275\u0275listener("ngModelChange",function(c){return n.filterValue=c})("ngModelChangeDebounced",function(){return n.searchByText()}),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"i",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"i",7),e.\u0275\u0275listener("click",function(){return n.closeInnerMenu()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"span",8),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(12,ct,9,6,"div",9),e.\u0275\u0275elementEnd()),2&o){let r;e.\u0275\u0275classProp("sidebar-visible",n.isMainMenuOpen),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.filterValue)("placeholder",e.\u0275\u0275pipeBind1(4,8,"::SearchWord")),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("icon-visible",n.isInnerMenuOpen),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,10,null!==(r=n.parentMenuTitle)&&void 0!==r?r:"::MainMenu")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isMainMenuOpen)}},dependencies:[g.NgClass,g.NgForOf,g.NgIf,f.DefaultValueAccessor,f.NgControlStatus,f.NgModel,l.NgModelChangeDebouncedDirective,G.NgScrollbar,u.LocalizationPipe],styles:['[class^=icon-][_ngcontent-%COMP%]:before, [class*=" icon-"][_ngcontent-%COMP%]:before{font-size:20px}.menu-item[_ngcontent-%COMP%]:hover{background-color:#fff}.sidebar[_ngcontent-%COMP%]   .menu-item-active[_ngcontent-%COMP%]{background:linear-gradient(270deg,#7F92FF -23.16%,#5E1AD5 106.52%)}.active-parent[_ngcontent-%COMP%], .active-parent[_ngcontent-%COMP%]:hover{background-color:#7f92ff;opacity:1!important}.active-parent[_ngcontent-%COMP%]   .menu-item-icon[_ngcontent-%COMP%], .active-parent[_ngcontent-%COMP%]   .menu-item-name[_ngcontent-%COMP%], .active-parent[_ngcontent-%COMP%]:hover   .menu-item-icon[_ngcontent-%COMP%], .active-parent[_ngcontent-%COMP%]:hover   .menu-item-name[_ngcontent-%COMP%]{color:#fff}']})}return i})();function lt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=a.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("#",t,"")}}function pt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"img",20),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"CMSService::HomeProfile")))}function dt(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275element(1,"img",22),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"CMSService::HomeMyDashboard")))}let mt=(()=>{class i{constructor(t,o){this.homeUserProfileService=t,this.authService=o,this.showCustomizationMenu=new e.EventEmitter,this.showEmployeeGuid=new e.EventEmitter,this.showNotificationsMenu=new e.EventEmitter,this.showPrayerTime=new e.EventEmitter,this.showWeather=new e.EventEmitter,this.showPublicSearch=new e.EventEmitter,this.showList=!0}ngOnInit(){this.getUserInfo()}getUserInfo(){this.sub$=this.homeUserProfileService.employeeProfile$.subscribe(t=>{this.user=t,this.isOfficialEmployee=this.user.employeeType==J.w.Official,localStorage.setItem("isOfficialEmployee",JSON.stringify(this.isOfficialEmployee))})}ngOnDestroy(){this.sub$?.unsubscribe()}logout(){this.authService.logout()}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(V.e),e.\u0275\u0275directiveInject(u.AuthService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-user-info"]],inputs:{todayWeather:"todayWeather"},outputs:{showCustomizationMenu:"showCustomizationMenu",showEmployeeGuid:"showEmployeeGuid",showNotificationsMenu:"showNotificationsMenu",showPrayerTime:"showPrayerTime",showWeather:"showWeather",showPublicSearch:"showPublicSearch"},decls:40,vars:23,consts:[[1,"profile-container"],[1,"user-info"],["src","../../../assets/images/Polygon.svg","alt",""],[1,"title"],[1,"name"],[4,"ngIf"],[1,"profile-list"],["role","button","class","py-1","routerLink","profile",4,"ngIf"],["role","button","class","py-1","routerLink","profile/attandance",4,"ngIf"],["role","button","routerLink","/tasks",1,"py-1"],["src","../../assets/images/clipboard-list-profile.svg","alt","clipboard list",1,"me-1"],["role","button","routerLink","/requests",1,"py-1"],["src","../../assets/images/inbox.svg","alt","inbox",1,"me-1"],[1,"profile-list","shortcuts"],["role","button",1,"py-1",3,"click"],[1,"icon-user-group","me-1"],[1,"icon-pencil","me-1"],[1,"icon-search","me-1"],["role","button",1,"logout",3,"click"],["role","button","routerLink","profile",1,"py-1"],["src","../../assets/images/identification.svg","alt","identification",1,"me-1"],["role","button","routerLink","profile/attandance",1,"py-1"],["src","../../assets/images/presentation-chart-line.svg","alt","presentation",1,"me-1"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"img",2),e.\u0275\u0275elementStart(3,"div",3)(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(6),e.\u0275\u0275template(7,lt,2,1,"span",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",6),e.\u0275\u0275template(9,pt,5,3,"div",7),e.\u0275\u0275template(10,dt,5,3,"div",8),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275element(12,"img",10),e.\u0275\u0275elementStart(13,"span"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",11),e.\u0275\u0275element(17,"img",12),e.\u0275\u0275elementStart(18,"span"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",13)(22,"div",14),e.\u0275\u0275listener("click",function(){return n.showEmployeeGuid.emit(!0)}),e.\u0275\u0275element(23,"i",15),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",14),e.\u0275\u0275listener("click",function(){return n.showCustomizationMenu.emit(!0)}),e.\u0275\u0275element(28,"i",16),e.\u0275\u0275elementStart(29,"span"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",14),e.\u0275\u0275listener("click",function(){return n.showPublicSearch.emit(!0)}),e.\u0275\u0275element(33,"i",17),e.\u0275\u0275elementStart(34,"span"),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(37,"span",18),e.\u0275\u0275listener("click",function(){return n.logout()}),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"abpLocalization"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==n.user?null:n.user.empFullName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==n.user?null:n.user.positionName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.user?null:n.user.jobNumber),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isOfficialEmployee),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isOfficialEmployee),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,11,"CMSService::HomeMyTasks")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,13,"CMSService::HomeMyRequests")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,15,"CMSService::EmployeesGuide")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(31,17,"CMSService::Customization:Customization")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(36,19,"CMSService::Search")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,21,"CMSService::HomeLogout")))},dependencies:[g.NgIf,_.RouterLink,u.LocalizationPipe],styles:[".profile-container[_ngcontent-%COMP%]{position:static;padding:16px;flex-direction:column;align-items:flex-end;gap:16px;border-radius:8px;background:var(--basic-white, #fff);box-shadow:0 0 40px 8px #a3a3a340;width:206px}.profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-bottom:1px solid #E2E8F0}.profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8px;height:8px;position:relative;top:-22px;margin-bottom:-10px}.profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--text-body, #1E293B);font-size:.75rem;font-weight:700}.profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--text-placeholder, #94A3B8);font-size:.75rem;font-weight:500;margin:10px 0 16px;gap:4px;display:flex;flex-direction:column}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #E2E8F0;margin:8px 0;padding-bottom:8px}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background:var(--secondary-light-purple-6, rgba(94, 26, 213, .06))}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-body, #1E293B);font-size:.688rem;font-weight:500}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--secondary-light-purple-100, #7f92ff);font-size:20px;line-height:20px;width:20px;height:20px}.profile-container[_ngcontent-%COMP%]   .profile-list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{margin:0}.profile-container[_ngcontent-%COMP%]   .shortcuts[_ngcontent-%COMP%]{display:none}.profile-container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:var(--status-danger-600, #E11D48);font-size:.688rem;font-weight:500;width:100%;display:flex;justify-content:flex-start;padding:8px 0}.profile-container[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]:hover{background:var(--Status-Danger-50, #FFF1F2)}html[dir=rtl][_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{left:-164px}html[dir=ltr][_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{left:164px}@media screen and (max-width: 767px){.profile-container[_ngcontent-%COMP%]   .shortcuts[_ngcontent-%COMP%]{display:block}}"]})}return i})();var gt=m(67295),ut=m(87881),_t=m(55355),ht=m(76164),j=m(82830);const Ct=["serviceRef"];function ft(i,a){1&i&&e.\u0275\u0275element(0,"i",21)}function vt(i,a){1&i&&e.\u0275\u0275element(0,"i",21)}function Mt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"label",22),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",12)(5,"input",23),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.profileSettings.viewAttendanceLeaveInformation=n)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.updateProfileSettings())}),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"CMSService::Customization:ViewAttendance")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.profileSettings.viewAttendanceLeaveInformation)}}function yt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",35),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(r.ngModel=n)}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngbTypeahead",o.search)("inputFormatter",o.formatter)("resultFormatter",o.formatter)("editable",!1)("ngModel",t.ngModel)}}function Pt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.service.serviceName)}}function xt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",26)(1,"div",27),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275text(4,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",29,30),e.\u0275\u0275template(7,yt,1,5,"input",31),e.\u0275\u0275template(8,Pt,2,1,"span",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",33),e.\u0275\u0275listener("click",function(){const n=e.\u0275\u0275restoreView(t),r=n.$implicit,c=n.index,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.editUserQuickAccessServices(r,c))}),e.\u0275\u0275element(10,"i",34)(11,"i",21),e.\u0275\u0275elementEnd()()}if(2&i){const t=a.$implicit,o=a.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o+1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEditing),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("current-action",!t.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("current-action",t.isEditing)}}function bt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",3)(1,"span",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",24),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,xt,12,7,"div",25),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"CMSService::Customization:ChoseServices")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"CMSService::Customization:ChoseServicesDesc")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.userQuickAccessServices)}}function Ot(i,a){1&i&&e.\u0275\u0275element(0,"img",36),2&i&&e.\u0275\u0275property("src","../../assets/images/backgrounds/"+a.$implicit+".jpg",e.\u0275\u0275sanitizeUrl)}function St(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"img",37),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.changeImage(r))}),e.\u0275\u0275elementEnd()}if(2&i){const t=a.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("active",o.selectedImage===t),e.\u0275\u0275property("src","../../assets/images/backgrounds/"+t+".jpg",e.\u0275\u0275sanitizeUrl)}}let wt=(()=>{class i{constructor(t,o,n,r,c,p,M,x){this.sessionState=t,this.localizationService=o,this.quickAccessServicesService=n,this.service=r,this.homeUserProfileService=c,this.profileService=p,this._toasterService=M,this._spinnerService=x,this.isHeightDynamic=!1,this.showCustomizationPanel=!1,this.searchingServices=!1,this.searchFailed=!1,this.AppConsts=l.AppConsts,this.images=Array.from(Array(l.AppConsts.backgroundImagesCount).keys()),this.userQuickAccessServices=[],this.profileSettings={viewAttendanceLeaveInformation:!1,viewMyAndTeamTasks:!1,backgroundImageId:null},this.isOfficialEmployee=JSON.parse(localStorage.getItem("isOfficialEmployee")),this.formatter=b=>b.serviceName,this.search=b=>b.pipe((0,d.debounceTime)(300),(0,d.distinctUntilChanged)(),(0,d.tap)(()=>this.searchingServices=!0),(0,d.switchMap)(B=>this.getServices(B).pipe((0,d.tap)(()=>this.searchFailed=!1),(0,d.catchError)(()=>(this.searchFailed=!0,(0,d.of)([]))))),(0,d.tap)(()=>this.searchingServices=!1))}ngOnInit(){this.currentLang=this.localizationService.currentLang,this.quickAccessServicesService.quickAccessServices$.pipe((0,d.first)()).subscribe(t=>{this.userQuickAccessServices=t.map(o=>({service:o,isEditing:!1,ngModel:null}))}),this.homeUserProfileService.profileSettings$.pipe((0,d.first)()).subscribe(t=>{this.profileSettings=t}),this.selectedImage=Number(localStorage.getItem("selectedImage"))}changeLang(t){this.currentLang!==t&&(this._spinnerService.show(),this.profileSettings.lang=t,this.profileService.saveUserProfileSettingsByProfileSetting(this.profileSettings).subscribe({next:o=>{this.sessionState.setLanguage(t),setTimeout(()=>{window.location.reload(),this._spinnerService.hide()},2e3)},error:()=>this._spinnerService.hide()}))}getServices(t){return 0===l.CustomValidators.specialCharactersInText(t).length?this.service.getServiceLookup({filter:t,status:ut.q.Active,maxResultCount:5}).pipe((0,d.map)(o=>o.items.map(n=>({serviceId:n.id,serviceName:n.displayName})))):(0,d.of)([])}editUserQuickAccessServices(t,o){if(t.isEditing){if(t.isEditing&&t.ngModel){if(this.userQuickAccessServices.find((r,c)=>r.service.serviceId===t.ngModel.serviceId&&c!=o))return void this._toasterService.warn("CMSService::ServiceIsALreadyChoosed");t.service.serviceId=t.ngModel.serviceId,t.service.serviceName=t.ngModel.serviceName,t.ngModel=null,this.quickAccessServicesService.updateQuickAccessService(this.userQuickAccessServices.map(r=>r.service))}}else t.ngModel=void 0,setTimeout(()=>{this.servicesRefs.get(o).nativeElement.firstChild.select()});t.isEditing=!t.isEditing}updateProfileSettings(){this.homeUserProfileService.updateProfileSettings(this.profileSettings)}changeImage(t){localStorage.setItem("selectedImage",t.toString()),this.profileSettings.backgroundImageId=t,this.homeUserProfileService.updateProfileSettings(this.profileSettings),this.selectedImage=Number(localStorage.getItem("selectedImage"))}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(u.SessionStateService),e.\u0275\u0275directiveInject(u.LocalizationService),e.\u0275\u0275directiveInject(gt.G),e.\u0275\u0275directiveInject(H.t),e.\u0275\u0275directiveInject(V.e),e.\u0275\u0275directiveInject(ht.H),e.\u0275\u0275directiveInject(O.ToasterService),e.\u0275\u0275directiveInject(_t.NgxSpinnerService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-customization-menu"]],viewQuery:function(o,n){if(1&o&&e.\u0275\u0275viewQuery(Ct,5),2&o){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.servicesRefs=r)}},inputs:{isHeightDynamic:"isHeightDynamic"},decls:44,vars:42,consts:[[1,"customization-panel-container"],[3,"autoHeightDisabled"],[1,"customization-panel"],[1,"customization-panel-section"],[1,"customization-panel-section-title","mmb-1"],[1,"d-flex","ggap-1"],[1,"language-button",3,"ngClass","click"],["class","icon-check",4,"ngIf"],[1,"customization-panel-section-title","mmb-2"],["class","w-100 d-flex justify-content-between ggap-1 ppy-1",4,"ngIf"],[1,"w-100","d-flex","justify-content-between","ggap-1","ppy-1"],["for","viewMyAndTeamTasks",1,"switch-lable"],[1,"form-check","form-switch"],["id","viewMyAndTeamTasks","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["class","customization-panel-section",4,"ngIf"],[1,"images-list"],["role","button",1,"rotate-images",3,"click"],[1,"rotate-images-label"],[1,"text-nowrap"],["alt","",3,"src",4,"ngFor","ngForOf"],["role","button","alt","",3,"active","src","click",4,"ngFor","ngForOf"],[1,"icon-check"],["for","viewAttendanceLeaveInformation",1,"switch-lable"],["id","viewAttendanceLeaveInformation","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"customization-panel-section-description","mmb-2"],["class","service-view",4,"ngFor","ngForOf"],[1,"service-view"],[1,"service-order"],[1,"service-order-seperator"],[1,"service-name"],["serviceRef",""],["type","text","class","w-100 border-0","popupClass","popupClass",3,"ngbTypeahead","inputFormatter","resultFormatter","editable","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["role","button",1,"service-edit-action",3,"click"],[1,"icon-pencil"],["type","text","popupClass","popupClass",1,"w-100","border-0",3,"ngbTypeahead","inputFormatter","resultFormatter","editable","ngModel","ngModelChange"],["alt","",3,"src"],["role","button","alt","",3,"src","click"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ng-scrollbar",1)(2,"div",2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5)(8,"button",6),e.\u0275\u0275listener("click",function(){return n.changeLang("ar")}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"abpLocalization"),e.\u0275\u0275template(11,ft,1,0,"i",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",6),e.\u0275\u0275listener("click",function(){return n.changeLang("en")}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275template(15,vt,1,0,"i",7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",3)(17,"span",8),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Mt,6,4,"div",9),e.\u0275\u0275elementStart(21,"div",10)(22,"label",11),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",12)(26,"input",13),e.\u0275\u0275listener("ngModelChange",function(c){return n.profileSettings.viewMyAndTeamTasks=c})("ngModelChange",function(){return n.updateProfileSettings()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(27,bt,8,7,"div",14),e.\u0275\u0275elementStart(28,"div",3)(29,"span",8),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",15)(33,"div",16),e.\u0275\u0275listener("click",function(){return n.changeImage(n.AppConsts.swapImagesIndex)}),e.\u0275\u0275elementStart(34,"div",17)(35,"div"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",18),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(41,Ot,1,1,"img",19),e.\u0275\u0275pipe(42,"slice"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(43,St,1,3,"img",20),e.\u0275\u0275elementEnd()()()()()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275classProp("dynamic-height",n.isHeightDynamic),e.\u0275\u0275property("autoHeightDisabled",!1),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,22,"CMSService::Customization:Lang")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass","ar"===n.currentLang?"language-button-selected":"language-button-unselected"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(10,24,"CMSService::ArabicLanguage")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ar"===n.currentLang),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass","en"===n.currentLang?"language-button-selected":"language-button-unselected"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,26,"CMSService::EnglishLanguage")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","en"===n.currentLang),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,28,"CMSService::Customization:Title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isOfficialEmployee),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,30,"CMSService::Customization:ViewTask")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.profileSettings.viewMyAndTeamTasks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isOfficialEmployee),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(31,32,"CMSService::Customization:ChoseBG")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("active",n.selectedImage===n.AppConsts.swapImagesIndex),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(37,34,"CMSService::Customization:ChoseBGSwitch")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,36,"CMSService::Customization:ChoseBGBetweenImgs")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind3(42,38,n.images,0,4)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.images))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,f.DefaultValueAccessor,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,j.NgbTypeahead,G.NgScrollbar,g.SlicePipe,u.LocalizationPipe],styles:["ng-scrollbar[_ngcontent-%COMP%]{height:auto;max-height:700px;overflow:auto}.dynamic-height[_ngcontent-%COMP%]{max-height:70vh}@media (max-height: 900px){ng-scrollbar[_ngcontent-%COMP%]{max-height:calc(100vh - 175px)}}@media (max-height: 550px){.dynamic-height[_ngcontent-%COMP%]{max-height:65vh}}.customization-panel-container[_ngcontent-%COMP%]{width:320px;margin-top:1rem;padding:1.5rem 0;border-radius:24px;background:rgba(255,255,255,.9)}.customization-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;padding:0 1.5rem}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .customization-panel-section-title[_ngcontent-%COMP%]{color:var(--text-body, #1e293b);font-size:.8125rem;font-style:normal;font-weight:700}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.5rem 1rem;border-radius:100px;font-size:.75rem;font-style:normal;font-weight:700}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]   .icon-check[_ngcontent-%COMP%]:before{font-size:1.25rem;width:1.25rem;height:1.25rem}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .language-button-selected[_ngcontent-%COMP%]{border:1px solid #e0e0ec;background:var(--secondary-dark-purple-100, #5e1ad5);color:var(--basic-white, #fff)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .language-button-unselected[_ngcontent-%COMP%]{border:1px solid #e0e0ec;background:var(--basic-white, #fff);color:var(--text-placeholder, #94a3b8)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .customization-panel-section-description[_ngcontent-%COMP%]{color:var(--text-placeholder, #94a3b8);font-size:.6875rem;font-style:normal;font-weight:700}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .switch-lable[_ngcontent-%COMP%]{color:var(--text-placeholder, #94a3b8);font-size:.75rem;font-style:normal;font-weight:500}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]{display:flex;padding:.75rem 1rem;align-items:center;gap:.5rem;align-self:stretch;border-radius:100px;border:1px solid #e0e0ec;background:var(--basic-white, #fff)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-order[_ngcontent-%COMP%]{display:flex;gap:.5rem;min-width:10px;color:var(--text-placeholder, #94a3b8);font-size:.75rem;font-style:normal;font-weight:700;z-index:1}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-order-seperator[_ngcontent-%COMP%]{width:1px;background:var(--12, rgba(0, 0, 98, .12));z-index:1}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]{flex-grow:1;color:var(--text-body, #1e293b);font-size:.75rem;font-style:normal;font-weight:700}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:unset;outline:unset;width:-moz-fit-content!important;width:fit-content!important;height:22px;padding:0 42px 0 0;font-size:.75rem;font-style:normal;font-weight:700;margin-right:-40px}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]{position:relative;width:calc(1.25rem + 2px);height:calc(1.25rem + 2px)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]   .current-action[_ngcontent-%COMP%]{opacity:1}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]   .icon-pencil[_ngcontent-%COMP%]{color:var(--neutral-400, #94a3b8)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]:hover   .icon-pencil[_ngcontent-%COMP%]{color:var(--neutral-600, #475569)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]   .icon-check[_ngcontent-%COMP%]{color:var(--status-success-600, #0D9488)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;z-index:var(--z-index-relative-child);inset:0;opacity:0;transition:.5s;display:flex;width:1.25rem;height:1.25rem;font-size:1.25rem}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .service-view[_ngcontent-%COMP%]   .service-edit-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{margin:0}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.85;border:2px solid transparent}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid var(--secondary-light-blue-100, #00D0FF)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:88px;width:128px;border-radius:6px}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]   .rotate-images[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;height:88px;width:128px;overflow:hidden;border-radius:6px}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]   .rotate-images[_ngcontent-%COMP%]   .rotate-images-label[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;translate:50% -50%;padding:.5rem;color:var(--text-body, #1e293b);text-align:center;font-size:.6875rem;font-style:normal;font-weight:700;border-radius:6px;background:var(--basic-white, #fff)}.customization-panel[_ngcontent-%COMP%]   .customization-panel-section[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]   .rotate-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:42px;width:62px;border-radius:0}.customization-panel[_ngcontent-%COMP%]   .mmb-1[_ngcontent-%COMP%]{margin-bottom:.5rem}.customization-panel[_ngcontent-%COMP%]   .mmb-2[_ngcontent-%COMP%]{margin-bottom:1rem}.customization-panel[_ngcontent-%COMP%]   .ggap-1[_ngcontent-%COMP%]{gap:.5rem}.customization-panel[_ngcontent-%COMP%]   .ppy-1[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:40px;height:20px;border:1px solid var(--neutral-300, #CBD5E1)!important}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{border-color:var(--neutral-300, #cbd5e1)!important;background-color:var(--secondary-dark-purple-100, #5e1ad5)!important}.active[_ngcontent-%COMP%]{opacity:1!important;border:2px solid var(--secondary-light-blue-100, #00D0FF)!important}  ngb-typeahead-window.popupClass{width:269px;margin-top:12px!important}"]})}return i})();var It=m(93242);function Tt(i,a){1&i&&e.\u0275\u0275element(0,"img",23)}function Et(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"span",14),e.\u0275\u0275template(2,Tt,1,0,"img",15),e.\u0275\u0275elementStart(3,"div",16)(4,"input",17),e.\u0275\u0275listener("ngModelChange",function(n){const c=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(c.isSelected=n)})("ngModelChange",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.getSelectedItems(r))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"div",18),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.setAsRead(null==r?null:r.id,null==r?null:r.link))}),e.\u0275\u0275elementStart(6,"span",19),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",20),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",21)(11,"span",22),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"date"),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=a.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("toggle-icons",o.toggleIcons),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.selectAll),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("select-all",o.selectAll),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.isSelected),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.body),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(13,10,t.creationTime,o.AppConsts.DateOnlyFormat)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(16,13,t.creationTimeUTC,"shortTime"))}}const kt=function(){return{standalone:!0}};function zt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"app-nodata-or-loading",2),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(0===(null==n.notification?null:n.notification.items.length)?n.closeNotifications():null)}),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"input",5),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.selectUnselectAll(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.setListAsSeen())}),e.\u0275\u0275element(11,"img",8),e.\u0275\u0275elementStart(12,"label",9),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",10)(16,"ng-scrollbar"),e.\u0275\u0275template(17,Et,17,16,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"span",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.closeNotifications())}),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"abpLocalization"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("nodata",0===t.totalCount)("loading",t.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("nodataMessage",e.\u0275\u0275pipeBind1(2,15,"NotificationService::Notifications:NoNotifications"))("isLoadingData",t.isLoading)("nodataHint",e.\u0275\u0275pipeBind1(3,17,"NotificationService::Notifications:ClickToShowAll"))("nodataLink","notifications")("isDataNotEmpty",(null==t.notification?null:t.notification.items.length)>0),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.isAllSelected)("ngModelOptions",e.\u0275\u0275pureFunction0(25,kt)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,19,"CMSService::HomeSelectAll")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,21,"CMSService::HomeSelectAsReadable")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",null==t.notification?null:t.notification.items),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,23,"CMSService::HomeShowAll"),"")}}let Lt=(()=>{class i{constructor(t,o,n){this._notificationService=t,this._SWConfirmationService=o,this._toasterService=n,this.notificationsCount=new e.EventEmitter,this.closeNotification=new e.EventEmitter,this.totalId=[],this.AppConsts=l.AppConsts,this.listAsSeen={ids:[],concurrencyStamp:""},this.allNotificationsIds=[]}ngOnInit(){this._intialzeNotifcations()}ngOnChanges(){this.isNotificationShow||(this.toggleIcons=!1,this.isAllSelected=!1,this.selectAll=!1,this.notification?.items.forEach(t=>{t.isSelected=!1}))}_intialzeNotifcations(){(0,d.timer)(0,6e4).subscribe(()=>{document.hidden||this._getNotification()})}_getNotification(){this.isLoading=!0,this.sub$=this._notificationService.getList({isSeen:!1,maxResultCount:10}).pipe((0,d.finalize)(()=>this.isLoading=!1)).subscribe(t=>{t.items=t.items.map(n=>({...n,body:n.body.split("/n").join("")})),localStorage.setItem("notification",JSON.stringify(t));const o=localStorage.getItem("notification");this.notification=JSON.parse(o),this.totalCount=t.totalCount,this.allNotificationsIds=t.items.map(n=>n.id),this.notificationsCount.emit(this.totalCount)})}getSelectedItems(){this.toggleIcons=null!=this.notification?.items.find(o=>o.isSelected),this.isAllSelected=!!(this.notification?.items.map(o=>o.isSelected)).every(o=>!0===o)}setListAsSeen(){this.isLoading=!0;const t=this.notification?.items.filter(o=>o.isSelected&&!o.isSeen);if(0==t.length)return this._toasterService.warn("NotificationService::selectNotification"),void(this.isLoading=!1);this.sub$=this._SWConfirmationService.warn("NotificationService::CONF022","::AreYouSure",void 0,{yesSeverity:"success",messageLocalizationParams:[t.length.toString()]}).pipe((0,d.filter)(o=>o===C.SWConfirmation.SWStatus.confirm)).subscribe(()=>{this._notificationService.setListSeen({ids:t.map(o=>o.id),concurrencyStamp:""}).pipe((0,d.finalize)(()=>this.isLoading=!1)).subscribe(()=>{this._getNotification(),t.forEach(o=>o.isSelected=!1)})}),this.isLoading=!1,this.toggleIcons=!1,this.selectAll=!1,this.isAllSelected=!1}selectUnselectAll(t){this.isAllSelected=t,t?(this.selectAll=t,this.notification?.items.forEach(o=>{o.isSelected=!0})):t||(this.selectAll=!1,this.notification?.items.forEach(o=>{o.isSelected=!1}))}setAsRead(t,o){this.isLoading=!0,this.sub$=this._notificationService.setSeen(t,{concurrencyStamp:""}).pipe((0,d.finalize)(()=>this.isLoading=!1)).subscribe(()=>{o&&window.open(o),this._getNotification(),this.closeNotifications()})}closeNotifications(){this.closeNotification.emit()}ngOnDestroy(){this.sub$?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(It.C),e.\u0275\u0275directiveInject(C.SWConfirmationService),e.\u0275\u0275directiveInject(O.ToasterService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-notification"]],inputs:{isNotificationShow:"isNotificationShow"},outputs:{notificationsCount:"notificationsCount",closeNotification:"closeNotification"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","notifications-container",3,"nodata","loading",4,"ngIf"],[1,"notifications-container"],["nodataImage","no-notifications.svg","loaderImage","loading.png",3,"nodataMessage","isLoadingData","nodataHint","nodataLink","isDataNotEmpty","click"],[1,"actions"],[1,"selectAll"],["type","checkbox","value","","id","selectAll",1,"form-check-input","me-1",3,"ngModel","ngModelOptions","ngModelChange"],["for","selectAll",1,"form-check-label"],[1,"readable",3,"click"],["src","../../assets/images/check-circle.svg","alt","",1,"me-1"],[1,"form-check-label"],[1,"notification-content"],["class","layout",4,"ngFor","ngForOf"],["routerLink","notifications",1,"show-more",3,"click"],[1,"layout"],[1,"select-container","me-2"],["class","bell","src","../../../assets/images/bell-notifications.svg","alt","",4,"ngIf"],[1,"toggle"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"w-100","details",3,"click"],[1,"request-name"],[1,"action"],[1,"date"],[1,"me-1"],["src","../../../assets/images/bell-notifications.svg","alt","",1,"bell"]],template:function(o,n){1&o&&e.\u0275\u0275template(0,zt,21,26,"div",0),2&o&&e.\u0275\u0275property("ngIf",n.isNotificationShow)},dependencies:[g.NgForOf,g.NgIf,f.CheckboxControlValueAccessor,f.NgControlStatus,f.NgModel,_.RouterLink,l.NodataOrLoadingComponent,G.NgScrollbar,g.DatePipe,u.LocalizationPipe],styles:['[_nghost-%COMP%]{height:58vh;width:-moz-fit-content;width:fit-content;display:flex;justify-content:center;margin:0 auto;padding:0}.notifications-container[_ngcontent-%COMP%]{position:relative;padding:16px;width:328px;height:70vh;border-radius:16px;max-height:488px}.notifications-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;width:100%;z-index:-1;height:auto;border-radius:16px;background:rgba(241,245,249,.8);box-shadow:0 0 39.032px 8.036px #a3a3a340;-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px)}.notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%], .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .readable[_ngcontent-%COMP%]{color:var(--text-body, #1E293B);font-size:.625rem;font-weight:700;display:flex;align-items:center}.notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .readable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]{margin-right:1.3rem!important}.notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{border-radius:12px;background:var(--basic-white, #FFF);box-shadow:0 0 20px #00006214;margin:16px 0;height:calc(100% - 70px);overflow:auto}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;font-size:.75rem;font-weight:700;padding:12px;width:97%;border-bottom:1px solid var(--neutral-200, #E2E8F0);cursor:pointer}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .toggle-icons[_ngcontent-%COMP%]{width:33px;height:33px;background-color:#e0f2fe;display:flex;justify-content:center;align-items:center;border-radius:25px}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .toggle-icons[_ngcontent-%COMP%]   img.bell[_ngcontent-%COMP%]{display:none}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .toggle-icons[_ngcontent-%COMP%]   div.toggle[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{display:block}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]{width:33px;height:33px;background-color:#e0f2fe;display:flex;justify-content:center;align-items:center;border-radius:25px}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{display:block}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{display:none;color:#fff;background-color:#fff}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1 0 0;padding:6px 0 0}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .requestName[_ngcontent-%COMP%]{color:var(--text-body, #1E293B);font-size:.75rem;font-weight:700}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{color:var(--text-placeholder, #94A3B8);font-size:.75rem;font-weight:500;white-space:break-spaces}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;color:var(--text-placeholder, #94A3B8);font-size:.625rem;font-weight:500}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]:last-child{border-bottom:none}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]:hover{cursor:pointer;background:#F1F9FF}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]:hover   .toggle[_ngcontent-%COMP%]{width:33px;height:33px;background-color:#e0f2fe;display:flex;justify-content:center;align-items:center;border-radius:25px}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]:hover   .bell[_ngcontent-%COMP%]{display:none}.notifications-container[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]:hover   .form-check-input[_ngcontent-%COMP%]{display:block}.notifications-container[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{width:16px!important;height:16px!important;border-radius:4px;background-color:transparent;border:1px solid var(--text-body, #1E293B)!important}.notifications-container[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--text-body, #1E293B);font-size:.625rem;font-weight:700;cursor:pointer}.nodata[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]{padding:0;height:100%}html[dir=ltr][_nghost-%COMP%]   .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]{margin-left:1.3rem!important}html[dir=ltr][_nghost-%COMP%]   .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .notifications-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .selectAll[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 576px){.notifications-container[_ngcontent-%COMP%]{position:absolute;left:50%;right:50%;transform:translate(44%,2%)}}']})}return i})();const Ft=["sidebar"],Nt=["prayerTime"],At=["weather"],Bt=["employeeGuide"],Dt=["publicSearch"];function jt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",64)(1,"div",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.showCustomizationMenuInOverlay=!1)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"app-customization-menu",66),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("isHeightDynamic",!0))}function Vt(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",67)(1,"div",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.showNotificationsMenu=!1)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"app-notification",68),e.\u0275\u0275listener("closeNotification",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.showNotificationsMenu=!1)}),e.\u0275\u0275elementEnd()()}}function Rt(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.location)}}function Gt(i,a){1&i&&e.\u0275\u0275element(0,"div",70)}function Wt(i,a){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"CMSService::PrayerToPrayer")))}function Ut(i,a){1&i&&e.\u0275\u0275element(0,"div",70)}function $t(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.showWeather())}),e.\u0275\u0275element(1,"img",72),e.\u0275\u0275elementStart(2,"div",73)(3,"span",74),e.\u0275\u0275text(4," \u0652"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275elementStart(6,"span",75),e.\u0275\u0275text(7," \u0652"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("src",null==t.todayWeather?null:t.todayWeather.conditionIcon,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275propertyInterpolate("alt",null==t.todayWeather?null:t.todayWeather.condition),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==t.todayWeather?null:t.todayWeather.maxtemp," /"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",null==t.todayWeather?null:t.todayWeather.mintemp," ")}}function Ht(i,a){1&i&&e.\u0275\u0275element(0,"app-customization-menu")}function Qt(i,a){1&i&&e.\u0275\u0275element(0,"img",76)}function Yt(i,a){1&i&&e.\u0275\u0275element(0,"img",77)}function Jt(i,a){1&i&&e.\u0275\u0275element(0,"app-cst-footer")}let Kt=(()=>{class i{constructor(t,o){this.router=t,this.homeUserProfileService=o,this.AppConsts=l.AppConsts,this.inHomePage=!1,this.showCustomizationMenu=!1,this.showCustomizationMenuInOverlay=!1,this.showNotificationsMenu=!1,this.isShowFooter=!1,this.PreviewModeEnum=C.PreviewModeEnum,this.AttachmentEntities=l.AttachmentEntities,this.serviceContent=!1,this.backgroundImageId=0,this.profileImageId=0,this.router.events.pipe((0,d.startWith)(this.router)).subscribe(n=>{n instanceof _.ActivationEnd&&n?.snapshot?.component?this.inHomePage=n?.snapshot?.data?.inHomePage??!1:n instanceof _.Router&&(this.inHomePage=t.routerState.snapshot.root.children.length>0&&this.searchInRouterStateChildren(t.routerState.snapshot.root.children[0])),setTimeout(()=>{this.isShowFooter=!this.inHomePage},0)})}searchInRouterStateChildren(t){return t?.data?.inHomePage||t?.children?.length>0&&this.searchInRouterStateChildren(t.children[0])}ngOnInit(){this.homeUserProfileService.profileSettings$.subscribe({next:t=>{null!=t.backgroundImageId?(this.swapImagesInterval?.unsubscribe(),t.backgroundImageId===l.AppConsts.swapImagesIndex||(this.backgroundImageId=t.backgroundImageId,this.setBackgroundImageUrl())):this.setBackgroundImageUrl()},error:()=>this.setBackgroundImageUrl()}),setTimeout(()=>{this.setBackgroundImageUrl()},100),this.homeUserProfileService.employeeProfile$.subscribe(t=>{t&&(this.profileImageId=t.imageId,this.profileFullName=t.empFullName)})}closeNotification(t){this.isNotificationShow=t}goToHome(){this.router.navigate(["/"])}openSideBar(t){t.stopPropagation(),this.sidebar.openSidebar()}dismissSidebar(){this.sidebar.closeSidebar()}getNotificationsCount(t){this.totalCount=t}hideWetherAndPrayertime(){this.weather.showWeather&&(this.weather.showWeather=!1),this.prayerTime.showPrayerTime&&(this.prayerTime.showPrayerTime=!1)}showPrayerTime(){this.weather.showWeather=!1,this.prayerTime.togglePrayerTime()}showWeather(){this.prayerTime.showPrayerTime=!1,this.weather.displayWeather()}getRemmaining(t){this.remmaing=t}getTodayWeather(t){this.todayWeather=t}getLocation(t){this.location=t}openEmployeeGuid(){this.employeeGuide.openSidebar()}openPublicSearch(){this.publicSearch.openSidebar()}setBackgroundImageUrl(){this.backgroundImageUrl=`../../assets/images/backgrounds/${this.backgroundImageId}-xl.webp`,this.backgroundImageUrlSm=`../../assets/images/backgrounds/${this.backgroundImageId}-sm.webp`,this.backgroundImageUrlMd=`../../assets/images/backgrounds/${this.backgroundImageId}-md.webp`,this.backgroundImageUrlLg=`../../assets/images/backgrounds/${this.backgroundImageId}-lg.webp`}runSwapImagesInterval(){this.swapImagesInterval=(0,d.interval)(this.AppConsts.swapImagesInterval).subscribe(()=>{this.backgroundImageId=this.backgroundImageId<this.AppConsts.backgroundImagesCount-1?this.backgroundImageId+1:0,this.setBackgroundImageUrl()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(_.Router),e.\u0275\u0275directiveInject(V.e))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-cst-layout"]],viewQuery:function(o,n){if(1&o&&(e.\u0275\u0275viewQuery(Ft,7),e.\u0275\u0275viewQuery(Nt,7),e.\u0275\u0275viewQuery(At,7),e.\u0275\u0275viewQuery(Bt,7),e.\u0275\u0275viewQuery(Dt,7)),2&o){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.sidebar=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.prayerTime=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.weather=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.employeeGuide=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(n.publicSearch=r.first)}},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:95,vars:45,consts:[["sidebar",""],[1,"layout-container"],[1,"background"],["media","(max-width: 576px)",3,"srcset"],["media","(max-width: 768px)",3,"srcset"],["media","(max-width: 1024px)",3,"srcset"],["alt","",3,"src"],[1,"header-shadow"],["class","menu-ovelay customization-menu",4,"ngIf"],["class","menu-ovelay notifications-menu",4,"ngIf"],[3,"click"],[1,"header"],[1,"header-info-section"],[1,"logo"],["src","../../assets/images/TheKey Logo.svg","alt","",3,"click"],[1,"info-section"],[1,"location-section"],["class","country",4,"ngIf"],["class","seperator",4,"ngIf"],[1,"info-section-item","prayer-item",3,"click"],["src","../../assets/images/mousqe-icon.svg","alt",""],[4,"ngIf"],["class","info-section-item",3,"click",4,"ngIf"],[1,"header-content-section"],[1,"header-shortcuts"],[1,"header-content-item","employee-guide-item",3,"click"],[1,"icon-user-group"],[1,"employee-guide-title"],[1,"header-content-item-tooltip"],[1,"header-content-item",3,"click"],[1,"icon-search"],[1,"header-content-item","drop-down-item"],["ngbDropdown","","container","body","placement","bottom",3,"autoClose","openChange"],["customizationMenu","ngbDropdown"],["aria-label","customization-menu","id","customization-menu","ngbDropdownAnchor","",1,"dropdown-toggle","bg-transparent","border-0",3,"click"],[1,"icon-pencil"],["aria-labelledby","customization-menu","ngbDropdownMenu","",1,"unset-ngb-dropdwon"],["routerLink","/tasks",1,"header-content-item"],[1,"icon-clipboard-list"],[1,"header-content-item","drop-down-item","fixed-header-shortcut"],["ngbDropdown","","container","body","placement","bottom-end",1,"d-inline-block",3,"openChange"],["notification","ngbDropdown"],["id","notification","aria-label","notification","ngbDropdownToggle","",1,"dropdown-toggle","bg-transparent","border-0"],[1,"icon-bell","header-icon"],["src","../../assets/images/notification-alert.svg","alt","",4,"ngIf"],["aria-labelledby","notification","ngbDropdownMenu","",1,"unset-ngb-dropdwon"],[3,"isNotificationShow","notificationsCount","closeNotification"],[1,"profile"],["ngbDropdown","","container","body","placement","bottom-end",1,"d-inline-block"],["profileDropdown","ngbDropdown"],["id","profile","ngbDropdownToggle","",1,"dropdown-toggle","bg-transparent","border-0"],[3,"previewMode","base64File"],["defaultImage",""],["aria-labelledby","profile","ngbDropdownMenu","",1,"unset-ngb-dropdwon","mt-1",3,"click"],[3,"todayWeather","showCustomizationMenu","showNotificationsMenu","showEmployeeGuid","showPrayerTime","showWeather","showPublicSearch"],[1,"header-content-item","icon-menu-container",3,"click"],[1,"icon-menu","header-icon"],[1,"outlet",3,"click"],[3,"Remmaning"],["prayerTime",""],[3,"todayWeather","location"],["weather",""],["employeeGuide",""],["publicSearch",""],[1,"menu-ovelay","customization-menu"],[1,"menu-ovelay-backdrop",3,"click"],[3,"isHeightDynamic"],[1,"menu-ovelay","notifications-menu"],["appTabActive","",3,"closeNotification"],[1,"country"],[1,"seperator"],[1,"info-section-item",3,"click"],[3,"src","alt"],[1,"degree"],[1,"icon-max"],[1,"icon-min"],["src","../../assets/images/notification-alert.svg","alt",""],["src","../../../../assets/images/profile-avatar.svg","alt","Profile"]],template:function(o,n){if(1&o){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"app-sidebar",null,0),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"picture"),e.\u0275\u0275element(5,"source",3)(6,"source",4)(7,"source",5)(8,"img",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div"),e.\u0275\u0275element(10,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,jt,3,1,"div",8),e.\u0275\u0275template(12,Vt,3,0,"div",9),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(r),e.\u0275\u0275reference(47).close(),e.\u0275\u0275resetView(n.dismissSidebar())}),e.\u0275\u0275elementStart(14,"div",11)(15,"div",12)(16,"div",13)(17,"img",14),e.\u0275\u0275listener("click",function(){return n.goToHome()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",15)(19,"div",16),e.\u0275\u0275template(20,Rt,2,1,"div",17),e.\u0275\u0275template(21,Gt,1,0,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",19),e.\u0275\u0275listener("click",function(){return n.showPrayerTime()}),e.\u0275\u0275element(23,"img",20),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275template(26,Wt,3,3,"ng-container",21),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(28,Ut,1,0,"div",18),e.\u0275\u0275template(29,$t,9,4,"div",22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"div",23)(31,"div",24)(32,"div",25),e.\u0275\u0275listener("click",function(){return n.openEmployeeGuid()}),e.\u0275\u0275element(33,"i",26),e.\u0275\u0275elementStart(34,"span",27),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",28),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"div",29),e.\u0275\u0275listener("click",function(){return n.openPublicSearch()}),e.\u0275\u0275element(41,"i",30),e.\u0275\u0275elementStart(42,"span",28),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"div",31)(46,"div",32,33),e.\u0275\u0275listener("openChange",function(p){return n.showCustomizationMenu=p}),e.\u0275\u0275elementStart(48,"button",34),e.\u0275\u0275listener("click",function(p){e.\u0275\u0275restoreView(r);const M=e.\u0275\u0275reference(47);return p.stopPropagation(),e.\u0275\u0275resetView(M.toggle())}),e.\u0275\u0275element(49,"i",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",36),e.\u0275\u0275template(51,Ht,1,0,"app-customization-menu",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(52,"span",28),e.\u0275\u0275text(53),e.\u0275\u0275pipe(54,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",37),e.\u0275\u0275element(56,"i",38),e.\u0275\u0275elementStart(57,"span",28),e.\u0275\u0275text(58),e.\u0275\u0275pipe(59,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div",39)(61,"div",40,41),e.\u0275\u0275listener("openChange",function(p){return n.closeNotification(p)}),e.\u0275\u0275elementStart(63,"button",42),e.\u0275\u0275element(64,"i",43),e.\u0275\u0275template(65,Qt,1,0,"img",44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"div",45)(67,"app-notification",46),e.\u0275\u0275listener("notificationsCount",function(p){return n.getNotificationsCount(p)})("closeNotification",function(){e.\u0275\u0275restoreView(r);const p=e.\u0275\u0275reference(62);return e.\u0275\u0275resetView(p.close())}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(68,"span",28),e.\u0275\u0275text(69),e.\u0275\u0275pipe(70,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(71,"div",47)(72,"div",48,49)(74,"button",50)(75,"app-base64-file-preview",51),e.\u0275\u0275pipe(76,"attachmentFile"),e.\u0275\u0275template(77,Yt,1,0,"ng-template",null,52,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(79,"div",53),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(r);const p=e.\u0275\u0275reference(73);return e.\u0275\u0275resetView(p.close())}),e.\u0275\u0275elementStart(80,"app-user-info",54),e.\u0275\u0275listener("showCustomizationMenu",function(){return n.showCustomizationMenuInOverlay=!0})("showNotificationsMenu",function(){return n.showNotificationsMenu=!0})("showEmployeeGuid",function(){return n.openEmployeeGuid()})("showPrayerTime",function(){return n.showPrayerTime()})("showWeather",function(){return n.showWeather()})("showPublicSearch",function(){return n.openPublicSearch()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(81,"div",55),e.\u0275\u0275listener("click",function(p){return e.\u0275\u0275restoreView(r),e.\u0275\u0275reference(47).close(),e.\u0275\u0275resetView(n.openSideBar(p))}),e.\u0275\u0275element(82,"i",56),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(83,"div",57),e.\u0275\u0275listener("click",function(){return n.hideWetherAndPrayertime()}),e.\u0275\u0275element(84,"router-outlet"),e.\u0275\u0275template(85,Jt,1,0,"app-cst-footer",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(86,"div",10),e.\u0275\u0275listener("click",function(){return n.hideWetherAndPrayertime()}),e.\u0275\u0275elementStart(87,"app-prayer-time",58,59),e.\u0275\u0275listener("Remmaning",function(p){return n.getRemmaining(p)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(89,"app-weather",60,61),e.\u0275\u0275listener("todayWeather",function(p){return n.getTodayWeather(p)})("location",function(p){return n.getLocation(p)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(91,"app-employee-guide",null,62)(93,"app-public-search",null,63)}2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275classProp("in-home-page",n.inHomePage),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("srcset",n.backgroundImageUrlSm),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("srcset",n.backgroundImageUrlMd),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("srcset",n.backgroundImageUrlLg),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",n.backgroundImageUrl,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.showCustomizationMenuInOverlay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showNotificationsMenu),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",n.location),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.location),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==n.remmaing?null:n.remmaing.remanning," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=n.remmaing&&n.remmaing.isNextSunrise)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" \xa0",null==n.remmaing||null==n.remmaing.prayer?null:n.remmaing.prayer.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.todayWeather),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.todayWeather),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(36,29,"CMSService::EmployeesGuide")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,31,"CMSService::EmployeesGuide")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(44,33,"CMSService::Search")),e.\u0275\u0275advance(3),e.\u0275\u0275property("autoClose",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",n.showCustomizationMenu),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(54,35,"CMSService::Customization:Customization")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(59,37,"CMSService::MyTasks")),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",n.totalCount>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("isNotificationShow",n.isNotificationShow),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(70,39,"CMSService::Notifications")),e.\u0275\u0275advance(6),e.\u0275\u0275property("previewMode",n.PreviewModeEnum.Image)("base64File",e.\u0275\u0275pipeBind3(76,41,n.profileImageId,n.AttachmentEntities.UserProfileImage.entity,n.AttachmentEntities.UserProfileImage.module)),e.\u0275\u0275advance(5),e.\u0275\u0275property("todayWeather",n.todayWeather),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",n.isShowFooter))},dependencies:[tt.x,g.NgIf,_.RouterOutlet,_.RouterLink,C.Base64FilePerviewComponent,mt,ee,ae,wt,Lt,st,Le,et,j.NgbDropdown,j.NgbDropdownAnchor,j.NgbDropdownToggle,j.NgbDropdownMenu,u.LocalizationPipe,C.AttachmentPipe],styles:['@keyframes _ngcontent-%COMP%_breath{25%{filter:blur(.5px)}50%{scale:1.15;filter:blur(1px)}to{scale:1.15;filter:blur(1.5px)}}  body{background-color:#f0f0f6}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.layout-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;z-index:var(--z-index-background);inset:0;background-size:cover;background-attachment:fixed;background-repeat:no-repeat;height:200px;background-color:#0003;background-blend-mode:color}.layout-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.layout-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;background:rgba(0,0,0,.2);width:100%;height:100%}.layout-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .header-shadow[_ngcontent-%COMP%]{height:100%;width:100%;background:linear-gradient(180deg,rgba(0,0,0,.75) 0%,rgba(0,0,0,0) 100%)}.layout-container[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]{padding:2rem 2rem 1rem;min-height:calc(100vh - 95px);display:flex;flex-direction:column;justify-content:space-between}.layout-container[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%]{display:none}.in-home-page[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{height:unset!important;position:fixed;animation:_ngcontent-%COMP%_breath 5s forwards;background-position:center;filter:none}.in-home-page[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .header-shadow[_ngcontent-%COMP%]{height:160px}.in-home-page[_ngcontent-%COMP%]   .outlet[_ngcontent-%COMP%]{padding:unset}.header[_ngcontent-%COMP%]{padding:24px 33px 0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.header[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100px;background:linear-gradient(180deg,rgba(0,0,0,.75) 0%,rgba(0,0,0,0) 100%);position:absolute;inset:0;z-index:-1}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;color:var(--basic-white, #fff);font-size:.75rem;font-style:normal;font-weight:700;line-height:1rem}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;width:110px}@media (max-width: 575px){.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:85px}}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]{display:flex;gap:1rem}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .seperator[_ngcontent-%COMP%]{background:#d9d9d9;width:1px;height:16px}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-section-item[_ngcontent-%COMP%]{gap:.5rem;padding:.375rem .75rem;display:flex;align-items:center;font-size:.6875rem;cursor:pointer}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-section-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-section-item[_ngcontent-%COMP%]:hover{border-radius:24px;background:rgba(255,255,255,.1);transition:all .2s ease-out}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-shortcuts[_ngcontent-%COMP%]{display:flex;gap:.75rem}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.25rem;padding:.75rem;border-radius:24px;background:rgba(255,255,255,.1);color:var(--basic-white, #fff);font-size:.75rem;font-style:normal;font-weight:700;line-height:1rem;cursor:pointer}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--basic-white, #fff);font-size:20px;line-height:20px;width:20px;height:20px;display:flex}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{margin:0}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]   .header-content-item-tooltip[_ngcontent-%COMP%]{display:flex;opacity:0;border-radius:6px;background:rgba(255,255,255,.1);padding:.125rem .5rem;position:absolute;right:50%;translate:50%;transition:all .4s ease-out;font-size:.625rem;font-style:normal;font-weight:700;line-height:1rem;white-space:nowrap}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]:hover   .header-content-item-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translateY(40px)}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .icon-menu-container[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.25);padding:calc(.75rem - 1px)}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .employee-guide-item[_ngcontent-%COMP%]   .header-content-item-tooltip[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .drop-down-item[_ngcontent-%COMP%]{padding:0}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .drop-down-item[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:.75rem;position:relative}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .drop-down-item[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.menu-ovelay[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;z-index:var(--z-index-full-layer);background-color:#00000040}.menu-ovelay[_ngcontent-%COMP%]   .menu-ovelay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0}.customization-menu[_ngcontent-%COMP%], .notifications-menu[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:30px}html[dir=ltr][_nghost-%COMP%]   .degree[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .degree[_ngcontent-%COMP%]{position:relative}html[dir=ltr][_nghost-%COMP%]   .degree[_ngcontent-%COMP%]   .icon-max[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .degree[_ngcontent-%COMP%]   .icon-max[_ngcontent-%COMP%]{position:absolute;right:20px;padding-right:1px}html[dir=ltr][_nghost-%COMP%]   .degree[_ngcontent-%COMP%]   .icon-min[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .degree[_ngcontent-%COMP%]   .icon-min[_ngcontent-%COMP%]{position:absolute;right:-3px}[_nghost-%COMP%]  .profile .dropdown-toggle{text-decoration:none}[_nghost-%COMP%]  .profile .dropdown-toggle img{width:44px;height:44px;border-radius:50%}@media screen and (max-width: 1199px){.header[_ngcontent-%COMP%]   .header-shortcuts[_ngcontent-%COMP%]   .employee-guide-item[_ngcontent-%COMP%]   .employee-guide-title[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .header-shortcuts[_ngcontent-%COMP%]   .employee-guide-item[_ngcontent-%COMP%]   .header-content-item-tooltip[_ngcontent-%COMP%]{display:flex}}@media screen and (max-width: 991px){.header[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-section-item.prayer-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]{display:none!important}}@media screen and (min-width: 360px) and (max-width: 425px){.header[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-section-item[_ngcontent-%COMP%]   .degree[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]{gap:0}}@media screen and (max-width: 767px){.header[_ngcontent-%COMP%]{gap:.5rem}.header[_ngcontent-%COMP%]   .header-content-section[_ngcontent-%COMP%]   .header-shortcuts[_ngcontent-%COMP%] > .header-content-item[_ngcontent-%COMP%]:not(.fixed-header-shortcut){display:none}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .location-section[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .header-info-section[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{gap:0}}@media screen and (max-width: 575px){.outlet[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem!important}.header[_ngcontent-%COMP%]{padding:.625rem 1rem 0;gap:.25rem;position:sticky}.layout-container[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{height:115px}}.container-xxxl[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;width:100%;padding-left:calc(var(--bs-gutter-x) * .5);padding-right:calc(var(--bs-gutter-x) * .5);margin-left:auto;margin-right:auto}@media (min-width: 2180px){.container-xxxl[_ngcontent-%COMP%], .container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:2100px}}.avatar-image[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:100px;font-size:14px}']})}return i})()}}]);