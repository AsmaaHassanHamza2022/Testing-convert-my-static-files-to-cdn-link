(self.webpackChunkportal=self.webpackChunkportal||[]).push([[79585],{79585:(sr,Je,Y)=>{Y.r(Je),Y.d(Je,{CalendarA11y:()=>se,CalendarAngularDateFormatter:()=>bt,CalendarCommonModule:()=>ee,CalendarDateFormatter:()=>le,CalendarDayModule:()=>Xe,CalendarDayViewComponent:()=>ir,CalendarEventTimesChangedEventType:()=>P,CalendarEventTitleFormatter:()=>Ce,CalendarModule:()=>rr,CalendarMomentDateFormatter:()=>Ji,CalendarMonthModule:()=>Ye,CalendarMonthViewComponent:()=>er,CalendarNativeDateFormatter:()=>Qi,CalendarUtils:()=>ce,CalendarView:()=>J,CalendarWeekModule:()=>De,CalendarWeekViewComponent:()=>Ft,DAYS_OF_WEEK:()=>ue,DateAdapter:()=>A,MOMENT:()=>xt,collapseAnimation:()=>Ot,getWeekViewPeriod:()=>Q,\u0275CalendarA11yPipe:()=>j,\u0275CalendarDatePipe:()=>de,\u0275CalendarEventActionsComponent:()=>Be,\u0275CalendarEventTitleComponent:()=>Le,\u0275CalendarEventTitlePipe:()=>_e,\u0275CalendarMonthCellComponent:()=>Mt,\u0275CalendarMonthViewHeaderComponent:()=>Ht,\u0275CalendarNextViewDirective:()=>Zi,\u0275CalendarOpenDayEventsComponent:()=>Vt,\u0275CalendarPreviousViewDirective:()=>Ki,\u0275CalendarTodayDirective:()=>qi,\u0275CalendarTooltipDirective:()=>Pe,\u0275CalendarTooltipWindowComponent:()=>_t,\u0275CalendarWeekViewCurrentTimeMarkerComponent:()=>Wt,\u0275CalendarWeekViewEventComponent:()=>zt,\u0275CalendarWeekViewHeaderComponent:()=>It,\u0275CalendarWeekViewHourSegmentComponent:()=>Rt,\u0275ClickDirective:()=>N,\u0275KeydownEnterDirective:()=>oe});var n=Y(11705),f=Y(62411),x=Y(4125),g=Y(32070),Bt=function(){function t(){}return t.prototype.getAllStyles=function(r){return window.getComputedStyle(r)},t.prototype.getStyle=function(r,e){return this.getAllStyles(r)[e]},t.prototype.isStaticPositioned=function(r){return"static"===(this.getStyle(r,"position")||"static")},t.prototype.offsetParent=function(r){for(var e=r.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(r,e){void 0===e&&(e=!0);var i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))i={top:(i=r.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(r);i=this.offset(r,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.offset=function(r,e){void 0===e&&(e=!0);var i=r.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:i.height||r.offsetHeight,width:i.width||r.offsetWidth,top:i.top+a_top,bottom:i.bottom+a_top,left:i.left+a_left,right:i.right+a_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(r,e,i,a){var o=i.split("-"),s=o[0],l=void 0===s?"top":s,c=o[1],d=void 0===c?"center":c,u=a?this.offset(r,!1):this.position(r,!1),p=this.getAllStyles(e),w=parseFloat(p.marginTop),m=parseFloat(p.marginBottom),y=parseFloat(p.marginLeft),D=parseFloat(p.marginRight),C=0,E=0;switch(l){case"top":C=u.top-(e.offsetHeight+w+m);break;case"bottom":C=u.top+u.height;break;case"left":E=u.left-(e.offsetWidth+y+D);break;case"right":E=u.left+u.width}switch(d){case"top":C=u.top;break;case"bottom":C=u.top+u.height-e.offsetHeight;break;case"left":E=u.left;break;case"right":E=u.left+u.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?E=u.left+u.width/2-e.offsetWidth/2:C=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(E)+"px, "+Math.round(C)+"px)";var T=e.getBoundingClientRect(),_=document.documentElement,S=window.innerHeight||_.clientHeight,O=window.innerWidth||_.clientWidth;return T.left>=0&&T.top>=0&&T.right<=O&&T.bottom<=S},t}(),Lt=/\s+/,Qe=new Bt,W=function(){return W=Object.assign||function(t){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},W.apply(this,arguments)},Te=function(t,r,e){if(e||2===arguments.length)for(var o,i=0,a=r.length;i<a;i++)(o||!(i in r))&&(o||(o=Array.prototype.slice.call(r,0,i)),o[i]=r[i]);return t.concat(o||Array.prototype.slice.call(r))},ue=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(ue||{}),$t=[ue.SUNDAY,ue.SATURDAY],ke=7,$=86400;function et(t,r){var e=r.startDate,a=r.excluded,o=r.precision;if(a.length<1)return 0;for(var l=t.getDay,c=t.addDays,d=(0,t.addSeconds)(e,r.seconds-1),u=l(e),p=l(d),w=0,m=e,y=function(){var D=l(m);a.some(function(C){return C===D})&&(w+=function Nt(t,r){var i=r.day,o=r.dayEnd,s=r.startDate,l=r.endDate,c=t.differenceInSeconds,u=t.startOfDay;if("minutes"===r.precision){if(i===r.dayStart)return c((0,t.endOfDay)(s),s)+1;if(i===o)return c(l,u(l))+1}return $}(t,{dayStart:u,dayEnd:p,day:D,precision:o,startDate:e,endDate:d})),m=c(m,1)};m<d;)y();return w}function ne(t,r){var i=r.periodStart,a=r.periodEnd;return r.events.filter(function(o){return function Xt(t,r){var e=r.event,i=r.periodStart,a=r.periodEnd,o=t.isSameSecond,s=e.start,l=e.end||e.start;return!!(s>i&&s<a||l>i&&l<a||s<i&&l>a||o(s,i)||o(s,a)||o(l,i)||o(l,a))}(t,{event:o,periodStart:i,periodEnd:a})})}function tt(t,r){var e=r.date,i=r.weekendDays,a=void 0===i?$t:i,s=t.isSameDay,l=t.getDay,c=(0,t.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:a.indexOf(d)>-1}}function be(t,r){for(var a=r.excluded,o=void 0===a?[]:a,s=r.weekendDays,l=r.viewStart,c=void 0===l?t.startOfWeek(r.viewDate,{weekStartsOn:r.weekStartsOn}):l,d=r.viewEnd,u=void 0===d?t.addDays(c,ke):d,p=t.addDays,w=t.getDay,m=[],y=c;y<u;)o.some(function(D){return w(y)===D})||m.push(tt(t,{date:y,weekendDays:s})),y=p(y,1);return m}function Gt(t,r){var e=r.events,i=void 0===e?[]:e,a=r.excluded,o=void 0===a?[]:a,s=r.precision,l=void 0===s?"days":s,c=r.absolutePositionedEvents,d=void 0!==c&&c,u=r.viewStart,p=r.viewEnd;u=t.startOfDay(u),p=t.endOfDay(p);var w=t.differenceInSeconds,m=t.differenceInDays,y=function Ut(t,r){for(var i=r.date2,a=r.excluded,o=r.date1,s=0;o<i;)-1===a.indexOf(t.getDay(o))&&s++,o=t.addDays(o,1);return s}(t,{date1:u,date2:p,excluded:o}),D=m(p,u)+1,C=i.filter(function(_){return _.allDay}).map(function(_){var S=function Yt(t,r){var e=r.event,i=r.startOfWeek,a=r.excluded,o=r.precision,s=t.differenceInDays,l=t.startOfDay,c=t.differenceInSeconds;if(e.start<i)return 0;var d=0;switch(o){case"days":d=s(l(e.start),i)*$;break;case"minutes":d=c(e.start,i)}return d-=et(t,{startDate:i,seconds:d,excluded:a,precision:o}),Math.abs(d/$)}(t,{event:_,startOfWeek:u,excluded:o,precision:l}),O=function jt(t,r){var e=r.event,i=r.offset,o=r.excluded,s=r.precision,l=r.totalDaysInView,d=t.differenceInSeconds,u=t.addDays,p=t.endOfDay,w=t.differenceInDays,m=$,y=(0,t.max)([e.start,r.startOfWeekDate]);e.end&&(m="minutes"===s?d(e.end,y):w(u(p(e.end),1),y)*$);var D=i*$,E=l*$;return D+m>E&&(m=E-D),(m-=et(t,{startDate:y,seconds:m,excluded:o,precision:s}))/$}(t,{event:_,offset:S,startOfWeekDate:u,excluded:o,precision:l,totalDaysInView:D});return{event:_,offset:S,span:O}}).filter(function(_){return _.offset<y}).filter(function(_){return _.span>0}).map(function(_){return{event:_.event,offset:_.offset,span:_.span,startsBeforeWeek:_.event.start<u,endsAfterWeek:(_.event.end||_.event.start)>p}}).sort(function(_,S){var O=w(_.event.start,S.event.start);return 0===O?w(S.event.end||S.event.start,_.event.end||_.event.start):O}),E=[],T=[];return C.forEach(function(_,S){if(-1===T.indexOf(_)){T.push(_);var O=_.span+_.offset,H=C.slice(S+1).filter(function(k){if(k.offset>=O&&O+k.span<=D&&-1===T.indexOf(k)){var b=k.offset-O;return d||(k.offset=b),O+=k.span+b,T.push(k),!0}}),z=Te([_],H,!0),M=z.filter(function(k){return k.event.id}).map(function(k){return k.event.id}).join("-");E.push(W({row:z},M?{id:M}:{}))}}),E}function Kt(t,r){var e=r.events,i=r.viewDate,a=r.hourSegments,o=r.hourDuration,s=r.dayStart,l=r.dayEnd,c=r.weekStartsOn,d=r.excluded,u=r.weekendDays,p=r.segmentHeight,w=r.viewStart,m=r.viewEnd,y=r.minimumEventHeight,D=function Qt(t,r){var e=r.viewDate,i=r.hourSegments,a=r.hourDuration,o=r.dayStart,s=r.dayEnd,l=t.setMinutes,c=t.setHours,d=t.startOfDay,u=t.startOfMinute,p=t.endOfDay,w=t.addMinutes,m=t.addDays,y=[],D=l(c(d(e),he(o.hour)),ve(o.minute)),C=l(c(u(p(e)),he(s.hour)),ve(s.minute)),E=(a||60)/i,T=d(e),_=p(e),S=function(b){return b};t.getTimezoneOffset(T)!==t.getTimezoneOffset(_)&&(T=m(T,1),D=m(D,1),C=m(C,1),S=function(b){return m(b,-1)});for(var O=a?1440/a:60,H=0;H<O;H++){for(var z=[],M=0;M<i;M++){var k=w(w(D,H*(a||60)),M*E);k>=D&&k<C&&z.push({date:S(k),displayDate:k,isStart:0===M})}z.length>0&&y.push({segments:z})}return y}(t,{viewDate:i,hourSegments:a,hourDuration:o,dayStart:s,dayEnd:l}),C=be(t,{viewDate:i,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:w,viewEnd:m}),E=t.setHours,T=t.setMinutes,_=t.getHours,S=t.getMinutes;return C.map(function(O){var H=function Jt(t,r){var e=r.events,i=r.viewDate,a=r.hourSegments,o=r.dayStart,s=r.dayEnd,l=r.eventWidth,c=r.segmentHeight,d=r.hourDuration,u=r.minimumEventHeight,p=t.setMinutes,w=t.setHours,m=t.startOfDay,y=t.startOfMinute,D=t.endOfDay,C=t.differenceInMinutes,E=p(w(m(i),he(o.hour)),ve(o.minute)),T=p(w(y(D(i)),he(s.hour)),ve(s.minute));T.setSeconds(59,999);var _=[],S=ne(t,{events:e.filter(function(M){return!M.allDay}),periodStart:E,periodEnd:T}),O=S.sort(function(M,k){return M.start.valueOf()-k.start.valueOf()}).map(function(M){var k=M.start,b=M.end||k,v=k<E,h=b>T,I=a*c/(d||60),V=0;if(k>E){var Ue=t.getTimezoneOffset(k),Ee=t.getTimezoneOffset(E)-Ue;V+=C(k,E)+Ee}V*=I,V=Math.floor(V);var Ke=v?E:k,R=h?T:b,te=t.getTimezoneOffset(Ke)-t.getTimezoneOffset(R),B=C(R,Ke)+te;M.end?B*=I:B=c,u&&B<u&&(B=u),B=Math.floor(B);for(var ar=pe(_,V,V+B),qe=0;ar.some(function(or){return or.left===qe});)qe+=l;var At={event:M,height:B,width:l,top:V,left:qe,startsBeforeDay:v,endsAfterDay:h};return _.push(At),At}),H=Math.max.apply(Math,O.map(function(M){return M.left+M.width})),z=ne(t,{events:e.filter(function(M){return M.allDay}),periodStart:m(E),periodEnd:D(T)});return{events:O,width:H,allDayEvents:z,period:{events:S,start:E,end:T}}}(t,{events:e,viewDate:O.date,hourSegments:a,dayStart:s,dayEnd:l,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:y}),z=D.map(function(b){var v=b.segments.map(function(h){var I=T(E(O.date,_(h.date)),S(h.date));return W(W({},h),{date:I})});return W(W({},b),{segments:v})});function M(b,v){var h=Math.max.apply(Math,v.map(function(V){return V.left+1})),I=b.filter(function(V){return V.left>=h}).filter(function(V){return pe(v,V.top,V.top+V.height).length>0});return I.length>0?M(b,I):h}var k=H.events.map(function(b){var h=100/M(H.events,pe(H.events,b.top,b.top+b.height));return W(W({},b),{left:b.left*h,width:h})});return{hours:z,date:O.date,events:k.map(function(b){var v=pe(k.filter(function(h){return h.left>b.left}),b.top,b.top+b.height);return v.length>0?W(W({},b),{width:Math.min.apply(Math,v.map(function(h){return h.left}))-b.left}):b})}})}function pe(t,r,e){return t.filter(function(i){var a=i.top,o=i.top+i.height;return r<o&&o<e||r<a&&a<e||a<=r&&e<=o})}function he(t){return Math.max(Math.min(23,t),0)}function ve(t){return Math.max(Math.min(59,t),0)}var G=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(G||{});function xe(t,r){return t=function tn(t,r){return typeof t>"u"?typeof r>"u"?t:r:t}(t,r),"function"==typeof t?function(){for(var i=arguments,a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=i[s];return!!t.apply(this,o)}:t?function(){return!0}:function(){return!1}}var Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},nt=function(t){return null!=t&&"object"===(typeof t>"u"?"undefined":Me(t))&&1===t.nodeType&&"object"===Me(t.style)&&"object"===Me(t.ownerDocument)};function it(t,r){if(r=Ve(r,!0),!nt(r))return-1;for(var e=0;e<t.length;e++)if(t[e]===r)return e;return-1}function Oe(t,r){return-1!==it(t,r)}function rn(t){for(var r=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=r[i+1];return function nn(t,r){for(var e=0;e<r.length;e++)Oe(t,r[e])||t.push(r[e]);return r}(t,e=e.map(Ve))}function an(t){for(var r=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=r[i+1];return e.map(Ve).reduce(function(a,o){var s=it(t,o);return-1!==s?a.concat(t.splice(s,1)):a},[])}function Ve(t,r){if("string"==typeof t)try{return document.querySelector(t)}catch(e){throw e}if(!nt(t)&&!r)throw new TypeError(t+" is not a DOM element.");return t}function rt(t){if(t===window)return function sn(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var r={};return Object.defineProperties(r,t),r}();try{var r=t.getBoundingClientRect();return void 0===r.x&&(r.x=r.left,r.y=r.top),r}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}var r,He=void 0;"function"!=typeof Object.create?(r=function(){},He=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");r.prototype=e||{};var a=new r;return r.prototype=null,void 0!==i&&Object.defineProperties(a,i),null===e&&(a.__proto__=null),a}):He=Object.create;var dn=He,X=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Ie(t,r){r=r||{};for(var e=dn(t),i=0;i<X.length;i++)void 0!==r[X[i]]&&(e[X[i]]=r[X[i]]);return e}function ze(t,r){console.log("data ",r),t.data=r||{},t.dispatched="mousemove"}var ie=["webkit","moz","ms","o"],re=function(){if(typeof window>"u")return function(){};for(var t=0,r=ie.length;t<r&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[ie[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var a=(new Date).getTime(),o=Math.max(0,16-a-e),s=window.setTimeout(function(){return i(a+o)},o);return e=a+o,s}}return window.requestAnimationFrame.bind(window)}(),K=function(){if(typeof window>"u")return function(){};for(var t=0,r=ie.length;t<r&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[ie[t]+"CancelAnimationFrame"]||window[ie[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function un(t,r){void 0===r&&(r={});var e=this,i=4,a=!1;if("object"!=typeof r.margin){var o=r.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=r.margin;this.scrollWhenOutside=r.scrollWhenOutside||!1;var s={},l=function on(t,r){var e=xe((r=r||{}).allowUpdate,!0);return function(a){if(a=a||window.event,t.target=a.target||a.srcElement||a.originalTarget,t.element=this,t.type=a.type,e(a)){if(a.targetTouches)t.x=a.targetTouches[0].clientX,t.y=a.targetTouches[0].clientY,t.pageX=a.targetTouches[0].pageX,t.pageY=a.targetTouches[0].pageY,t.screenX=a.targetTouches[0].screenX,t.screenY=a.targetTouches[0].screenY;else{if(null===a.pageX&&null!==a.clientX){var o=a.target&&a.target.ownerDocument||document,s=o.documentElement,l=o.body;t.pageX=a.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),t.pageY=a.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else t.pageX=a.pageX,t.pageY=a.pageY;t.x=a.clientX,t.y=a.clientY,t.screenX=a.screenX,t.screenY=a.screenY}t.clientX=t.x,t.clientY=t.y}}}(s),c=function cn(t){var r={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(o){for(var s=0;s<X.length;s++)r[X[s]]=o[X[s]]}return void 0!==t&&t.addEventListener("mousemove",e),{destroy:function a(){t&&t.removeEventListener("mousemove",e,!1),r=null},dispatch:MouseEvent?function(s,l,c){var d=new MouseEvent("mousemove",Ie(r,l));return ze(d,c),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,c){var d=Ie(r,l),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),ze(u,c),s.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(s,l,c){var d=document.createEventObject(),u=Ie(r,l);for(var p in u)d[p]=u[p];return ze(d,c),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(r.maxSpeed)||(i=r.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=xe(r.autoScroll),this.syncMove=xe(r.syncMove,!1),this.destroy=function(v){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",D,!1),window.removeEventListener("touchstart",D,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("touchend",C,!1),window.removeEventListener("pointerup",C,!1),window.removeEventListener("mouseleave",T,!1),window.removeEventListener("mousemove",O,!1),window.removeEventListener("touchmove",O,!1),window.removeEventListener("scroll",y,!0),t=[],v&&E()},this.add=function(){for(var v=[],h=arguments.length;h--;)v[h]=arguments[h];return rn.apply(void 0,[t].concat(v)),this},this.remove=function(){for(var v=[],h=arguments.length;h--;)v[h]=arguments[h];return an.apply(void 0,[t].concat(v))};var p,v,u=null;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),v=t,t=[],v.forEach(function(h){h===window?u=window:e.add(h)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return s}},scrolling:{get:function(){return a}}});var m,w=null;function y(v){for(var h=0;h<t.length;h++)if(t[h]===v.target){a=!0;break}a&&re(function(){return a=!1})}function D(){d=!0}function C(){d=!1,E()}function E(){K(m),K(p)}function T(){d=!1}function S(){for(var v=null,h=0;h<t.length;h++)at(s,t[h])&&(v=t[h]);return v}function O(v){if(e.autoScroll()&&!v.dispatched){var h=v.target,I=document.body;w&&!at(s,w)&&(e.scrollWhenOutside||(w=null)),h&&h.parentNode===I?h=S():(h=function _(v){if(!v)return null;if(w===v||Oe(t,v))return v;for(;v=v.parentNode;)if(Oe(t,v))return v;return null}(h),h||(h=S())),h&&h!==w&&(w=h),u&&(K(p),p=re(H)),w&&(K(m),m=re(z))}}function H(){M(u),K(p),p=re(H)}function z(){w&&(M(w),K(m),m=re(z))}function M(v){var I,V,h=rt(v);I=s.x<h.left+e.margin.left?Math.floor(Math.max(-1,(s.x-h.left)/e.margin.left-1)*e.maxSpeed.left):s.x>h.right-e.margin.right?Math.ceil(Math.min(1,(s.x-h.right)/e.margin.right+1)*e.maxSpeed.right):0,V=s.y<h.top+e.margin.top?Math.floor(Math.max(-1,(s.y-h.top)/e.margin.top-1)*e.maxSpeed.top):s.y>h.bottom-e.margin.bottom?Math.ceil(Math.min(1,(s.y-h.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch(v,{pageX:s.pageX+I,pageY:s.pageY+V,clientX:s.x+I,clientY:s.y+V}),setTimeout(function(){V&&function k(v,h){v===window?window.scrollTo(v.pageXOffset,v.pageYOffset+h):v.scrollTop+=h}(v,V),I&&function b(v,h){v===window?window.scrollTo(v.pageXOffset+h,v.pageYOffset):v.scrollLeft+=h}(v,I)})}window.addEventListener("mousedown",D,!1),window.addEventListener("touchstart",D,!1),window.addEventListener("mouseup",C,!1),window.addEventListener("touchend",C,!1),window.addEventListener("pointerup",C,!1),window.addEventListener("mousemove",O,!1),window.addEventListener("touchmove",O,!1),window.addEventListener("mouseleave",T,!1),window.addEventListener("scroll",y,!0)}function at(t,r,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:function ln(t,r){var e=rt(r);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}(t,r)}function Re(t,r,e){e&&e.split(" ").forEach(i=>t.addClass(r.nativeElement,i))}function fe(t,r,e){e&&e.split(" ").forEach(i=>t.removeClass(r.nativeElement,i))}let ot=(()=>{class t{constructor(){this.currentDrag=new x.Subject}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),st=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),We=(()=>{class t{constructor(e,i,a,o,s,l,c){this.element=e,this.renderer=i,this.draggableHelper=a,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new n.EventEmitter,this.dragStart=new n.EventEmitter,this.ghostElementCreated=new n.EventEmitter,this.dragging=new n.EventEmitter,this.dragEnd=new n.EventEmitter,this.pointerDown$=new x.Subject,this.pointerMove$=new x.Subject,this.pointerUp$=new x.Subject,this.eventListenerSubscriptions={},this.destroy$=new x.Subject,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,g.filter)(()=>this.canDrag()),(0,g.mergeMap)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(a)});const o=this.getScrollPosition(),s=new x.Observable(m=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",D=>m.next(D))).pipe((0,g.startWith)(o),(0,g.map)(()=>this.getScrollPosition())),l=new x.Subject,c=new x.ReplaySubject;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,x.merge)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,g.share)()),u=(0,x.combineLatest)([this.pointerMove$,s]).pipe((0,g.map)(([m,y])=>({currentDrag$:l,transformX:m.clientX-i.clientX,transformY:m.clientY-i.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:y.left,scrollTop:y.top,target:m.event.target})),(0,g.map)(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),(0,g.map)(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),(0,g.map)(m=>{const y=m.scrollLeft-o.left,D=m.scrollTop-o.top;return{...m,x:m.transformX+y,y:m.transformY+D}}),(0,g.filter)(({x:m,y,transformX:D,transformY:C})=>!this.validateDrag||this.validateDrag({x:m,y,transform:{x:D,y:C}})),(0,g.takeUntil)(d),(0,g.share)()),p=u.pipe((0,g.take)(1),(0,g.share)()),w=u.pipe((0,g.takeLast)(1),(0,g.share)());return p.subscribe(({clientX:m,clientY:y,x:D,y:C})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function mn(t,r){return new un(t,r)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),Re(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const E=this.element.nativeElement.getBoundingClientRect(),T=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(T):this.element.nativeElement.parentNode.insertBefore(T,this.element.nativeElement.nextSibling),this.ghostElement=T,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(T,{position:"fixed",top:`${E.top}px`,left:`${E.left}px`,width:`${E.width}px`,height:`${E.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const _=this.vcr.createEmbeddedView(this.ghostElementTemplate);T.innerHTML="",_.rootNodes.filter(S=>S instanceof Node).forEach(S=>{T.appendChild(S)}),w.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(_))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-D,clientY:y-C,element:T})}),w.subscribe(()=>{T.parentElement.removeChild(T),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),w.pipe((0,g.mergeMap)(m=>{const y=c.pipe((0,g.count)(),(0,g.take)(1),(0,g.map)(D=>({...m,dragCancelled:D>0})));return c.complete(),y})).subscribe(({x:m,y,dragCancelled:D})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y,dragCancelled:D})}),fe(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,x.merge)(d,w).pipe((0,g.take)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),u}),(0,g.share)());(0,x.merge)(e.pipe((0,g.take)(1),(0,g.map)(i=>[,i])),e.pipe((0,g.pairwise)())).pipe((0,g.filter)(([i,a])=>!i||i.x!==a.x||i.y!==a.y),(0,g.map)(([i,a])=>a)).subscribe(({x:i,y:a,currentDrag$:o,clientX:s,clientY:l,transformX:c,transformY:d,target:u})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){const p=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:u})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,a,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),a=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,x.fromEvent)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=(0,x.fromEvent)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!a&&o&&(a=this.shouldBeginDrag(e,c,i)),(!this.touchStartLongPress||!o||a)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(a=>{this.renderer.setStyle(e,a,i[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,a){const o=this.getScrollPosition(),s_top=Math.abs(o.top-a.top),s_left=Math.abs(o.left-a.left),l=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-s_left,c=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-s_top,u=this.touchStartLongPress;return(l+c>u.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(ot),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ViewContainerRef),n.\u0275\u0275directiveInject(st,8),n.\u0275\u0275directiveInject(f.DOCUMENT))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[n.\u0275\u0275NgOnChangesFeature]}),t})();function lt(t,r,e){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom}let Fe=(()=>{class t{constructor(e,i,a,o,s){this.element=e,this.draggableHelper=i,this.zone=a,this.renderer=o,this.scrollContainer=s,this.dragEnter=new n.EventEmitter,this.dragLeave=new n.EventEmitter,this.dragOver=new n.EventEmitter,this.drop=new n.EventEmitter}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Re(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let o;const s=e.pipe((0,g.map)(({clientX:d,clientY:u,dropData:p,target:w})=>{o={clientX:d,clientY:u,dropData:p,target:w},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const m=lt(d,u,i.rect),y=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:w,dropData:p});return i.scrollContainerRect?m&&y&&lt(d,u,i.scrollContainerRect):m&&y})),l=s.pipe((0,g.distinctUntilChanged)());let c;l.pipe((0,g.filter)(d=>d)).subscribe(()=>{c=!0,Re(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe((0,g.filter)(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),l.pipe((0,g.pairwise)(),(0,g.filter)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,fe(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),e.subscribe({complete:()=>{a(),fe(this.renderer,this.element,this.dragActiveClass),c&&(fe(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(ot),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(st,8))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),t})();var L=Y(47615);const U=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function dt(t,r,e,i){const a=r.querySelectorAll(t);if(a.length){const o=e.querySelectorAll(t);for(let s=0;s<a.length;s++)i(a[s],o[s])}}let vn=0;function ct(t,r){"file"!==r.type&&(r.value=t.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${vn++}`)}function ut(t,r){const e=r.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function mt(t,r,e,i){const a={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return r.top&&(a.top+=i),r.bottom&&(a.bottom+=i),r.left&&(a.left+=e),r.right&&(a.right+=e),a.height=a.bottom-a.top,a.width=a.right-a.left,a}const pt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function ht(t,r){return t.left&&t.top?r.topLeft:t.right&&t.top?r.topRight:t.left&&t.bottom?r.bottomLeft:t.right&&t.bottom?r.bottomRight:t.left||t.right?r.leftOrRight:t.top||t.bottom?r.topOrBottom:""}function ye({edges:t,initialRectangle:r,newRectangle:e}){const i={};return Object.keys(t).forEach(a=>{i[a]=(e[a]||0)-(r[a]||0)}),i}const vt="resize-active";let ft=(()=>{class t{constructor(e,i,a,o){this.platformId=e,this.renderer=i,this.elm=a,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=pt,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new n.EventEmitter,this.resizing=new n.EventEmitter,this.resizeEnd=new n.EventEmitter,this.mouseup=new x.Subject,this.mousedown=new x.Subject,this.mousemove=new x.Subject,this.destroy$=new x.Subject,this.pointerEventListeners=Z.getInstance(i,o)}ngOnInit(){const e=(0,x.merge)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,x.merge)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,g.tap)(({event:d})=>{o&&d.cancelable&&d.preventDefault()}),(0,g.share)()),a=(0,x.merge)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>({...pt,...this.resizeCursors});e.pipe((0,g.mergeMap)(d=>{function u(m){return{clientX:m.clientX-d.clientX,clientY:m.clientY-d.clientY}}const p=()=>{const m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function w(m,y){return{x:Math.ceil(m.clientX/y.x),y:Math.ceil(m.clientY/y.y)}}return(0,x.merge)(i.pipe((0,g.take)(1)).pipe((0,g.map)(m=>[,m])),i.pipe((0,g.pairwise)())).pipe((0,g.map)(([m,y])=>[m&&u(m),u(y)])).pipe((0,g.filter)(([m,y])=>{if(!m)return!0;const D=p(),C=w(m,D),E=w(y,D);return C.x!==E.x||C.y!==E.y})).pipe((0,g.map)(([,m])=>{const y=p();return{clientX:Math.round(m.clientX/y.x)*y.x,clientY:Math.round(m.clientY/y.y)*y.y}})).pipe((0,g.takeUntil)((0,x.merge)(a,e)))})).pipe((0,g.filter)(()=>!!o)).pipe((0,g.map)(({clientX:d,clientY:u})=>mt(o.startingRect,o.edges,d,u))).pipe((0,g.filter)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,g.filter)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:ye({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,g.takeUntil)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:ye({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),e.pipe((0,g.map)(({edges:d})=>d||{}),(0,g.filter)(d=>Object.keys(d).length>0),(0,g.takeUntil)(this.destroy$)).subscribe(d=>{o&&s();const u=function fn(t,r){let e=0,i=0;const a=t.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>a[l]).find(l=>!!l);if(s&&s.includes("translate")&&(e=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===r)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-i,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-i,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{const l=t.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-i,bottom:l.bottom-i,left:l.left-e,right:l.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const p=l(),w=ht(o.edges,p);this.renderer.setStyle(document.body,"cursor",w),this.setElementClass(this.elm,vt,!0),this.enableGhostResize&&(o.clonedNode=function hn(t){const r=t.cloneNode(!0),e=r.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();return r.removeAttribute("id"),e.forEach(a=>{a.removeAttribute("id")}),"canvas"===i?ut(t,r):("input"===i||"select"===i||"textarea"===i)&&ct(t,r),dt("canvas",t,r,ut),dt("input, textarea, select",t,r,ct),r}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",ht(o.edges,p)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:ye({edges:d,initialRectangle:u,newRectangle:u}),rectangle:mt(u,{},0,0)})})}),a.pipe((0,g.takeUntil)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,vt),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:ye({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,f.isPlatformBrowser)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,a){a?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.PLATFORM_ID),n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})();class Z{constructor(r,e){this.pointerDown=new x.Observable(i=>{let a,o;return e.runOutsideAngular(()=>{a=r.listen("document","mousedown",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),U&&(o=r.listen("document","touchstart",s=>{i.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{a(),U&&o()}}).pipe((0,g.share)()),this.pointerMove=new x.Observable(i=>{let a,o;return e.runOutsideAngular(()=>{a=r.listen("document","mousemove",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),U&&(o=r.listen("document","touchmove",s=>{i.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{a(),U&&o()}}).pipe((0,g.share)()),this.pointerUp=new x.Observable(i=>{let a,o,s;return e.runOutsideAngular(()=>{a=r.listen("document","mouseup",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),U&&(o=r.listen("document","touchend",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=r.listen("document","touchcancel",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{a(),U&&(o(),s())}}).pipe((0,g.share)())}static getInstance(r,e){return Z.instance||(Z.instance=new Z(r,e)),Z.instance}}let wn=(()=>{class t{constructor(e,i,a,o){this.renderer=e,this.element=i,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new x.Subject}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),U&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,x.merge)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,a){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:a,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,a){this.resizable.mousemove.next({clientX:i,clientY:a,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,x.fromEvent)(this.element.nativeElement,e).pipe((0,g.takeUntil)(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(ft,8))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),t})();const Cn=function(t){return{action:t}};function _n(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"a",5),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2).event;return n.\u0275\u0275resetView(s.onClick({event:l,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2).event;return n.\u0275\u0275resetView(s.onClick({event:l,sourceEvent:a}))}),n.\u0275\u0275pipe(1,"calendarA11y"),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit;n.\u0275\u0275property("ngClass",e.cssClass)("innerHtml",e.label,n.\u0275\u0275sanitizeHtml),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(1,3,n.\u0275\u0275pureFunction1(6,Cn,e),"actionButtonLabel"))}}function Dn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"span",3),n.\u0275\u0275template(1,_n,2,8,"a",4),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext(),i=e.event,a=e.trackByActionId;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",i.actions)("ngForTrackBy",a)}}function En(t,r){1&t&&n.\u0275\u0275template(0,Dn,2,2,"span",2),2&t&&n.\u0275\u0275property("ngIf",r.event.actions)}function Tn(t,r){}const kn=function(t,r){return{event:t,trackByActionId:r}},q=function(){return{}};function Sn(t,r){if(1&t&&(n.\u0275\u0275element(0,"span",2),n.\u0275\u0275pipe(1,"calendarEventTitle"),n.\u0275\u0275pipe(2,"calendarA11y")),2&t){const e=r.event;n.\u0275\u0275property("innerHTML",n.\u0275\u0275pipeBind3(1,2,e.title,r.view,e),n.\u0275\u0275sanitizeHtml),n.\u0275\u0275attribute("aria-hidden",n.\u0275\u0275pipeBind2(2,6,n.\u0275\u0275pureFunction0(9,q),"hideEventTitle"))}}function bn(t,r){}const xn=function(t,r){return{event:t,view:r}};function Mn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275element(1,"div",3)(2,"div",4),n.\u0275\u0275elementEnd()),2&t){const e=r.contents;n.\u0275\u0275property("ngClass","cal-tooltip-"+r.placement),n.\u0275\u0275advance(2),n.\u0275\u0275property("innerHtml",e,n.\u0275\u0275sanitizeHtml)}}function On(t,r){}const Vn=function(t,r,e){return{contents:t,placement:r,event:e}};function Hn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"span",7),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext().day;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(e.badgeTotal)}}const Ae=function(t){return{backgroundColor:t}},In=function(t,r){return{event:t,draggedFrom:r}},ae=function(t,r){return{x:t,y:r}},we=function(){return{delay:300,delta:30}};function zn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",10),n.\u0275\u0275listener("mouseenter",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(2).highlightDay;return n.\u0275\u0275resetView(s.emit({event:o}))})("mouseleave",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(2).unhighlightDay;return n.\u0275\u0275resetView(s.emit({event:o}))})("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2).eventClicked;return n.\u0275\u0275resetView(l.emit({event:s,sourceEvent:a}))}),n.\u0275\u0275pipe(1,"calendarEventTitle"),n.\u0275\u0275pipe(2,"calendarA11y"),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(2),a=i.tooltipPlacement,o=i.tooltipTemplate,s=i.tooltipAppendToBody,l=i.tooltipDelay,c=i.day,d=i.validateDrag;n.\u0275\u0275classProp("cal-draggable",e.draggable),n.\u0275\u0275property("ngStyle",n.\u0275\u0275pureFunction1(22,Ae,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",n.\u0275\u0275pipeBind3(1,15,e.title,"monthTooltip",e))("tooltipPlacement",a)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",n.\u0275\u0275pureFunction2(24,In,e,c))("dragAxis",n.\u0275\u0275pureFunction2(27,ae,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",n.\u0275\u0275pureFunction0(30,we)),n.\u0275\u0275attribute("aria-hidden",n.\u0275\u0275pipeBind2(2,19,n.\u0275\u0275pureFunction0(31,q),"hideMonthCellEvents"))}}function Rn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",8),n.\u0275\u0275template(1,zn,3,32,"div",9),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext(),i=e.day,a=e.trackByEventId;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",i.events)("ngForTrackBy",a)}}const Wn=function(t,r){return{day:t,locale:r}};function Fn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275pipe(1,"calendarA11y"),n.\u0275\u0275elementStart(2,"span",3),n.\u0275\u0275template(3,Hn,2,1,"span",4),n.\u0275\u0275elementStart(4,"span",5),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"calendarDate"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275template(7,Rn,2,2,"div",6)),2&t){const e=r.day,i=r.locale;n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(1,4,n.\u0275\u0275pureFunction2(11,Wn,e,i),"monthCell")),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",e.badgeTotal>0),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind3(6,7,e.date,"monthViewDayNumber",i)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",e.events.length>0)}}function An(t,r){}const Bn=function(t,r,e,i,a,o,s,l,c,d,u,p){return{day:t,openDay:r,locale:e,tooltipPlacement:i,highlightDay:a,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:u,validateDrag:p}},Ln=function(t){return{event:t}},yt=function(t,r){return{event:t,locale:r}};function Pn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",7),n.\u0275\u0275element(1,"span",8),n.\u0275\u0275text(2," "),n.\u0275\u0275elementStart(3,"mwl-calendar-event-title",9),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2).eventClicked;return n.\u0275\u0275resetView(l.emit({event:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2).eventClicked;return n.\u0275\u0275resetView(l.emit({event:s,sourceEvent:a}))}),n.\u0275\u0275pipe(4,"calendarA11y"),n.\u0275\u0275elementEnd(),n.\u0275\u0275text(5," "),n.\u0275\u0275element(6,"mwl-calendar-event-actions",10),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(2).validateDrag,a=n.\u0275\u0275nextContext();n.\u0275\u0275classProp("cal-draggable",e.draggable),n.\u0275\u0275property("ngClass",null==e?null:e.cssClass)("dropData",n.\u0275\u0275pureFunction1(16,Ln,e))("dragAxis",n.\u0275\u0275pureFunction2(18,ae,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",n.\u0275\u0275pureFunction0(21,we)),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngStyle",n.\u0275\u0275pureFunction1(22,Ae,null==e.color?null:e.color.primary)),n.\u0275\u0275advance(2),n.\u0275\u0275property("event",e)("customTemplate",a.eventTitleTemplate),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(4,13,n.\u0275\u0275pureFunction2(24,yt,e,a.locale),"eventDescription")),n.\u0275\u0275advance(3),n.\u0275\u0275property("event",e)("customTemplate",a.eventActionsTemplate)}}const wt=function(t,r){return{date:t,locale:r}};function $n(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",3),n.\u0275\u0275element(1,"span",4),n.\u0275\u0275pipe(2,"calendarA11y"),n.\u0275\u0275element(3,"span",5),n.\u0275\u0275pipe(4,"calendarA11y"),n.\u0275\u0275template(5,Pn,7,27,"div",6),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext(),i=e.events,a=e.trackByEventId,o=n.\u0275\u0275nextContext();n.\u0275\u0275property("@collapse",void 0),n.\u0275\u0275advance(1),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(2,5,n.\u0275\u0275pureFunction2(11,wt,o.date,o.locale),"openDayEventsAlert")),n.\u0275\u0275advance(2),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(4,8,n.\u0275\u0275pureFunction2(14,wt,o.date,o.locale),"openDayEventsLandmark")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",i)("ngForTrackBy",a)}}function Nn(t,r){1&t&&n.\u0275\u0275template(0,$n,6,17,"div",2),2&t&&n.\u0275\u0275property("ngIf",r.isOpen)}function jn(t,r){}const Yn=function(t,r,e,i,a){return{events:t,eventClicked:r,isOpen:e,trackByEventId:i,validateDrag:a}};function Xn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",4),n.\u0275\u0275listener("click",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:a}))}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"calendarDate"),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext().locale;n.\u0275\u0275classProp("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.\u0275\u0275property("ngClass",e.cssClass),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind3(2,10,e.date,"monthViewColumnHeader",i)," ")}}function Un(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,Xn,3,14,"div",3),n.\u0275\u0275elementEnd()),2&t){const e=r.days,i=r.trackByWeekDayHeaderDate;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e)("ngForTrackBy",i)}}function Gn(t,r){}const Kn=function(t,r,e){return{days:t,locale:r,trackByWeekDayHeaderDate:e}};function Zn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mwl-calendar-month-cell",7),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.dayClicked.emit({day:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.dayClicked.emit({day:s,sourceEvent:a}))})("highlightDay",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(o.toggleDayHighlight(a.event,!0))})("unhighlightDay",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(o.toggleDayHighlight(a.event,!1))})("drop",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.eventDropped(s,a.dropData.event,a.dropData.draggedFrom))})("eventClicked",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))}),n.\u0275\u0275pipe(1,"calendarA11y"),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",n.\u0275\u0275pureFunction1(15,Ae,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),n.\u0275\u0275attribute("tabindex",n.\u0275\u0275pipeBind2(1,12,n.\u0275\u0275pureFunction0(17,q),"monthCellTabIndex"))}}function qn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div")(1,"div",4),n.\u0275\u0275template(2,Zn,2,18,"mwl-calendar-month-cell",5),n.\u0275\u0275pipe(3,"slice"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"mwl-calendar-open-day-events",6),n.\u0275\u0275listener("eventClicked",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))})("drop",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(o.eventDropped(o.openDay,a.dropData.event,a.dropData.draggedFrom))}),n.\u0275\u0275elementEnd()()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",n.\u0275\u0275pipeBind3(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),n.\u0275\u0275advance(2),n.\u0275\u0275property("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function Jn(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",4),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext().dayHeaderClicked;return n.\u0275\u0275resetView(l.emit({day:s,sourceEvent:a}))})("drop",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext().eventDropped;return n.\u0275\u0275resetView(l.emit({event:a.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext().dragEnter;return n.\u0275\u0275resetView(s.emit({date:o.date}))}),n.\u0275\u0275elementStart(1,"b"),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"calendarDate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(4,"br"),n.\u0275\u0275elementStart(5,"span"),n.\u0275\u0275text(6),n.\u0275\u0275pipe(7,"calendarDate"),n.\u0275\u0275elementEnd()()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext().locale;n.\u0275\u0275classProp("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.\u0275\u0275property("ngClass",e.cssClass),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind3(3,11,e.date,"weekViewColumnHeader",i)),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind3(7,15,e.date,"weekViewColumnSubHeader",i))}}function Qn(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,Jn,8,19,"div",3),n.\u0275\u0275elementEnd()),2&t){const e=r.days,i=r.trackByWeekDayHeaderDate;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e)("ngForTrackBy",i)}}function ei(t,r){}const ti=function(t,r,e,i,a,o){return{days:t,locale:r,dayHeaderClicked:e,eventDropped:i,dragEnter:a,trackByWeekDayHeaderDate:o}},ni=function(t,r,e){return{color:t,backgroundColor:r,borderColor:e}};function ii(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).eventClicked;return n.\u0275\u0275resetView(s.emit({sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=n.\u0275\u0275restoreView(e).eventClicked;return n.\u0275\u0275resetView(s.emit({sourceEvent:a}))}),n.\u0275\u0275pipe(1,"calendarEventTitle"),n.\u0275\u0275pipe(2,"calendarA11y"),n.\u0275\u0275element(3,"mwl-calendar-event-actions",3),n.\u0275\u0275text(4," "),n.\u0275\u0275element(5,"mwl-calendar-event-title",4),n.\u0275\u0275elementEnd()}if(2&t){const e=r.weekEvent,i=r.tooltipPlacement,a=r.tooltipTemplate,o=r.tooltipAppendToBody,s=r.tooltipDisabled,l=r.tooltipDelay,c=r.daysInWeek,d=n.\u0275\u0275nextContext();n.\u0275\u0275property("ngStyle",n.\u0275\u0275pureFunction3(20,ni,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",s?"":n.\u0275\u0275pipeBind3(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",l),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind2(2,17,n.\u0275\u0275pureFunction2(24,yt,e.tempEvent||e.event,d.locale),"eventDescription")),n.\u0275\u0275advance(3),n.\u0275\u0275property("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),n.\u0275\u0275advance(2),n.\u0275\u0275property("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function ri(t,r){}const ai=function(t,r,e,i,a,o,s,l,c){return{weekEvent:t,tooltipPlacement:r,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:c}};function oi(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",4),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"calendarDate"),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext(),i=e.segment,a=e.daysInWeek,o=e.locale;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind3(2,1,i.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function si(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275pipe(1,"calendarA11y"),n.\u0275\u0275template(2,oi,3,5,"div",3),n.\u0275\u0275elementEnd()),2&t){const e=r.segment,a=r.isTimeLabel,o=r.daysInWeek;n.\u0275\u0275styleProp("height",r.segmentHeight,"px"),n.\u0275\u0275classProp("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),n.\u0275\u0275property("ngClass",e.cssClass),n.\u0275\u0275attribute("aria-hidden",n.\u0275\u0275pipeBind2(1,9,n.\u0275\u0275pureFunction0(12,q),1===o?"hideDayHourSegment":"hideWeekHourSegment")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",a)}}function li(t,r){}const di=function(t,r,e,i,a){return{segment:t,locale:r,segmentHeight:e,isTimeLabel:i,daysInWeek:a}};function ci(t,r){if(1&t&&n.\u0275\u0275element(0,"div",3),2&t){const e=n.\u0275\u0275nextContext().topPx;n.\u0275\u0275styleProp("top",e,"px")}}function ui(t,r){1&t&&n.\u0275\u0275template(0,ci,1,2,"div",2),2&t&&n.\u0275\u0275property("ngIf",r.isVisible)}function mi(t,r){}const pi=function(t,r,e,i,a,o,s){return{columnDate:t,dayStartHour:r,dayStartMinute:e,dayEndHour:i,dayEndMinute:a,isVisible:o,topPx:s}};function hi(t,r){1&t&&n.\u0275\u0275elementContainer(0)}function vi(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",14),n.\u0275\u0275listener("drop",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.eventDropped(a,s.date,!0))})("dragEnter",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(s.dateDragEnter(o.date))}),n.\u0275\u0275elementEnd()}}const fi=function(){return{left:!0}};function gi(t,r){1&t&&n.\u0275\u0275element(0,"div",23),2&t&&n.\u0275\u0275property("resizeEdges",n.\u0275\u0275pureFunction0(1,fi))}const yi=function(){return{right:!0}};function wi(t,r){1&t&&n.\u0275\u0275element(0,"div",24),2&t&&n.\u0275\u0275property("resizeEdges",n.\u0275\u0275pureFunction0(1,yi))}const Ci=function(t,r){return{left:t,right:r}},Ct=function(t,r){return{event:t,calendarId:r}},_i=function(t){return{x:t}};function Di(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",18,19),n.\u0275\u0275listener("resizeStart",function(a){const s=n.\u0275\u0275restoreView(e).$implicit;n.\u0275\u0275nextContext();const l=n.\u0275\u0275reference(1),c=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(c.allDayEventResizeStarted(l,s,a))})("resizing",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(l.allDayEventResizing(s,a,l.dayColumnWidth))})("resizeEnd",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(s.allDayEventResizeEnded(o))})("dragStart",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275reference(1);n.\u0275\u0275nextContext();const l=n.\u0275\u0275reference(1),c=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(c.dragStarted(l,s,o,!1))})("dragging",function(){n.\u0275\u0275restoreView(e);const a=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(a.allDayEventDragMove())})("dragEnd",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(l.dragEnded(s,a,l.dayColumnWidth))}),n.\u0275\u0275template(2,gi,1,2,"div",20),n.\u0275\u0275elementStart(3,"mwl-calendar-week-view-event",21),n.\u0275\u0275listener("eventClicked",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(l.eventClicked.emit({event:s.event,sourceEvent:a.sourceEvent}))}),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,wi,1,2,"div",22),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(3);n.\u0275\u0275styleProp("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),n.\u0275\u0275classProp("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),n.\u0275\u0275property("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",n.\u0275\u0275pureFunction2(33,Ci,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",n.\u0275\u0275pureFunction2(36,Ct,e.event,i.calendarId))("dragAxis",n.\u0275\u0275pureFunction2(39,ae,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?n.\u0275\u0275pureFunction1(42,_i,i.dayColumnWidth):n.\u0275\u0275pureFunction0(44,q))("validateDrag",i.validateDrag)("touchStartLongPress",n.\u0275\u0275pureFunction0(45,we)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),n.\u0275\u0275advance(1),n.\u0275\u0275property("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Ei(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",15,16),n.\u0275\u0275template(2,Di,5,46,"div",17),n.\u0275\u0275elementEnd()),2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function Ti(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",8,9),n.\u0275\u0275listener("dragEnter",function(){n.\u0275\u0275restoreView(e);const a=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(a.dragEnter("allDay"))})("dragLeave",function(){n.\u0275\u0275restoreView(e);const a=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(a.dragLeave("allDay"))}),n.\u0275\u0275elementStart(2,"div",5)(3,"div",10),n.\u0275\u0275template(4,hi,1,0,"ng-container",11),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(5,vi,1,0,"div",12),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(6,Ei,3,2,"div",13),n.\u0275\u0275elementEnd()}if(2&t){const e=n.\u0275\u0275nextContext();n.\u0275\u0275advance(4),n.\u0275\u0275property("ngTemplateOutlet",e.allDayEventsLabelTemplate),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function ki(t,r){if(1&t&&n.\u0275\u0275element(0,"mwl-calendar-week-view-hour-segment",28),2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(3);n.\u0275\u0275styleProp("height",i.hourSegmentHeight,"px"),n.\u0275\u0275property("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Si(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",26),n.\u0275\u0275template(1,ki,1,8,"mwl-calendar-week-view-hour-segment",27),n.\u0275\u0275elementEnd()),2&t){const e=r.$implicit,i=r.odd,a=n.\u0275\u0275nextContext(2);n.\u0275\u0275classProp("cal-hour-odd",i),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function bi(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",10),n.\u0275\u0275template(1,Si,2,4,"div",25),n.\u0275\u0275elementEnd()),2&t){const e=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const xi=function(){return{left:!0,top:!0}};function Mi(t,r){1&t&&n.\u0275\u0275element(0,"div",23),2&t&&n.\u0275\u0275property("resizeEdges",n.\u0275\u0275pureFunction0(1,xi))}function Oi(t,r){}function Vi(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mwl-calendar-week-view-event",36),n.\u0275\u0275listener("eventClicked",function(a){n.\u0275\u0275restoreView(e);const o=n.\u0275\u0275nextContext().$implicit,s=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(s.eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent}))}),n.\u0275\u0275elementEnd()}if(2&t){const e=n.\u0275\u0275nextContext().$implicit,i=n.\u0275\u0275nextContext().$implicit,a=n.\u0275\u0275nextContext();n.\u0275\u0275property("locale",a.locale)("weekEvent",e)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",i)("daysInWeek",a.daysInWeek)}}const Hi=function(){return{right:!0,bottom:!0}};function Ii(t,r){1&t&&n.\u0275\u0275element(0,"div",24),2&t&&n.\u0275\u0275property("resizeEdges",n.\u0275\u0275pureFunction0(1,Hi))}const zi=function(t,r,e,i){return{left:t,right:r,top:e,bottom:i}};function Ri(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",33,19),n.\u0275\u0275listener("resizeStart",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2),c=n.\u0275\u0275reference(6);return n.\u0275\u0275resetView(l.timeEventResizeStarted(c,s,a))})("resizing",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.timeEventResizing(s,a))})("resizeEnd",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(s.timeEventResizeEnded(o))})("dragStart",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275reference(1),l=n.\u0275\u0275nextContext(2),c=n.\u0275\u0275reference(6);return n.\u0275\u0275resetView(l.dragStarted(c,s,o,!0))})("dragging",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.dragMove(s,a))})("dragEnd",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(l.dragEnded(s,a,l.dayColumnWidth,!0))}),n.\u0275\u0275template(2,Mi,1,2,"div",20),n.\u0275\u0275template(3,Oi,0,0,"ng-template",34),n.\u0275\u0275template(4,Vi,1,12,"ng-template",null,35,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(6,Ii,1,2,"div",22),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275reference(5),a=n.\u0275\u0275nextContext(2);n.\u0275\u0275styleProp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),n.\u0275\u0275classProp("cal-draggable",e.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),n.\u0275\u0275property("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",a.resizeCursors)("resizeSnapGrid",n.\u0275\u0275pureFunction4(30,zi,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",n.\u0275\u0275pureFunction2(35,Ct,e.event,a.calendarId))("dragAxis",n.\u0275\u0275pureFunction2(38,ae,e.event.draggable&&0===a.timeEventResizes.size,e.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?n.\u0275\u0275pureFunction2(41,ae,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):n.\u0275\u0275pureFunction0(44,q))("touchStartLongPress",n.\u0275\u0275pureFunction0(45,we))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",a.validateDrag),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngTemplateOutlet",i),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Wi(t,r){if(1&t){const e=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mwl-calendar-week-view-hour-segment",38),n.\u0275\u0275listener("mwlClick",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(l.hourSegmentClicked.emit({date:s.date,sourceEvent:a}))})("drop",function(a){const s=n.\u0275\u0275restoreView(e).$implicit,l=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(l.eventDropped(a,s.date,!1))})("dragEnter",function(){const o=n.\u0275\u0275restoreView(e).$implicit,s=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(s.dateDragEnter(o.date))}),n.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext(3);n.\u0275\u0275styleProp("height",i.hourSegmentHeight,"px"),n.\u0275\u0275property("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function Fi(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",26),n.\u0275\u0275template(1,Wi,1,10,"mwl-calendar-week-view-hour-segment",37),n.\u0275\u0275elementEnd()),2&t){const e=r.$implicit,i=r.odd,a=n.\u0275\u0275nextContext(2);n.\u0275\u0275classProp("cal-hour-odd",i),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function Ai(t,r){if(1&t&&(n.\u0275\u0275elementStart(0,"div",29),n.\u0275\u0275element(1,"mwl-calendar-week-view-current-time-marker",30),n.\u0275\u0275elementStart(2,"div",31),n.\u0275\u0275template(3,Ri,7,46,"div",32),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,Fi,2,4,"div",25),n.\u0275\u0275elementEnd()),2&t){const e=r.$implicit,i=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let N=(()=>{class t{constructor(e,i,a){this.renderer=e,this.elm=i,this.document=a,this.clickListenerDisabled=!1,this.click=new n.EventEmitter,this.destroy$=new x.Subject}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,g.takeUntil)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new x.Observable(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(f.DOCUMENT))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),oe=(()=>{class t{constructor(e,i,a){this.host=e,this.ngZone=i,this.renderer=a,this.keydown=new n.EventEmitter,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.Renderer2))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),se=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${(0,f.formatDate)(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,f.formatDate)(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${(0,f.formatDate)(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${(0,f.formatDate)(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const a=`\n      ${(0,f.formatDate)(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${(0,f.formatDate)(e.start,"hh:mm a",i)}\n    `;return e.end?a+` to ${(0,f.formatDate)(e.end,"hh:mm a",i)}`:a}allDayEventDescription({event:e,locale:i}){const a=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,f.formatDate)(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?a+`, stop time ${(0,f.formatDate)(e.end,"MMMM d hh:mm a",i)}`:a+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(f.I18nPluralPipe))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(se.prototype)).filter(o=>"constructor"!==o);throw new Error(`${i} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[i](e)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(se,16),n.\u0275\u0275directiveInject(n.LOCALE_ID,16))},t.\u0275pipe=n.\u0275\u0275definePipe({name:"calendarA11y",type:t,pure:!0}),t})(),Be=(()=>{class t{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,En,1,1,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,Tn,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction2(2,kn,i.event,i.trackByActionId))}},dependencies:[f.NgClass,f.NgForOf,f.NgIf,f.NgTemplateOutlet,N,oe,j],encapsulation:2}),t})();class Ce{month(r,e){return r.title}monthTooltip(r,e){return r.title}week(r,e){return r.title}weekTooltip(r,e){return r.title}day(r,e){return r.title}dayTooltip(r,e){return r.title}}let _e=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,i,a){return this.calendarEventTitle[i](a,e)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(Ce,16))},t.\u0275pipe=n.\u0275\u0275definePipe({name:"calendarEventTitle",type:t,pure:!0}),t})(),Le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Sn,3,10,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,bn,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction2(2,xn,i.event,i.view))}},dependencies:[f.NgTemplateOutlet,_e,j],encapsulation:2}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Mn,3,2,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,On,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction3(2,Vn,i.contents,i.placement,i.event))}},dependencies:[f.NgClass,f.NgTemplateOutlet],encapsulation:2}),t})(),Pe=(()=>{class t{constructor(e,i,a,o,s,l){this.elementRef=e,this.injector=i,this.renderer=a,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new x.Subject,this.tooltipFactory=o.resolveComponentFactory(_t)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,x.of)("now"):(0,x.timer)(this.delay)).pipe((0,g.takeUntil)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Pt(t,r,e,i,a){var o=Array.isArray(e)?e:e.split(Lt),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=r.classList,c=function(C){var E=C.split("-"),T=E[0],_=E[1],S=[];return a&&(S.push(a+"-"+T),_&&S.push(a+"-"+T+"-"+_),S.forEach(function(O){l.add(O)})),S};a&&s.forEach(function(C){l.remove(a+"-"+C)});var d=o.findIndex(function(C){return"auto"===C});d>=0&&s.forEach(function(C){null==o.find(function(E){return-1!==E.search("^"+C)})&&o.splice(d++,1,C)});var u=r.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var p,w=!1,m=0,y=o;m<y.length;m++){var D=c(p=y[m]);if(Qe.positionElements(t,r,p,i)){w=!0;break}a&&D.forEach(function(C){l.remove(C)})}return w||(c(p=o[0]),Qe.positionElements(t,r,p,i)),p}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.Injector),n.\u0275\u0275directiveInject(n.Renderer2),n.\u0275\u0275directiveInject(n.ComponentFactoryResolver),n.\u0275\u0275directiveInject(n.ViewContainerRef),n.\u0275\u0275directiveInject(f.DOCUMENT))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&n.\u0275\u0275listener("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[n.\u0275\u0275NgOnChangesFeature]}),t})();var J=function(t){return t.Month="month",t.Week="week",t.Day="day",t}(J||{});const Dt=t=>function en(t,r){var e=!0;function i(a,o){r(a,o),e=!1}return Array.isArray(t)?(t.forEach(function(a){a.start?a.start instanceof Date||i(G.StartPropertyNotDate,a):i(G.StartPropertyMissing,a),a.end&&(a.end instanceof Date||i(G.EndPropertyNotDate,a),a.start>a.end&&i(G.EndsBeforeStart,a))}),e):(r(G.NotArray,t),!1)}(t,(...e)=>console.warn("angular-calendar",...e));function Et(t,r){return Math.floor(t.left)<=Math.ceil(r.left)&&Math.floor(r.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(r.right)&&Math.floor(r.right)<=Math.ceil(t.right)}function Tt(t,r){return Math.round(t/r)*r}const kt=(t,r)=>r.id?r.id:r,$e=(t,r)=>r.date.toISOString(),Pi=(t,r)=>r.date.toISOString(),$i=(t,r)=>r.segments[0].date.toISOString(),Ni=(t,r)=>r.event.id?r.event.id:r.event,ji=(t,r)=>r.event.id?r.event.id:r.event;function Ne(t,r,e,i,a){const o=Tt(t,i||e),s=function Xi(t,r,e){return(e||60)/(t*r)}(r,e,a);return o*s}function St(t,r,e){return r.end?r.end:t.addMinutes(r.start,e)}function F(t,r,e,i){let a=0,o=0;const s=e<0?t.subDays:t.addDays;let l=r;for(;o<=Math.abs(e);){l=s(r,a);const c=t.getDay(l);-1===i.indexOf(c)&&o++,a++}return l}function Q(t,r,e,i=[],a){let o=a?t.startOfDay(r):t.startOfWeek(r,{weekStartsOn:e});const s=t.endOfWeek(r,{weekStartsOn:e});for(;i.indexOf(t.getDay(o))>-1&&o<s;)o=t.addDays(o,1);if(a)return{viewStart:o,viewEnd:t.endOfDay(F(t,o,a-1,i))};{let l=s;for(;i.indexOf(t.getDay(l))>-1&&l>o;)l=t.subDays(l,1);return{viewStart:o,viewEnd:l}}}function je({x:t,y:r}){return Math.abs(t)>1||Math.abs(r)>1}class A{}let Ki=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new n.EventEmitter}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===J.Day?F(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===J.Week&&this.daysInWeek?F(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(A))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&n.\u0275\u0275listener("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Zi=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new n.EventEmitter}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===J.Day?F(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===J.Week&&this.daysInWeek?F(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(A))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&n.\u0275\u0275listener("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),qi=(()=>{class t{constructor(e){this.dateAdapter=e,this.viewDateChange=new n.EventEmitter}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(A))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&n.\u0275\u0275listener("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),t})(),bt=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return(0,f.formatDate)(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return(0,f.formatDate)(e,"d",i)}monthViewTitle({date:e,locale:i}){return(0,f.formatDate)(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return(0,f.formatDate)(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return(0,f.formatDate)(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=Q(this.dateAdapter,e,a,o,s),d=(u,p)=>(0,f.formatDate)(u,"MMM d"+(p?", yyyy":""),i);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:i}){return(0,f.formatDate)(e,"h a",i)}dayViewHour({date:e,locale:i}){return(0,f.formatDate)(e,"h a",i)}dayViewTitle({date:e,locale:i}){return(0,f.formatDate)(e,"EEEE, MMMM d, y",i)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(A))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),le=(()=>{class t extends bt{}return t.\u0275fac=function(){let r;return function(i){return(r||(r=n.\u0275\u0275getInheritedFactory(t)))(i||t)}}(),t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),de=(()=>{class t{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,a=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[i]>"u"){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(le.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:a,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(le,16),n.\u0275\u0275directiveInject(n.LOCALE_ID,16))},t.\u0275pipe=n.\u0275\u0275definePipe({name:"calendarDate",type:t,pure:!0}),t})(),ce=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return function qt(t,r){var e=r.events,i=void 0===e?[]:e,a=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,c=r.viewStart,d=void 0===c?t.startOfMonth(a):c,u=r.viewEnd,p=void 0===u?t.endOfMonth(a):u,w=r.weekendDays;i||(i=[]);for(var k,y=t.endOfWeek,D=t.differenceInDays,C=t.startOfDay,E=t.addHours,T=t.endOfDay,_=t.isSameMonth,S=t.getDay,O=(0,t.startOfWeek)(d,{weekStartsOn:o}),H=y(p,{weekStartsOn:o}),z=ne(t,{events:i,periodStart:O,periodEnd:H}),M=[],b=function(Ke){var R;if(k?(R=C(E(k,24)),k.getTime()===R.getTime()&&(R=C(E(k,25))),k=R):R=k=O,!l.some(function(Ze){return S(R)===Ze})){var te=tt(t,{date:R,weekendDays:w}),B=ne(t,{events:z,periodStart:C(R),periodEnd:T(R)});te.inMonth=_(R,a),te.events=B,te.badgeTotal=B.length,M.push(te)}},v=0;v<D(H,O)+1;v++)b();var h=[],I=ke-l.length;if(I<ke)for(v=0;v<M.length;v+=I){var V=M.slice(v,v+I);V.some(function(R){return d<=R.date&&R.date<p})&&(h=Te(Te([],h,!0),V,!0))}else h=M;var Ge=Math.floor(h.length/I),Ee=[];for(v=0;v<Ge;v++)Ee.push(v*I);return{rowOffsets:Ee,totalDaysVisibleInWeek:I,days:h,period:{start:h[0].date,end:T(h[h.length-1].date),events:z}}}(this.dateAdapter,e)}getWeekViewHeader(e){return be(this.dateAdapter,e)}getWeekView(e){return function Zt(t,r){var e=r.events,i=void 0===e?[]:e,a=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,c=r.precision,d=void 0===c?"days":c,u=r.absolutePositionedEvents,p=void 0!==u&&u,w=r.hourSegments,m=r.hourDuration,y=r.dayStart,D=r.dayEnd,C=r.weekendDays,E=r.segmentHeight,T=r.minimumEventHeight,_=r.viewStart,S=void 0===_?t.startOfWeek(a,{weekStartsOn:o}):_,O=r.viewEnd,H=void 0===O?t.endOfWeek(a,{weekStartsOn:o}):O;i||(i=[]);var M=t.endOfDay,k=ne(t,{events:i,periodStart:S=(0,t.startOfDay)(S),periodEnd:H=M(H)}),b=be(t,{viewDate:a,weekStartsOn:o,excluded:l,weekendDays:C,viewStart:S,viewEnd:H});return{allDayEventRows:Gt(t,{events:k,excluded:l,precision:d,absolutePositionedEvents:p,viewStart:S,viewEnd:H}),period:{events:k,start:b[0].date,end:M(b[b.length-1].date)},hourColumns:Kt(t,{events:i,viewDate:a,hourSegments:w,hourDuration:m,dayStart:y,dayEnd:D,weekStartsOn:o,excluded:l,weekendDays:C,segmentHeight:E,viewStart:S,viewEnd:H,minimumEventHeight:T})}}(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(A))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();const xt=new n.InjectionToken("Moment");let Ji=(()=>{class t{constructor(e,i){this.moment=e,this.dateAdapter=i}monthViewColumnHeader({date:e,locale:i}){return this.moment(e).locale(i).format("dddd")}monthViewDayNumber({date:e,locale:i}){return this.moment(e).locale(i).format("D")}monthViewTitle({date:e,locale:i}){return this.moment(e).locale(i).format("MMMM YYYY")}weekViewColumnHeader({date:e,locale:i}){return this.moment(e).locale(i).format("dddd")}weekViewColumnSubHeader({date:e,locale:i}){return this.moment(e).locale(i).format("MMM D")}weekViewTitle({date:e,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=Q(this.dateAdapter,e,a,o,s),d=(u,p)=>this.moment(u).locale(i).format("MMM D"+(p?", YYYY":""));return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:i}){return this.moment(e).locale(i).format("ha")}dayViewHour({date:e,locale:i}){return this.moment(e).locale(i).format("ha")}dayViewTitle({date:e,locale:i}){return this.moment(e).locale(i).format("dddd, LL")}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(xt),n.\u0275\u0275inject(A))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),Qi=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return new Intl.DateTimeFormat(i,{weekday:"long"}).format(e)}monthViewDayNumber({date:e,locale:i}){return new Intl.DateTimeFormat(i,{day:"numeric"}).format(e)}monthViewTitle({date:e,locale:i}){return new Intl.DateTimeFormat(i,{year:"numeric",month:"long"}).format(e)}weekViewColumnHeader({date:e,locale:i}){return new Intl.DateTimeFormat(i,{weekday:"long"}).format(e)}weekViewColumnSubHeader({date:e,locale:i}){return new Intl.DateTimeFormat(i,{day:"numeric",month:"short"}).format(e)}weekViewTitle({date:e,locale:i,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=Q(this.dateAdapter,e,a,o,s),d=(u,p)=>new Intl.DateTimeFormat(i,{day:"numeric",month:"short",year:p?"numeric":void 0}).format(u);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:i}){return new Intl.DateTimeFormat(i,{hour:"numeric"}).format(e)}dayViewHour({date:e,locale:i}){return new Intl.DateTimeFormat(i,{hour:"numeric"}).format(e)}dayViewTitle({date:e,locale:i}){return new Intl.DateTimeFormat(i,{day:"numeric",month:"long",year:"numeric",weekday:"long"}).format(e)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(A))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var P=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(P||{});let ee=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||Ce,i.dateFormatter||le,i.utils||ce,i.a11y||se]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[f.I18nPluralPipe],imports:[f.CommonModule]}),t})(),Mt=(()=>{class t{constructor(){this.highlightDay=new n.EventEmitter,this.unhighlightDay=new n.EventEmitter,this.eventClicked=new n.EventEmitter,this.trackByEventId=kt,this.validateDrag=je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&n.\u0275\u0275classProp("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Fn,8,14,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,An,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunctionV(2,Bn,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[f.NgClass,f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,We,Pe,N,de,_e,j],encapsulation:2}),t})();const Ot=(0,L.trigger)("collapse",[(0,L.state)("void",(0,L.style)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,L.state)("*",(0,L.style)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,L.transition)("* => void",(0,L.animate)("150ms ease-out")),(0,L.transition)("void => *",(0,L.animate)("150ms ease-in"))]);let Vt=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new n.EventEmitter,this.trackByEventId=kt,this.validateDrag=je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Nn,1,1,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,jn,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction5(2,Yn,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[f.NgClass,f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,We,Be,Le,N,oe,j],encapsulation:2,data:{animation:[Ot]}}),t})(),Ht=(()=>{class t{constructor(){this.columnHeaderClicked=new n.EventEmitter,this.trackByWeekDayHeaderDate=$e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Un,2,2,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,Gn,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction3(2,Kn,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[f.NgClass,f.NgForOf,f.NgTemplateOutlet,de],encapsulation:2}),t})(),er=(()=>{class t{constructor(e,i,a,o){this.cdr=e,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new n.EventEmitter,this.dayClicked=new n.EventEmitter,this.eventClicked=new n.EventEmitter,this.columnHeaderClicked=new n.EventEmitter,this.eventTimesChanged=new n.EventEmitter,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,a=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&Dt(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(a=>{i&&a.events.indexOf(e)>-1?a.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(e,i,a){if(e!==a){const o=this.dateAdapter.getYear(e.date),s=this.dateAdapter.getMonth(e.date),l=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),s),l);let d;if(i.end){const u=this.dateAdapter.differenceInSeconds(c,i.start);d=this.dateAdapter.addSeconds(i.end,u)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:d,day:e,type:P.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ChangeDetectorRef),n.\u0275\u0275directiveInject(ce),n.\u0275\u0275directiveInject(n.LOCALE_ID),n.\u0275\u0275directiveInject(A))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[n.\u0275\u0275NgOnChangesFeature],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(n.\u0275\u0275elementStart(0,"div",0)(1,"mwl-calendar-month-view-header",1),n.\u0275\u0275listener("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(2,"div",2),n.\u0275\u0275template(3,qn,5,13,"div",3),n.\u0275\u0275elementEnd()()),2&e&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[f.NgClass,f.NgForOf,f.NgStyle,Fe,N,oe,Mt,Vt,Ht,f.SlicePipe,j],encapsulation:2}),t})(),Ye=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[f.CommonModule,ge,ee,ge]}),t})();class tr{constructor(r,e){this.dragContainerElement=r,this.startPosition=e.getBoundingClientRect()}validateDrag({x:r,y:e,snapDraggedEvents:i,dragAlreadyMoved:a,transform:o}){const s=je({x:r,y:e})||a;if(i){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<l.top&&l.top<c.bottom,u=c.top<l.bottom&&l.bottom<c.bottom;return Et(c,l)&&(d||u)}return!1}return s}}class nr{constructor(r,e,i){this.resizeContainerElement=r,this.minWidth=e,this.rtl=i}validateResize({rectangle:r,edges:e}){return this.rtl&&(typeof e.left<"u"?(r.left-=e.left,r.right+=e.left):typeof e.right<"u"&&(r.left+=e.right,r.right-=e.right),r.width=r.right-r.left),!(this.minWidth&&Math.ceil(r.width)<Math.ceil(this.minWidth))&&function Li(t,r){return Et(t,r)&&function Bi(t,r){return Math.floor(t.top)<=Math.ceil(r.top)&&Math.floor(r.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(r.bottom)&&Math.floor(r.bottom)<=Math.ceil(t.bottom)}(t,r)}(this.resizeContainerElement.getBoundingClientRect(),r)}}let It=(()=>{class t{constructor(){this.dayHeaderClicked=new n.EventEmitter,this.eventDropped=new n.EventEmitter,this.dragEnter=new n.EventEmitter,this.trackByWeekDayHeaderDate=$e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,Qn,2,2,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,ei,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction6(2,ti,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[f.NgClass,f.NgForOf,f.NgTemplateOutlet,Fe,N,de],encapsulation:2}),t})(),zt=(()=>{class t{constructor(){this.eventClicked=new n.EventEmitter}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,ii,6,27,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,ri,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunctionV(2,ai,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[f.NgTemplateOutlet,f.NgStyle,Be,Le,Pe,N,oe,_e,j],encapsulation:2}),t})(),Rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,si,3,13,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,li,0,0,"ng-template",1)),2&e){const a=n.\u0275\u0275reference(1);n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction5(2,di,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[f.NgClass,f.NgIf,f.NgTemplateOutlet,de,j],encapsulation:2}),t})(),Wt=(()=>{class t{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new x.BehaviorSubject(void 0),this.marker$=this.zone.onStable.pipe((0,g.switchMap)(()=>(0,x.interval)(6e4)),(0,g.startWith)(0),(0,g.switchMapTo)(this.columnDate$),(0,g.map)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(a,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(A),n.\u0275\u0275directiveInject(n.NgZone))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[n.\u0275\u0275NgOnChangesFeature],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(n.\u0275\u0275template(0,ui,1,1,"ng-template",null,0,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275template(2,mi,0,0,"ng-template",1),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275pipe(4,"async")),2&e){const a=n.\u0275\u0275reference(1);let o;n.\u0275\u0275advance(2),n.\u0275\u0275property("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",n.\u0275\u0275pureFunction7(6,pi,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(o=n.\u0275\u0275pipeBind1(3,2,i.marker$))?null:o.isVisible,null==(o=n.\u0275\u0275pipeBind1(4,4,i.marker$))?null:o.top))}},dependencies:[f.NgIf,f.NgTemplateOutlet,f.AsyncPipe],encapsulation:2}),t})(),Ft=(()=>{class t{constructor(e,i,a,o,s){this.cdr=e,this.utils=i,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new n.EventEmitter,this.eventClicked=new n.EventEmitter,this.eventTimesChanged=new n.EventEmitter,this.beforeViewRender=new n.EventEmitter,this.hourSegmentClicked=new n.EventEmitter,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=$e,this.trackByHourSegment=Pi,this.trackByHour=$i,this.trackByWeekAllDayEvent=Ni,this.trackByWeekTimeEvent=ji,this.trackByHourColumn=(l,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(l,c)=>c.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,a=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&Dt(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,a){this.timeEventResizes.set(i.event,a),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const c=this.getTimeEventResizedDates(l,s),d={...l,...c};a.set(d,l);const u=o.indexOf(l);o[u]=d}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const a=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:P.Resize})}}allDayEventResizeStarted(e,i,a){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof a.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,a){const o=this.allDayEventResizes.get(e),s=this.rtl?-1:1;if(typeof i.edges.left<"u"){const l=Math.round(+i.edges.left/a)*s;e.offset=o.originalOffset+l,e.span=o.originalSpan-l}else if(typeof i.edges.right<"u"){const l=Math.round(+i.edges.right/a)*s;e.span=o.originalSpan+l}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const a="left"===i.edge;let o;o=a?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const s=this.getAllDayEventResizedDates(e.event,o,a);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:e.event,type:P.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,a){(function Gi(t,r,e,i){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==i||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)})(e,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:P.Drop,event:e.dropData.event,newStart:i,allDay:a}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,a,o){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new tr(e,i);this.validateDrag=({x:l,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const p=this.getDragMovedEventTimes(a,{x:l,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:P.Drag,event:a.event,newStart:p.start,newEnd:p.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const c=l.events.find(d=>d.event===a.event&&d!==a);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const a=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),o=e.event,s={...o,...a},l=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(e,i,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function Ui(t,r,e){const i=r||t;return e.start<=t&&t<=e.end||e.start<=i&&i<=e.end}(s,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:e.event,type:P.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...Q(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...Q(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,a,o){const s=Tt(i.x,a)/a*(this.rtl?-1:1),l=o?Ne(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(F(this.dateAdapter,e.event.start,s,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(F(this.dateAdapter,e.event.end,s,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(e,i,a=!0){const o=this.view;a&&(this.view=this.getWeekView(e));const s=e.filter(l=>i.has(l));this.view.hourColumns.forEach((l,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((p,w)=>{l.hours[u].segments[w].cssClass=p.cssClass})}),s.forEach(d=>{const u=i.get(d),p=l.events.find(w=>w.event===(a?d:u));p?(p.event=u,p.tempEvent=d,a||(p.height=0,p.width=0)):l.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(e,i){const a={start:e.start,end:St(this.dateAdapter,e,this.minimumEventHeight)},{end:o,...s}=e,l={start:this.dateAdapter.addMinutes(a.end,-1*this.minimumEventHeight),end:St(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof i.edges.left<"u"){const d=Math.round(+i.edges.left/this.dayColumnWidth)*c,u=F(this.dateAdapter,a.start,d,this.excludeDays);a.start=u<l.start?u:l.start}else if(typeof i.edges.right<"u"){const d=Math.round(+i.edges.right/this.dayColumnWidth)*c,u=F(this.dateAdapter,a.end,d,this.excludeDays);a.end=u>l.end?u:l.end}if(typeof i.edges.top<"u"){const d=Ne(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.start,d);a.start=u<l.start?u:l.start}else if(typeof i.edges.bottom<"u"){const d=Ne(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.end,d);a.end=u>l.end?u:l.end}return a}resizeStarted(e,i,a){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new nr(e,a,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const c=o.validateResize({rectangle:{...s},edges:l});if(c&&this.validateEventTimesChanged){let d;if(a){const u=this.rtl?-1:1;if(typeof l.left<"u"){const p=Math.round(+l.left/a)*u;d=this.getAllDayEventResizedDates(i.event,p,!this.rtl)}else{const p=Math.round(+l.right/a)*u;d=this.getAllDayEventResizedDates(i.event,p,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:P.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,a){let o=e.start,s=e.end||e.start;return a?o=F(this.dateAdapter,o,i,this.excludeDays):s=F(this.dateAdapter,s,i,this.excludeDays),{start:o,end:s}}}return t.\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ChangeDetectorRef),n.\u0275\u0275directiveInject(ce),n.\u0275\u0275directiveInject(n.LOCALE_ID),n.\u0275\u0275directiveInject(A),n.\u0275\u0275directiveInject(n.ElementRef))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[n.\u0275\u0275NgOnChangesFeature],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(n.\u0275\u0275elementStart(0,"div",0)(1,"mwl-calendar-week-view-header",1),n.\u0275\u0275listener("dayHeaderClicked",function(o){return i.dayHeaderClicked.emit(o)})("eventDropped",function(o){return i.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return i.dateDragEnter(o.date)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(2,Ti,7,5,"div",2),n.\u0275\u0275elementStart(3,"div",3),n.\u0275\u0275listener("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),n.\u0275\u0275template(4,bi,2,2,"div",4),n.\u0275\u0275elementStart(5,"div",5,6),n.\u0275\u0275template(7,Ai,5,13,"div",7),n.\u0275\u0275elementEnd()()()),2&e&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",i.view.allDayEventRows.length>0),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),n.\u0275\u0275advance(1),n.\u0275\u0275classProp("cal-resize-active",i.timeEventResizes.size>0),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[f.NgClass,f.NgForOf,f.NgIf,f.NgTemplateOutlet,ft,wn,We,Fe,N,It,zt,Rt,Wt],encapsulation:2}),t})(),De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[f.CommonModule,gt,ge,ee,gt,ge]}),t})(),ir=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new n.EventEmitter,this.hourSegmentClicked=new n.EventEmitter,this.eventTimesChanged=new n.EventEmitter,this.beforeViewRender=new n.EventEmitter}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(n.\u0275\u0275elementStart(0,"mwl-calendar-week-view",0),n.\u0275\u0275listener("eventClicked",function(o){return i.eventClicked.emit(o)})("hourSegmentClicked",function(o){return i.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return i.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return i.beforeViewRender.emit(o)}),n.\u0275\u0275elementEnd()),2&e&&n.\u0275\u0275property("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[Ft],encapsulation:2}),t})(),Xe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[f.CommonModule,ee,De]}),t})(),rr=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||Ce,i.dateFormatter||le,i.utils||ce,i.a11y||se]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[ee,Ye,De,Xe,ee,Ye,De,Xe]}),t})()}}]);