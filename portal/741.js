(self.webpackChunkportal=self.webpackChunkportal||[]).push([[741],{741:(Ge,A,b)=>{b.r(A),b.d(A,{ActionList:()=>K,BaseUiExtensionsModule:()=>J,CreateFormPropsFactory:()=>ce,CreateInjectorPipe:()=>ke,DateAdapter:()=>z,DateTimeAdapter:()=>R,DateTimePickerComponent:()=>pe,DisabledDirective:()=>be,ENTITY_PROP_TYPE_CLASSES:()=>_e,EXTENSIBLE_FORM_VIEW_PROVIDER:()=>Rn,EXTENSIONS_ACTION_CALLBACK:()=>de,EXTENSIONS_ACTION_DATA:()=>me,EXTENSIONS_ACTION_TYPE:()=>j,EXTENSIONS_FORM_PROP:()=>fe,EXTENSIONS_FORM_PROP_DATA:()=>ge,EXTENSIONS_IDENTIFIER:()=>N,EXTRA_PROPERTIES_KEY:()=>I,EditFormPropsFactory:()=>le,EntityAction:()=>L,EntityActionList:()=>Ee,EntityActions:()=>ve,EntityActionsFactory:()=>Fe,EntityProp:()=>w,EntityPropList:()=>Ie,EntityProps:()=>Pe,EntityPropsFactory:()=>De,ExtensibleFormComponent:()=>On,ExtensibleFormPropComponent:()=>Q,ExtensibleTableComponent:()=>An,ExtensionsService:()=>O,FormProp:()=>D,FormPropData:()=>Tn,FormPropList:()=>X,FormProps:()=>U,GridActionsComponent:()=>Me,ObjectExtensions:()=>kn,PROP_DATA_STREAM:()=>ue,PageToolbarComponent:()=>Mn,PropDataDirective:()=>Se,PropList:()=>H,TimeAdapter:()=>G,ToolbarAction:()=>V,ToolbarActionList:()=>Ne,ToolbarActions:()=>we,ToolbarActionsFactory:()=>Oe,ToolbarComponent:()=>B,UiExtensionsModule:()=>jn,createExtraPropertyValueResolver:()=>Re,generateFormFromProps:()=>Vn,getObjectExtensionEntitiesFromStore:()=>Qn,mapEntitiesToContributors:()=>Kn,mergeWithDefaultActions:()=>Ln,mergeWithDefaultProps:()=>Bn});var e=b(1705),d=b(2411),f=b(2830),p=b(6394),F=b(9611);class _{constructor(o){this.value=o}}class h{constructor(){this.size=0}get head(){return this.first}get tail(){return this.last}get length(){return this.size}attach(o,t,r){if(!t)return this.addHead(o);if(!r)return this.addTail(o);const i=new _(o);return i.previous=t,t.next=i,i.next=r,r.previous=i,this.size++,i}attachMany(o,t,r){if(!o.length)return[];if(!t)return this.addManyHead(o);if(!r)return this.addManyTail(o);const i=new h;return i.addManyTail(o),i.first.previous=t,t.next=i.first,i.last.next=r,r.previous=i.last,this.size+=o.length,i.toNodeArray()}detach(o){return o.previous?o.next?(o.previous.next=o.next,o.next.previous=o.previous,this.size--,o):this.dropTail():this.dropHead()}add(o){return{after:(...t)=>this.addAfter.call(this,o,...t),before:(...t)=>this.addBefore.call(this,o,...t),byIndex:t=>this.addByIndex(o,t),head:()=>this.addHead(o),tail:()=>this.addTail(o)}}addMany(o){return{after:(...t)=>this.addManyAfter.call(this,o,...t),before:(...t)=>this.addManyBefore.call(this,o,...t),byIndex:t=>this.addManyByIndex(o,t),head:()=>this.addManyHead(o),tail:()=>this.addManyTail(o)}}addAfter(o,t,r=F.Z){const i=this.find(a=>r(a.value,t));return i?this.attach(o,i,i.next):this.addTail(o)}addBefore(o,t,r=F.Z){const i=this.find(a=>r(a.value,t));return i?this.attach(o,i.previous,i):this.addHead(o)}addByIndex(o,t){if(t<0)t+=this.size;else if(t>=this.size)return this.addTail(o);if(t<=0)return this.addHead(o);const r=this.get(t);return this.attach(o,r.previous,r)}addHead(o){const t=new _(o);return t.next=this.first,this.first?this.first.previous=t:this.last=t,this.first=t,this.size++,t}addTail(o){const t=new _(o);return this.first?(t.previous=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),this.size++,t}addManyAfter(o,t,r=F.Z){const i=this.find(a=>r(a.value,t));return i?this.attachMany(o,i,i.next):this.addManyTail(o)}addManyBefore(o,t,r=F.Z){const i=this.find(a=>r(a.value,t));return i?this.attachMany(o,i.previous,i):this.addManyHead(o)}addManyByIndex(o,t){if(t<0&&(t+=this.size),t<=0)return this.addManyHead(o);if(t>=this.size)return this.addManyTail(o);const r=this.get(t);return this.attachMany(o,r.previous,r)}addManyHead(o){return o.reduceRight((t,r)=>(t.unshift(this.addHead(r)),t),[])}addManyTail(o){return o.map(t=>this.addTail(t))}drop(){return{byIndex:o=>this.dropByIndex(o),byValue:(...o)=>this.dropByValue.apply(this,o),byValueAll:(...o)=>this.dropByValueAll.apply(this,o),head:()=>this.dropHead(),tail:()=>this.dropTail()}}dropMany(o){return{byIndex:t=>this.dropManyByIndex(o,t),head:()=>this.dropManyHead(o),tail:()=>this.dropManyTail(o)}}dropByIndex(o){o<0&&(o+=this.size);const t=this.get(o);return t?this.detach(t):void 0}dropByValue(o,t=F.Z){const r=this.findIndex(i=>t(i.value,o));return r<0?void 0:this.dropByIndex(r)}dropByValueAll(o,t=F.Z){const r=[];for(let i=this.first,a=0;i;a++,i=i.next)t(i.value,o)&&r.push(this.dropByIndex(a-r.length));return r}dropHead(){const o=this.first;if(o)return this.first=o.next,this.first?this.first.previous=void 0:this.last=void 0,this.size--,o}dropTail(){const o=this.last;if(o)return this.last=o.previous,this.last?this.last.next=void 0:this.first=void 0,this.size--,o}dropManyByIndex(o,t){if(o<=0)return[];if(t<0)t=Math.max(t+this.size,0);else if(t>=this.size)return[];o=Math.min(o,this.size-t);const r=[];for(;o--;){const i=this.get(t);r.push(this.detach(i))}return r}dropManyHead(o){if(o<=0)return[];o=Math.min(o,this.size);const t=[];for(;o--;)t.unshift(this.dropHead());return t}dropManyTail(o){if(o<=0)return[];o=Math.min(o,this.size);const t=[];for(;o--;)t.push(this.dropTail());return t}find(o){for(let t=this.first,r=0;t;r++,t=t.next)if(o(t,r,this))return t}findIndex(o){for(let t=this.first,r=0;t;r++,t=t.next)if(o(t,r,this))return r;return-1}forEach(o){for(let t=this.first,r=0;t;r++,t=t.next)o(t,r,this)}get(o){return this.find((t,r)=>o===r)}indexOf(o,t=F.Z){return this.findIndex(r=>t(r.value,o))}toArray(){const o=new Array(this.size);return this.forEach((t,r)=>o[r]=t.value),o}toNodeArray(){const o=new Array(this.size);return this.forEach((t,r)=>o[r]=t),o}toString(o=JSON.stringify){return this.toArray().map(t=>o(t)).join(" <-> ")}*[Symbol.iterator](){for(let o=this.first,t=0;o;t++,o=o.next)yield o.value}}var E=b(4478),m=b(1011),y=b(4125),x=b(2070),P=b(7437),M=b(1786);const He=["field"];function We(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function Xe(n,o){if(1&n&&e.\u0275\u0275template(0,We,1,0,"ng-container",17),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngComponentOutlet",t.prop.template)("ngComponentOutletInjector",t.injectorForCustomComponent)}}function Ue(n,o){}function Ye(n,o){if(1&n&&(e.\u0275\u0275template(0,Ue,0,0,"ng-template",18),e.\u0275\u0275element(1,"input",19,20)),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)("autocomplete",t.prop.autocomplete)("type",t.getType(t.prop))("abpDisabled",t.disabled)("readonly",t.readonly)}}function Qe(n,o){if(1&n&&e.\u0275\u0275element(0,"input",21),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formControlName",t.prop.name)}}function Ke(n,o){}const Ze=function(){return{$implicit:"form-check-label"}};function Je(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"input",23,20),e.\u0275\u0275template(3,Ke,0,0,"ng-template",24),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction0(5,Ze))}}function qe(n,o){}function et(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",27),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("ngValue",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.key," ")}}function tt(n,o){if(1&n&&(e.\u0275\u0275template(0,qe,0,0,"ng-template",18),e.\u0275\u0275elementStart(1,"select",25,20),e.\u0275\u0275template(3,et,2,2,"option",26),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,6,t.options$))("ngForTrackBy",t.track.by("value"))}}function nt(n,o){}function ot(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",27),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("ngValue",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.key," ")}}function rt(n,o){if(1&n&&(e.\u0275\u0275template(0,nt,0,0,"ng-template",18),e.\u0275\u0275elementStart(1,"select",28,20),e.\u0275\u0275template(3,ot,2,2,"option",26),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,6,t.options$))("ngForTrackBy",t.track.by("value"))}}function it(n,o){}const at=function(){return{standalone:!0}};function st(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,it,0,0,"ng-template",18),e.\u0275\u0275elementStart(1,"div",29,30)(3,"input",31,20),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.typeaheadModel=i)})("selectItem",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.setTypeaheadValue(i.item))})("blur",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.setTypeaheadValue(i.typeaheadModel))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"input",21),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275reference(2),r=e.\u0275\u0275nextContext(2),i=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",i),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-invalid",t.classList.contains("is-invalid")),e.\u0275\u0275property("id",r.prop.id)("autocomplete",r.prop.autocomplete)("abpDisabled",r.disabled)("ngbTypeahead",r.search)("editable",!1)("inputFormatter",r.typeaheadFormatter)("resultFormatter",r.typeaheadFormatter)("ngModelOptions",e.\u0275\u0275pureFunction0(13,at))("ngModel",r.typeaheadModel),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",r.prop.name)}}function ct(n,o){}function lt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,ct,0,0,"ng-template",18),e.\u0275\u0275elementStart(1,"input",32,33),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(i.open())})("keyup.space",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275reference(2);return e.\u0275\u0275resetView(i.open())}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)}}function pt(n,o){}function mt(n,o){if(1&n&&(e.\u0275\u0275template(0,pt,0,0,"ng-template",18),e.\u0275\u0275element(1,"ngb-timepicker",34)),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName",t.prop.name)}}function dt(n,o){}function ut(n,o){if(1&n&&(e.\u0275\u0275template(0,dt,0,0,"ng-template",18),e.\u0275\u0275element(1,"abp-date-time-picker",35)),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("prop",t.prop)("meridian",t.meridian)}}function _t(n,o){}function ft(n,o){if(1&n&&(e.\u0275\u0275template(0,_t,0,0,"ng-template",18),e.\u0275\u0275element(1,"textarea",36,20)),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.prop.id)("formControlName",t.prop.name)("abpDisabled",t.disabled)("readonly",t.readonly)}}function gt(n,o){}function ht(n,o){if(1&n&&e.\u0275\u0275element(0,"abp-password",38),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("inputId",t.prop.id)("formControlName",t.prop.name)}}const oe=function(n){return{value:n}},xt=function(n,o){return{inputId:n,formControlName:o}},Ct=function(n,o){return{componentKey:n,inputs:o}};function bt(n,o){if(1&n&&(e.\u0275\u0275template(0,gt,0,0,"ng-template",18),e.\u0275\u0275template(1,ht,1,2,"abp-password",37)),2&n){const t=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("abpReplaceableTemplate",e.\u0275\u0275pureFunction2(9,Ct,t.passwordKey,e.\u0275\u0275pureFunction2(6,xt,e.\u0275\u0275pureFunction1(2,oe,t.prop.id),e.\u0275\u0275pureFunction1(4,oe,t.prop.name))))}}function yt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"small",39),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.prop.formText))}}function Tt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0,2),e.\u0275\u0275template(1,Xe,1,2,"ng-template",3),e.\u0275\u0275elementStart(2,"div",4),e.\u0275\u0275template(3,Ye,3,7,"ng-template",5),e.\u0275\u0275template(4,Qe,1,1,"ng-template",6),e.\u0275\u0275template(5,Je,4,6,"ng-template",7),e.\u0275\u0275template(6,tt,5,8,"ng-template",8),e.\u0275\u0275template(7,rt,5,8,"ng-template",9),e.\u0275\u0275template(8,st,6,14,"ng-template",10),e.\u0275\u0275template(9,lt,3,3,"ng-template",11),e.\u0275\u0275template(10,mt,2,2,"ng-template",12),e.\u0275\u0275template(11,ut,2,3,"ng-template",13),e.\u0275\u0275template(12,ft,3,5,"ng-template",14),e.\u0275\u0275template(13,bt,2,12,"ng-template",15),e.\u0275\u0275template(14,yt,3,3,"small",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",t.getComponent(t.prop)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",t.containerClassName),e.\u0275\u0275advance(12),e.\u0275\u0275property("ngIf",t.prop.formText)}}function Et(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,t.prop.displayTextResolver(t.data))," ")}}function vt(n,o){if(1&n&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"abpLocalization")),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(1,1,t.prop.displayName),"")}}function Ft(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"label",40),e.\u0275\u0275template(1,Et,3,3,"ng-container",41),e.\u0275\u0275template(2,vt,2,3,"ng-template",null,42,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit,r=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275property("htmlFor",i.prop.id)("ngClass",t||"form-label"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.prop.displayTextResolver)("ngIfElse",r),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.asterisk," ")}}const re=function(n,o){return{groupedProp:n,data:o}};function It(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementContainer(1,6),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275nextContext(2);const i=e.\u0275\u0275reference(2);e.\u0275\u0275classMap(null==r.group?null:r.group.className),e.\u0275\u0275attribute("data-name",null==r.group?null:r.group.className),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(5,re,r,t))}}function Pt(n,o){if(1&n&&e.\u0275\u0275elementContainer(0,6),2&n){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275nextContext(2);const i=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,re,r,t))}}function Dt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,It,2,8,"div",4),e.\u0275\u0275template(2,Pt,1,5,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==r.group?null:r.group.className)("ngIfElse",t)}}function Nt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Dt,4,2,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("abpPropDataFromList",t.formPropList)("abpPropDataWithRecord",r.record)}}function wt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Nt,2,2,"ng-container",2),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.groupedPropList.items)}}function Ot(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275element(1,"abp-extensible-form-prop",11),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit,r=e.\u0275\u0275nextContext().data,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroupName",i.extraPropertiesKey),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(t.className),e.\u0275\u0275property("prop",t)("data",r)}}function St(n,o){if(1&n&&e.\u0275\u0275element(0,"abp-extensible-form-prop",13),2&n){const t=e.\u0275\u0275nextContext(3),r=t.$implicit,i=t.first,a=e.\u0275\u0275nextContext().data;e.\u0275\u0275classMap(r.className),e.\u0275\u0275property("prop",r)("data",a)("first",i)}}function At(n,o){if(1&n&&e.\u0275\u0275template(0,St,1,5,"abp-extensible-form-prop",12),2&n){const t=e.\u0275\u0275nextContext(2).$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",r.form.get(t.name))}}function Mt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ot,2,5,"ng-container",8),e.\u0275\u0275template(2,At,1,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.extraProperties.controls[r.name])("ngIfElse",t)}}function kt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Mt,4,2,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext().data;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.visible(r))}}function Rt(n,o){if(1&n&&e.\u0275\u0275template(0,kt,2,1,"ng-container",7),2&n){const t=o.groupedProp,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngForOf",t.formPropList)("ngForTrackBy",r.track.by("name"))}}const k=function(n){return{$implicit:n}};function jt(n,o){if(1&n&&e.\u0275\u0275elementContainer(0,10),2&n){const t=o.$implicit;e.\u0275\u0275nextContext(2);const r=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,k,t))}}function Lt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",5)(1,"button",6),e.\u0275\u0275element(2,"i",7),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",8),e.\u0275\u0275template(6,jt,1,4,"ng-container",9),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("me-1",t.icon),e.\u0275\u0275property("ngClass",t.icon),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,6,t.text)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.actionList)("ngForTrackBy",t.trackByFn)}}function Vt(n,o){if(1&n&&e.\u0275\u0275elementContainer(0,10),2&n){const t=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,k,t.actionList.get(0).value))}}function Bt(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function $t(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.action(a.data))}),e.\u0275\u0275template(1,Bt,1,0,"ng-container",14),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,k,t))}}function zt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$t,2,4,"button",12),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function Gt(n,o){if(1&n&&e.\u0275\u0275template(0,zt,2,2,"ng-container",11),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.visible(r.data))}}function Ht(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.text))}}function Wt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.text))}}function Xt(n,o){if(1&n&&(e.\u0275\u0275element(0,"i",7),e.\u0275\u0275template(1,Ht,3,3,"span",15),e.\u0275\u0275template(2,Wt,3,3,"ng-template",null,16,e.\u0275\u0275templateRefExtractor)),2&n){const t=o.$implicit,r=e.\u0275\u0275reference(3);e.\u0275\u0275classProp("me-1",t.icon),e.\u0275\u0275property("ngClass",t.icon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.icon)("ngIfElse",r)}}function Ut(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function Yt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.action(a.data))}),e.\u0275\u0275template(1,Ut,1,0,"ng-container",14),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const r=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,k,t))}}function Qt(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Yt,2,4,"button",18),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function Kt(n,o){if(1&n&&e.\u0275\u0275template(0,Qt,2,2,"ng-container",11),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.visible(r.data))}}function Zt(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function Jt(n,o){if(1&n&&e.\u0275\u0275element(0,"abp-grid-actions",7),2&n){const t=e.\u0275\u0275nextContext(),i=t.row;e.\u0275\u0275property("index",t.rowIndex)("record",i)}}const qt=function(n,o){return{$implicit:n,index:o}};function en(n,o){if(1&n&&(e.\u0275\u0275template(0,Zt,1,0,"ng-container",5),e.\u0275\u0275template(1,Jt,1,2,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&n){const t=o.row,r=o.rowIndex,i=e.\u0275\u0275reference(2),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngTemplateOutlet",a.actionsTemplate||i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,qt,t,r))}}function tn(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ngx-datatable-column",3),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275template(2,en,3,5,"ng-template",4),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",e.\u0275\u0275pipeBind1(1,4,t.actionsText))("maxWidth",t.columnWidths[0])("width",t.columnWidths[0])("sortable",!1)}}function nn(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275text(2),e.\u0275\u0275element(3,"i",13),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().column,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngbTooltip",e.\u0275\u0275pipeBind1(1,2,r.tooltip)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function on(n,o){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext().column;e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function rn(n,o){if(1&n&&(e.\u0275\u0275template(0,nn,4,4,"span",10),e.\u0275\u0275template(1,on,1,1,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&n){const t=e.\u0275\u0275reference(2),r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf",r.tooltip)("ngIfElse",t)}}function an(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(3),a=i.row,s=i.index,c=e.\u0275\u0275nextContext().$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.action&&c.action({getInjected:u.getInjected,record:a,index:s}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3).row,r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("pointer",r.action),e.\u0275\u0275property("innerHTML",e.\u0275\u0275pipeBind1(1,4,null==t["_"+r.name]?null:t["_"+r.name].value),e.\u0275\u0275sanitizeHtml)("ngClass",i.entityPropTypeClasses[r.type])}}function sn(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,an,2,6,"div",17),e.\u0275\u0275elementContainerEnd()),2&n){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext().row,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r["_"+i.name].component)("ngIfElse",t)}}function cn(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function ln(n,o){if(1&n&&e.\u0275\u0275template(0,cn,1,0,"ng-container",19),2&n){const t=e.\u0275\u0275nextContext(2).row,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngComponentOutlet",t["_"+r.name].component)("ngComponentOutletInjector",t["_"+r.name].injector)}}function pn(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,sn,2,2,"ng-container",15),e.\u0275\u0275template(2,ln,1,2,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().row,r=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t["_"+r.name]?null:t["_"+r.name].visible)}}function mn(n,o){if(1&n&&e.\u0275\u0275template(0,pn,4,1,"ng-container",14),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function dn(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ngx-datatable-column",8),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275template(3,rn,3,2,"ng-template",9),e.\u0275\u0275template(4,mn,1,2,"ng-template",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit,r=o.index,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("width",i.columnWidths[r+1]||200)("name",e.\u0275\u0275pipeBind1(2,4,t.displayName))("prop",t.name)("sortable",t.sortable)}}function un(n,o){1&n&&e.\u0275\u0275elementContainer(0)}function _n(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,un,1,0,"ng-container",7),e.\u0275\u0275pipe(2,"createInjector"),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.ngIf,r=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngComponentOutlet",t)("ngComponentOutletInjector",e.\u0275\u0275pipeBind3(2,2,i.record,r,i))}}function fn(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(4).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.action(a.data))}),e.\u0275\u0275element(2,"i",9),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=o.ngIf,r=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.btnClass?t.btnClass:r.defaultBtnClass),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("me-1",t.icon),e.\u0275\u0275property("ngClass",t.icon),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,5,t.text)," ")}}function gn(n,o){if(1&n&&e.\u0275\u0275template(0,fn,5,7,"ng-container",3),2&n){const t=e.\u0275\u0275nextContext(3).$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",r.asToolbarAction(t).value)}}function hn(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,_n,3,6,"ng-container",5),e.\u0275\u0275template(2,gn,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),r=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.component)("ngIfElse",t)}}function xn(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,hn,4,2,"ng-container",4),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("abpPermission",t.permission)("abpPermissionRunChangeDetection",!1)}}function Cn(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275template(1,xn,2,2,"ng-container",3),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit,r=o.last,i=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("pe-0",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.visible(i.data))}}let R=(()=>{class n{fromModel(t){if(!t)return null;const r=new Date(t);return isNaN(r)?null:(this.value={year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate(),hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds()},this.value)}toModel(t){if(!t)return"";const r=new Date,i={year:r.getUTCFullYear(),month:r.getMonth()+1,day:r.getDate(),hour:0,minute:0,second:0,...this.value,...t},a=new Date(i.year,i.month-1,i.day,i.hour,i.minute,i.second);return new Date(a).toISOString()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),z=(()=>{class n extends f.NgbDateAdapter{fromModel(t){if(!t)return null;let r;return r="string"==typeof t?this.dateOf(t):new Date(t),isNaN(r)?null:{day:r.getDate(),month:r.getMonth()+1,year:r.getFullYear()}}toModel(t){if(!t)return"";const r=new Date(t.year,t.month-1,t.day);return(0,d.formatDate)(r,"yyyy-MM-dd","en")}dateOf(t){const r=new Date(Date.parse(t));return new Date(r.getTime()+Math.abs(6e4*r.getTimezoneOffset()))}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}();static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),G=(()=>{class n extends f.NgbTimeAdapter{fromModel(t){if(!t)return null;const r=function bn(n){return/^((2[123])|[01][0-9])(\:[0-5][0-9]){1,2}$/.test(String(n))}(t)?new Date(0,0,1,...t.split(":").map(Number)):new Date(t);return isNaN(r)?null:{hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds()}}toModel(t){if(!t)return"";const r=new Date(0,0,1,t.hour,t.minute,t.second);return(0,d.formatDate)(r,"HH:mm","en")}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}();static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})();class H extends h{}class ie{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}class ae{constructor(o,t,r,i,a=(T=>!0),s=!1,c,u,l,C){this.type=o,this.name=t,this.displayName=r,this.permission=i,this.visible=a,this.isExtra=s,this.template=c,this.className=u,this.formText=l,this.displayTextResolver=C,this.displayName=this.displayName||this.name}}class W{constructor(){this.contributorCallbacks={}}get(o){return this.contributorCallbacks[o]=this.contributorCallbacks[o]||[],new this._ctor(this.contributorCallbacks[o])}}class se{get props(){const o=new this._ctor;return this.callbackList.forEach(t=>t(o)),o}constructor(o){this.callbackList=o}addContributor(o){this.callbackList.push(o)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class X extends H{}class U extends se{constructor(){super(...arguments),this._ctor=X}}class yn{constructor(){this.items=[]}addItem(o){const t=o.group?.name;let r=this.items.find(i=>i.group?.name===t);r?r.formPropList.addTail(o):(r={formPropList:new X,group:o.group},r.formPropList.addHead(o),this.items.push(r))}}class ce extends W{constructor(){super(...arguments),this._ctor=U}}class le extends W{constructor(){super(...arguments),this._ctor=U}}class D extends ae{constructor(o){super(o.type,o.name,o.displayName||"",o.permission||"",o.visible,o.isExtra,o.template,o.className,o.formText),this.group=o.group,this.className=o.className,this.formText=o.formText,this.asyncValidators=o.asyncValidators||(r=>[]),this.validators=o.validators||(r=>[]),this.disabled=o.disabled||(r=>!1),this.readonly=o.readonly||(r=>!1),this.autocomplete=o.autocomplete||"off",this.options=o.options,this.id=o.id||o.name;const t=o.defaultValue;this.defaultValue=function En(n){return[0,"",!1].indexOf(n)>-1}(t)?t:t||"",this.displayTextResolver=o.displayTextResolver}static create(o){return new D(o)}static createMany(o){return o.map(D.create)}}class Tn extends ie{constructor(o,t){super(),this.record=t,this.getInjected=o.get.bind(o)}}function Y(n){return n}let pe=(()=>{class n{constructor(t){this.cdRef=t,this.meridian=!1}setDate(t){this.date.writeValue(t)}setTime(t){this.time.writeValue(t)}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-date-time-picker"]],viewQuery:function(r,i){if(1&r&&(e.\u0275\u0275viewQuery(f.NgbInputDatepicker,5),e.\u0275\u0275viewQuery(f.NgbTimepicker,5)),2&r){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.date=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.time=a.first)}},inputs:{prop:"prop",meridian:"meridian"},exportAs:["abpDateTimePicker"],features:[e.\u0275\u0275ProvidersFeature([],[{provide:p.ControlContainer,useFactory:Y,deps:[[new e.Optional,new e.SkipSelf,p.ControlContainer]]},{provide:f.NgbDateAdapter,useClass:R},{provide:f.NgbTimeAdapter,useClass:R}])],decls:4,vars:4,consts:[["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","ngModelChange","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName","meridian","ngModelChange"],["timepicker",""]],template:function(r,i){if(1&r){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",0,1),e.\u0275\u0275listener("ngModelChange",function(c){return i.setTime(c)})("click",function(){e.\u0275\u0275restoreView(a);const c=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(c.open())})("keyup.space",function(){e.\u0275\u0275restoreView(a);const c=e.\u0275\u0275reference(1);return e.\u0275\u0275resetView(c.open())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"ngb-timepicker",2,3),e.\u0275\u0275listener("ngModelChange",function(c){return i.setDate(c)}),e.\u0275\u0275elementEnd()}2&r&&(e.\u0275\u0275property("id",i.prop.id)("formControlName",i.prop.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",i.prop.name)("meridian",i.meridian))},dependencies:[p.DefaultValueAccessor,p.NgControlStatus,p.FormControlName,E.ValidationDirective,f.NgbInputDatepicker,f.NgbTimepicker],encapsulation:2,changeDetection:0})}return n})();const N=new e.InjectionToken("EXTENSIONS_IDENTIFIER"),j=new e.InjectionToken("EXTENSIONS_ACTION_TYPE"),me=new e.InjectionToken("EXTENSIONS_ACTION_DATA"),de=new e.InjectionToken("EXTENSIONS_ACTION_DATA"),ue=new e.InjectionToken("PROP_DATA_STREAM"),_e=new e.InjectionToken("ENTITY_PROP_TYPE_CLASSES",{factory:()=>({})}),fe=new e.InjectionToken("EXTENSIONS_FORM_PROP"),ge=new e.InjectionToken("EXTENSIONS_FORM_PROP_DATA"),I="extraProperties",he="_Text",xe=/_Text$/;function Ce(n){return n+he}let be=(()=>{class n{constructor(t){this.ngControl=t,this.abpDisabled=!1}ngOnChanges({abpDisabled:t}){this.ngControl.control&&t&&this.ngControl.control[t.currentValue?"disable":"enable"]()}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(p.NgControl,1))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:n,selectors:[["","abpDisabled",""]],inputs:{abpDisabled:"abpDisabled"},features:[e.\u0275\u0275NgOnChangesFeature]})}return n})(),Q=(()=>{class n{get disabled(){return this.disabledFn(this.data)}setTypeaheadValue(t){this.typeaheadModel=t||{key:null,value:null};const{key:r,value:i}=this.typeaheadModel,[a,s]=this.getTypeaheadControls();s?.value&&!i&&s.markAsDirty(),a?.setValue(r),s?.setValue(i)}get meridian(){return(this.configState.getDeep("localization.currentCulture.dateTimeFormat.shortTimePattern")||"").includes("tt")}get isInvalid(){const t=this.form.get(this.prop.name);return t?.touched&&t.invalid}constructor(t,r,i,a,s){this.cdRef=t,this.track=r,this.configState=i,this.injector=s,this.asterisk="",this.containerClassName="mb-2",this.options$=(0,y.of)([]),this.validators=[],this.passwordKey="ThemeShared.Extensions.PasswordComponent",this.disabledFn=c=>!1,this.search=c=>c?c.pipe((0,x.debounceTime)(300),(0,x.distinctUntilChanged)(),(0,x.switchMap)(u=>this.prop?.options?.(this.data,u)||(0,y.of)([]))):(0,y.of)([]),this.typeaheadFormatter=c=>c.key,this.form=a.form}getTypeaheadControls(){const{name:t}=this.prop,r=`${I}.${t}`;return[this.form.get(Ce(r))||this.form.get(Ce(t)),this.form.get(r)||this.form.get(t)]}setAsterisk(){this.asterisk=this.validators.some(Nn)?"*":""}ngAfterViewInit(){this.first&&this.fieldRef&&(this.fieldRef.nativeElement.focus(),this.cdRef.detectChanges())}getComponent(t){if(t.template)return"template";switch(t.type){case"boolean":return"checkbox";case"date":return"date";case"datetime":return"dateTime";case"hidden":return"hidden";case"multiselect":return"multiselect";case"text":return"textarea";case"time":return"time";case"typeahead":return"typeahead";case"passwordinputgroup":return"passwordinputgroup";default:return t.options?"select":"input"}}getType(t){switch(t.type){case"date":case"string":return"text";case"boolean":return"checkbox";case"number":return"number";case"email":return"email";case"password":return"password";case"passwordinputgroup":return"passwordinputgroup";default:return"hidden"}}ngOnChanges({prop:t,data:r}){const i=t?.currentValue,{options:a,readonly:s,disabled:c,validators:u,className:l,template:C}=i||{};C&&(this.injectorForCustomComponent=e.Injector.create({providers:[{provide:fe,useValue:i},{provide:ge,useValue:r?.currentValue?.record},{provide:p.ControlContainer,useExisting:p.FormGroupDirective}],parent:this.injector})),a&&(this.options$=a(this.data)),s&&(this.readonly=s(this.data)),c&&(this.disabledFn=c),u&&(this.validators=u(this.data),this.setAsterisk()),void 0!==l&&(this.containerClassName=l);const[T,g]=this.getTypeaheadControls();T&&g&&(this.typeaheadModel={key:T.value,value:g.value})}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.TrackByService),e.\u0275\u0275directiveInject(m.ConfigStateService),e.\u0275\u0275directiveInject(p.FormGroupDirective),e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-extensible-form-prop"]],viewQuery:function(r,i){if(1&r&&e.\u0275\u0275viewQuery(He,5),2&r){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.fieldRef=a.first)}},inputs:{data:"data",prop:"prop",first:"first"},features:[e.\u0275\u0275ProvidersFeature([],[{provide:p.ControlContainer,useFactory:Y,deps:[[new e.Optional,new e.SkipSelf,p.ControlContainer]]},{provide:f.NgbDateAdapter,useClass:z},{provide:f.NgbTimeAdapter,useClass:G}]),e.\u0275\u0275NgOnChangesFeature],decls:3,vars:2,consts:[[3,"ngSwitch",4,"abpPermission","abpPermissionRunChangeDetection"],["label",""],[3,"ngSwitch"],["ngSwitchCase","template"],[1,"mb-2",3,"ngClass"],["ngSwitchCase","input"],["ngSwitchCase","hidden"],["ngSwitchCase","checkbox"],["ngSwitchCase","select"],["ngSwitchCase","multiselect"],["ngSwitchCase","typeahead"],["ngSwitchCase","date"],["ngSwitchCase","time"],["ngSwitchCase","dateTime"],["ngSwitchCase","textarea"],["ngSwitchCase","passwordinputgroup"],["class","text-muted d-block",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"ngTemplateOutlet"],[1,"form-control",3,"id","formControlName","autocomplete","type","abpDisabled","readonly"],["field",""],["type","hidden",3,"formControlName"],["validationTarget","",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName","abpDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-select","form-control",3,"id","formControlName","abpDisabled"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],["multiple","multiple",1,"form-select","form-control",3,"id","formControlName","abpDisabled"],["validationStyle","","validationTarget","",1,"position-relative"],["typeahead",""],[1,"form-control",3,"id","autocomplete","abpDisabled","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelOptions","ngModel","ngModelChange","selectItem","blur"],["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName"],[3,"prop","meridian"],[1,"form-control",3,"id","formControlName","abpDisabled","readonly"],[3,"inputId","formControlName",4,"abpReplaceableTemplate"],[3,"inputId","formControlName"],[1,"text-muted","d-block"],[3,"htmlFor","ngClass"],[4,"ngIf","ngIfElse"],["displayNameTemplate",""]],template:function(r,i){1&r&&(e.\u0275\u0275template(0,Tt,15,3,"ng-container",0),e.\u0275\u0275template(1,Ft,5,5,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&r&&e.\u0275\u0275property("abpPermission",i.prop.permission)("abpPermissionRunChangeDetection",!1)},dependencies:[d.NgClass,d.NgComponentOutlet,d.NgForOf,d.NgIf,d.NgTemplateOutlet,d.NgSwitch,d.NgSwitchCase,p.NgSelectOption,p.\u0275NgSelectMultipleOption,p.DefaultValueAccessor,p.CheckboxControlValueAccessor,p.SelectControlValueAccessor,p.SelectMultipleControlValueAccessor,p.NgControlStatus,p.NgModel,p.FormControlName,m.PermissionDirective,m.ReplaceableTemplateDirective,E.ValidationStyleDirective,E.ValidationTargetDirective,E.ValidationDirective,P.PasswordComponent,f.NgbInputDatepicker,f.NgbTimepicker,f.NgbTypeahead,pe,be,d.AsyncPipe,m.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})();function Nn(n){return n===p.Validators.required||n===m.AbpValidators.required||"required"===n.name}class K extends h{}class wn{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}class Z{constructor(o,t=(()=>!0),r=(()=>{})){this.permission=o,this.visible=t,this.action=r}}class ye{constructor(){this.contributorCallbacks={}}get(o){return this.contributorCallbacks[o]=this.contributorCallbacks[o]||[],new this._ctor(this.contributorCallbacks[o])}}class Te{get actions(){const o=new this._ctor;return this.callbackList.forEach(t=>t(o)),o}constructor(o){this.callbackList=o}addContributor(o){this.callbackList.push(o)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class Ee extends K{}class ve extends Te{constructor(){super(...arguments),this._ctor=Ee}}class Fe extends ye{constructor(){super(...arguments),this._ctor=ve}}class L extends Z{constructor(o){super(o.permission||"",o.visible,o.action),this.text=o.text,this.icon=o.icon||""}static create(o){return new L(o)}static createMany(o){return o.map(L.create)}}class Ie extends H{}class Pe extends se{constructor(){super(...arguments),this._ctor=Ie}}class De extends W{constructor(){super(...arguments),this._ctor=Pe}}class w extends ae{constructor(o){super(o.type,o.name,o.displayName||"",o.permission||"",o.visible,o.isExtra),this.columnWidth=o.columnWidth,this.sortable=o.sortable||!1,this.valueResolver=o.valueResolver||(t=>(0,y.of)((0,m.escapeHtmlChars)(t.record[this.name]))),o.action&&(this.action=o.action),o.component&&(this.component=o.component),o.enumList&&(this.enumList=o.enumList),this.tooltip=o.tooltip}static create(o){return new w(o)}static createMany(o){return o.map(w.create)}}class Ne extends K{}class we extends Te{constructor(){super(...arguments),this._ctor=Ne}}class Oe extends ye{constructor(){super(...arguments),this._ctor=we}}class V extends Z{constructor(o){super(o.permission||"",o.visible,o.action),this.text=o.text,this.icon=o.icon||"",o.btnClass&&(this.btnClass=o.btnClass)}static create(o){return new V(o)}static createMany(o){return o.map(V.create)}}class B extends Z{constructor(o){super(o.permission||"",o.visible,o.action),this.component=o.component}static create(o){return new B(o)}static createMany(o){return o.map(B.create)}}let O=(()=>{class n{constructor(){this.entityActions=new Fe,this.toolbarActions=new Oe,this.entityProps=new De,this.createFormProps=new ce,this.editFormProps=new le}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Se=(()=>{class n extends ie{constructor(t,r,i){super(),this.tempRef=t,this.vcRef=r,this.getInjected=i.get.bind(i)}ngOnChanges(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.tempRef,{$implicit:this.data,index:0})}ngOnDestroy(){this.vcRef.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.TemplateRef),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:n,selectors:[["","abpPropData",""]],inputs:{propList:["abpPropDataFromList","propList"],record:["abpPropDataWithRecord","record"],index:["abpPropDataAtIndex","index"]},exportAs:["abpPropData"],features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature]})}return n})(),On=(()=>{class n{set selectedRecord(t){const r=t&&"{}"!==JSON.stringify(t)?"edit":"create",i=this.extensions[`${r}FormProps`].get(this.identifier).props;this.groupedPropList=this.createGroupedList(i),this.record=t}createGroupedList(t){const r=new yn;return t.forEach(i=>{r.addItem(i.value)}),r}get form(){return this.container?this.container.control:{controls:{}}}get extraProperties(){return this.form.controls.extraProperties||{controls:{}}}constructor(t,r,i,a,s){this.cdRef=t,this.track=r,this.container=i,this.extensions=a,this.identifier=s,this.extraPropertiesKey=I}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.TrackByService),e.\u0275\u0275directiveInject(p.ControlContainer),e.\u0275\u0275directiveInject(O),e.\u0275\u0275directiveInject(N))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-extensible-form"]],viewQuery:function(r,i){if(1&r&&e.\u0275\u0275viewQuery(Q,5),2&r){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.formProps=a)}},inputs:{selectedRecord:"selectedRecord"},exportAs:["abpExtensibleForm"],features:[e.\u0275\u0275ProvidersFeature([],[{provide:p.ControlContainer,useFactory:Y,deps:[[new e.Optional,new e.SkipSelf,p.ControlContainer]]}])],decls:3,vars:1,consts:[[4,"ngIf"],["propListTemplate",""],[4,"ngFor","ngForOf"],[4,"abpPropData","abpPropDataFromList","abpPropDataWithRecord"],[3,"class",4,"ngIf","ngIfElse"],["withoutClassName",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"formGroupName",4,"ngIf","ngIfElse"],["tempDefault",""],[3,"formGroupName"],[3,"prop","data"],[3,"class","prop","data","first",4,"ngIf"],[3,"prop","data","first"]],template:function(r,i){1&r&&(e.\u0275\u0275template(0,wt,2,1,"ng-container",0),e.\u0275\u0275template(1,Rt,1,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&r&&e.\u0275\u0275property("ngIf",i.form)},dependencies:[d.NgForOf,d.NgIf,d.NgTemplateOutlet,p.NgControlStatusGroup,p.FormGroupName,E.ValidationGroupDirective,Q,Se],encapsulation:2,changeDetection:0})}return n})(),Ae=(()=>{class n extends wn{constructor(t){super(),this.getInjected=t.get.bind(t);const r=t.get(O),i=t.get(N),a=t.get(j);this.actionList=r[a].get(i).actions}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275dir=e.\u0275\u0275defineDirective({type:n,inputs:{record:"record"},features:[e.\u0275\u0275InheritDefinitionFeature]})}return n})(),Me=(()=>{class n extends Ae{constructor(t){super(t),this.icon="fa fa-cog",this.text="",this.trackByFn=(r,i)=>i.text}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-grid-actions"]],inputs:{icon:"icon",index:"index",text:"text"},exportAs:["abpGridActions"],features:[e.\u0275\u0275ProvidersFeature([{provide:j,useValue:"entityActions"}]),e.\u0275\u0275InheritDefinitionFeature],decls:8,vars:2,consts:[["ngbDropdown","","container","body","class","d-inline-block",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["dropDownBtnItemTmp",""],["buttonContentTmp",""],["btnTmp",""],["ngbDropdown","","container","body",1,"d-inline-block"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[3,"ngClass"],["ngbDropdownMenu",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["ngbDropdownItem","","type","button",3,"click",4,"abpPermission","abpPermissionRunChangeDetection"],["ngbDropdownItem","","type","button",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["ellipsis",""],["abpEllipsis",""],["type","button","class","btn btn-primary text-center",3,"click",4,"abpPermission","abpPermissionRunChangeDetection"],["type","button",1,"btn","btn-primary","text-center",3,"click"]],template:function(r,i){1&r&&(e.\u0275\u0275template(0,Lt,7,8,"div",0),e.\u0275\u0275template(1,Vt,1,4,"ng-container",1),e.\u0275\u0275template(2,Gt,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,Xt,4,5,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,Kt,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&r&&(e.\u0275\u0275property("ngIf",i.actionList.length>1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===i.actionList.length))},dependencies:[d.NgClass,d.NgForOf,d.NgIf,d.NgTemplateOutlet,m.PermissionDirective,P.EllipsisDirective,f.NgbDropdown,f.NgbDropdownToggle,f.NgbDropdownMenu,f.NgbDropdownItem,m.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),An=(()=>{class n{set actionsText(t){this._actionsText=t}get actionsText(){return this._actionsText??(this.actionList.length>1?"AbpUi::Actions":"")}set actionsColumnWidth(t){this.setColumnWidths(t?Number(t):void 0)}constructor(t,r,i){this.locale=t,this.config=r,this.injector=i,this.tableActivate=new e.EventEmitter,this.trackByFn=(u,l)=>l.name,this.entityPropTypeClasses=i.get(_e),this.getInjected=i.get.bind(i);const a=i.get(O),s=i.get(N);this.propList=a.entityProps.get(s).props,this.actionList=a.entityActions.get(s).actions;const c=i.get(m.PermissionService);this.hasAtLeastOnePermittedAction=c.filterItemsByPolicy(this.actionList.toArray().map(u=>({requiredPolicy:u.permission}))).length>0,this.setColumnWidths(150)}setColumnWidths(t){const r=[t];this.propList.forEach(({value:i})=>{r.push(i.columnWidth)}),this.columnWidths=r}getDate(t,r){return t&&r?(0,d.formatDate)(t,r,this.locale):""}getIcon(t){return t?'<div class="text-success"><i class="fa fa-check" aria-hidden="true"></i></div>':'<div class="text-danger"><i class="fa fa-times" aria-hidden="true"></i></div>'}getEnum(t,r){if(!r||r.length<1)return t;const{key:i}=r.find(({value:a})=>a===t)||{};return i}getContent(t,r){return t.valueResolver(r).pipe((0,x.map)(i=>{switch(t.type){case"boolean":return this.getIcon(i);case"date":return this.getDate(i,(0,m.getShortDateFormat)(this.config));case"time":return this.getDate(i,(0,m.getShortTimeFormat)(this.config));case"datetime":return this.getDate(i,(0,m.getShortDateShortTimeFormat)(this.config));case"enum":return this.getEnum(i,t.enumList||[]);default:return i}}))}ngOnChanges({data:t}){t?.currentValue&&(this.data=t.currentValue.map((r,i)=>(this.propList.forEach(a=>{const s={getInjected:this.getInjected,record:r,index:i},c=this.getContent(a.value,s),u=`_${a.value.name}`;if(r[u]={visible:a.value.visible(s),value:c},a.value.component){const l=e.Injector.create({providers:[{provide:ue,useValue:c}],parent:this.injector});r[u].injector=l,r[u].component=a.value.component}}),r)))}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.LOCALE_ID),e.\u0275\u0275directiveInject(m.ConfigStateService),e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-extensible-table"]],inputs:{actionsText:"actionsText",data:"data",list:"list",recordsTotal:"recordsTotal",actionsColumnWidth:"actionsColumnWidth",actionsTemplate:"actionsTemplate"},outputs:{tableActivate:"tableActivate"},exportAs:["abpExtensibleTable"],features:[e.\u0275\u0275NgOnChangesFeature],decls:3,vars:6,consts:[["default","",3,"rows","count","list","activate"],[3,"name","maxWidth","width","sortable",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"name","maxWidth","width","sortable"],["ngx-datatable-cell-template",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["gridActions",""],["text","AbpUi::Actions",3,"index","record"],[3,"width","name","prop","sortable"],["ngx-datatable-header-template",""],["container","body",3,"ngbTooltip",4,"ngIf","ngIfElse"],["elseBlock",""],["container","body",3,"ngbTooltip"],["aria-hidden","true",1,"fa","fa-info-circle"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"ngIf"],["component",""],[3,"innerHTML","ngClass","pointer","click",4,"ngIf","ngIfElse"],[3,"innerHTML","ngClass","click"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"ngx-datatable",0),e.\u0275\u0275listener("activate",function(s){return i.tableActivate.emit(s)}),e.\u0275\u0275template(1,tn,3,6,"ngx-datatable-column",1),e.\u0275\u0275template(2,dn,5,6,"ng-container",2),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275property("rows",i.data)("count",i.recordsTotal)("list",i.list),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.actionsTemplate||i.actionList.length&&i.hasAtLeastOnePermittedAction),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.propList)("ngForTrackBy",i.trackByFn))},dependencies:[d.NgClass,d.NgComponentOutlet,d.NgForOf,d.NgIf,d.NgTemplateOutlet,m.PermissionDirective,M.DatatableComponent,M.DataTableColumnDirective,M.DataTableColumnHeaderDirective,M.DataTableColumnCellDirective,P.NgxDatatableDefaultDirective,P.NgxDatatableListDirective,f.NgbTooltip,Me,d.AsyncPipe,m.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),ke=(()=>{class n{transform(t,r,i){return{get:(s,c,u)=>{const l=i.getData(),C=g=>(g=g??i.getData(),r.action(g));let T;switch(s){case me:T=l;break;case de:T=C;break;default:T=i.getInjected.call(i.injector,s,c,u)}return T}}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=e.\u0275\u0275definePipe({name:"createInjector",type:n,pure:!0})}return n})(),Mn=(()=>{class n extends Ae{constructor(t){super(t),this.injector=t,this.defaultBtnClass="btn btn-sm btn-primary",this.getData=()=>this.data,this.trackByFn=(r,i)=>i.action||i.component}asToolbarAction(t){return{value:t}}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-page-toolbar"]],exportAs:["abpPageToolbar"],features:[e.\u0275\u0275ProvidersFeature([{provide:j,useValue:"toolbarActions"}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["id","AbpContentToolbar",1,"row","justify-content-end","mx-0","gap-2"],["class","col-auto px-0 pt-0 ",3,"pe-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-auto","px-0","pt-0"],[4,"ngIf"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"ngIf","ngIfElse"],["button",""],[4,"ngComponentOutlet","ngComponentOutletInjector"],["type","button",1,"d-inline-flex","align-items-center","gap-1",3,"ngClass","click"],[3,"ngClass"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Cn,2,3,"div",1),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",i.actionList)("ngForTrackBy",i.trackByFn))},dependencies:[d.NgClass,d.NgComponentOutlet,d.NgForOf,d.NgIf,m.PermissionDirective,m.LocalizationPipe,ke],encapsulation:2,changeDetection:0})}return n})();var kn=Object.freeze({__proto__:null});const Rn={provide:p.ControlContainer,useExisting:p.FormGroupDirective};let J=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CoreModule,P.ThemeSharedModule,E.NgxValidateCoreModule,f.NgbDatepickerModule,f.NgbDropdownModule,f.NgbTimepickerModule,f.NgbTypeaheadModule,f.NgbTooltipModule]})}return n})(),jn=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[J,J]})}return n})();function Ln(n,o,...t){Object.keys(o).forEach(r=>{const i=n.get(r);i.clearContributors(),i.addContributor(a=>a.addManyTail(o[r])),t.forEach(a=>(a[r]||[]).forEach(s=>i.addContributor(s)))})}function Vn(n){const o=n.getInjected(O),t=n.getInjected(N),r=new p.UntypedFormGroup({}),i=new p.UntypedFormGroup({});r.addControl(I,i);const a=n.record||{},c=o[("{}"===JSON.stringify(a)?"create":"edit")+"FormProps"].get(t).props,u=a[I]||{};return c.forEach(({value:l})=>{const C=l.name,T=l.isExtra||C in u;let g=T?u[C]:C in a?a[C]:void 0;if(typeof g>"u"&&(g=l.defaultValue),g){let v;switch(l.type){case"date":v=new z,g=v.toModel(v.fromModel(g));break;case"time":v=new G,g=v.toModel(v.fromModel(g));break;case"datetime":v=new R,g=v.toModel(v.fromModel(g))}}const Be=new p.UntypedFormControl(g,{asyncValidators:l.asyncValidators(n),validators:l.validators(n)});(T?i:r).addControl(C,Be)}),r}function Re(n){return o=>(0,y.of)(o.record[I][n])}function Bn(n,o,...t){Object.keys(o).forEach(r=>{const i=n.get(r);i.clearContributors(),i.addContributor(a=>a.addManyTail(o[r])),t.forEach(a=>(a[r]||[]).forEach(s=>i.addContributor(s)))})}function $n(n){const o={};return n.forEach(({name:t="",value:r})=>{o[o[t]=r]=t}),o}function je(n,o){return(0,y.merge)((0,y.of)(null),n.languageChange$).pipe((0,x.map)(()=>o))}function Le(n,o,t){const r=t.localizationResource,i=function Hn(n){return n.split(".").pop()}(o);return a=>n.localizeWithFallbackSync([r||""],["Enum:"+i+"."+a,i+"."+a,a],a)}function Ve(n){return n.getOne$("objectExtensions")}function Qn(n,o){return Ve(n).pipe((0,x.map)(t=>t?(t.modules[o]||{}).entities:null),(0,x.map)(t=>function qn(n){return typeof n>"u"}(t)?{}:t),(0,x.filter)(Boolean),(0,x.take)(1))}function Kn(n,o){return(0,y.pipe)((0,x.switchMap)(t=>(0,y.zip)(function Un(n){return n.getOne$("localization")}(n),function Yn(n){return Ve(n).pipe((0,x.map)(o=>Object.keys(o.enums).reduce((t,r)=>{const{fields:i,localizationResource:a}=o.enums[r];return t[r]={fields:i,localizationResource:a,transformed:$n(i)},t},{})))}(n)).pipe((0,x.map)(([r,i])=>{const a=function Wn(n){const o=(0,m.createLocalizationPipeKeyGenerator)(n);return(t,r)=>t&&t.name?o([t.resource||""],[t.name],t.name):o([r.resource||""],["DisplayName:"+r.name],void 0)||o([r.resource||""],[r.name||""],r.name)}(r);return Object.keys(t).reduce((s,c)=>{s.prop[c]=[],s.createForm[c]=[],s.editForm[c]=[];const u=t[c];if(!u)return s;const l=u.properties;return l?function Zn(n,o,t){return(r,i,a)=>{const c=function In(n,o){return(t,r)=>{const i=function Dn(n){return n.replace(xe,"")}(r.name||"");return n(t||o[i].displayName,{name:i,resource:r.resource})}}(n,r);return Object.keys(r).forEach(u=>{const l=r[u],C=u,T=l.ui.lookup||{},g=function Fn(n,o){return n.url?"typeahead":o.endsWith(he)?"hidden":void 0}(T,u)||function Jn(n){return n?.typeSimple?.replace(/\?$/,"")}(l),v=(function Pn(n){return xe.test(n)}(u)?c:n)(l.displayName,{name:u,resource:o});if(l.ui.onTable.isVisible){const q=!!l.ui.onTable.isSortable,ee="boolean"===g?150:250,te="enum"===g&&l.type?function zn(n,o,t){return r=>{const a=o.transformed[r.record[I][t]],s=r.getInjected(m.LocalizationService);return je(s,Le(s,n,o)(a))}}(l.type,t[l.type],C):Re(C),S=new w({type:g,name:C,displayName:v,sortable:q,columnWidth:ee,valueResolver:te,isExtra:!0});i.prop[a].push($=>$.addTail(S))}const $e=l.ui.onCreateForm.isVisible,ze=l.ui.onEditForm.isVisible;if($e||ze){const q=l.defaultValue,ee=l.formText,te=()=>function Xn(n){const o=[];return n.attributes.forEach(t=>{t.typeSimple&&t.typeSimple in m.AbpValidators&&o.push(m.AbpValidators[t.typeSimple](t.config))}),o}(l);let S;"enum"===g?S=function Gn(n,o){return t=>{const r=t.getInjected(m.LocalizationService),i=Le(r,n,o);return je(r,o.fields.map(({name:a="",value:s})=>({key:i(a),value:s})))}}(C,t[l.type||""]):"typeahead"===g&&(S=function vn(n){return(o,t)=>t&&o?o.getInjected(m.RestService).request({method:"GET",url:n.url||"",params:{[n.filterParamName||""]:t}},{apiName:"Default"}).pipe((0,x.map)(r=>r[n.resultListPropertyName||""].map(s=>({key:s[n.displayPropertyName||""],value:s[n.valuePropertyName||""]})))):(0,y.of)([])}(T));const ne=new D({type:g,name:C,displayName:v,options:S,defaultValue:q,validators:te,isExtra:!0,formText:ee}),$=eo=>eo.addTail(ne);$e&&i.createForm[a].push($),ze&&i.editForm[a].push($)}}),i}}(a,o,i)(l,s,c):s},{prop:{},createForm:{},editForm:{}})}))),(0,x.take)(1))}},9611:(Ge,A,b)=>{b.d(A,{Z:()=>e});var e=d;function d(_,h){return _===h||_!=_&&h!=h||!(typeof _!=typeof h||{}.toString.call(_)!={}.toString.call(h)||_!==Object(_)||!_)&&(Array.isArray(_)?p(_,h):"[object Set]"=={}.toString.call(_)?p(Array.from(_),Array.from(h)):"[object Object]"=={}.toString.call(_)?function F(_,h){var E=Object.keys(_),m=E.length;if(m!=Object.keys(h).length)return!1;for(var y=0;y<m;y++){var x=E[y];if(!h.hasOwnProperty(x)||!d(_[x],h[x]))return!1}return!0}(_,h):function f(_,h){return _.toString()===h.toString()}(_,h))}function p(_,h){var E=_.length;if(E!=h.length)return!1;for(var m=0;m<E;m++)if(!d(_[m],h[m]))return!1;return!0}}}]);