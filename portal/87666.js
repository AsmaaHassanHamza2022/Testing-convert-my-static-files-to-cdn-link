(self.webpackChunkportal=self.webpackChunkportal||[]).push([[87666],{87666:(hn,q,v)=>{v.r(q),v.d(q,{APP_INIT_ERROR_HANDLERS:()=>ot,AbpApiDefinitionService:()=>Lr,AbpApplicationConfigurationService:()=>et,AbpApplicationLocalizationService:()=>tt,AbpLocalStorageService:()=>rt,AbpTenantService:()=>Et,AbpValidators:()=>Kr,AbpWindowService:()=>lr,AbstractNavTreeService:()=>gt,AbstractNgModelComponent:()=>yn,AbstractTreeService:()=>ft,ApiInterceptor:()=>Vr,AuditedEntityDto:()=>Ne,AuditedEntityWithUserDto:()=>Ir,AuthGuard:()=>Sn,AuthService:()=>Ge,AutofocusDirective:()=>jn,BaseCoreModule:()=>B,BaseTreeNode:()=>ee,CHECK_AUTHENTICATION_STATE_FN_KEY:()=>ut,CONTAINER_STRATEGY:()=>O,CONTENT_SECURITY_STRATEGY:()=>Xt,CONTENT_STRATEGY:()=>Nr,CONTEXT_STRATEGY:()=>T,COOKIE_LANGUAGE_KEY:()=>at,CORE_OPTIONS:()=>j,CROSS_ORIGIN_STRATEGY:()=>A,ClearContainerStrategy:()=>Yt,ComponentContextStrategy:()=>tn,ComponentProjectionStrategy:()=>ce,ConfigStateService:()=>I,ContainerStrategy:()=>_e,ContentProjectionService:()=>Qn,ContentSecurityStrategy:()=>ke,ContentStrategy:()=>Fe,ContextStrategy:()=>oe,CoreModule:()=>mr,CreationAuditedEntityDto:()=>Oe,CreationAuditedEntityWithUserDto:()=>Tr,CrossOriginStrategy:()=>ie,DOM_STRATEGY:()=>y,DefaultQueueManager:()=>Ft,DomInsertionService:()=>sr,DomStrategy:()=>x,DynamicLayoutComponent:()=>Ln,EntityDto:()=>Vt,EnvironmentService:()=>k,ExtensibleAuditedEntityDto:()=>Me,ExtensibleAuditedEntityWithUserDto:()=>Ar,ExtensibleCreationAuditedEntityDto:()=>je,ExtensibleCreationAuditedEntityWithUserDto:()=>Dr,ExtensibleEntityDto:()=>Le,ExtensibleFullAuditedEntityDto:()=>Wt,ExtensibleFullAuditedEntityWithUserDto:()=>wr,ExtensibleLimitedResultRequestDto:()=>Ht,ExtensibleObject:()=>Gt,ExtensiblePagedAndSortedResultRequestDto:()=>Er,ExtensiblePagedResultRequestDto:()=>Kt,ExternalHttpClient:()=>Ze,ForDirective:()=>kn,FormSubmitDirective:()=>Fn,FullAuditedEntityDto:()=>Zt,FullAuditedEntityWithUserDto:()=>Rr,HttpErrorReporterService:()=>Q,HttpWaitService:()=>Pt,INCUDE_LOCALIZATION_RESOURCES_TOKEN:()=>me,INJECTOR_PIPE_DATA_TOKEN:()=>bt,IS_EXTERNAL_REQUEST:()=>Ve,InitDirective:()=>Pn,InputEventDebounceDirective:()=>Mn,InsertIntoContainerStrategy:()=>se,InternalStore:()=>D,LIST_QUERY_DEBOUNCE_TIME:()=>ct,LOADER_DELAY:()=>be,LOADING_STRATEGY:()=>jr,LOCALIZATIONS:()=>le,LazyLoadService:()=>or,LazyModuleFactory:()=>Jn,LimitedResultRequestDto:()=>Bt,ListResultDto:()=>Ut,ListService:()=>ar,LoadingStrategy:()=>ze,LocalizationModule:()=>G,LocalizationPipe:()=>St,LocalizationService:()=>L,LooseContentSecurityStrategy:()=>Qt,MultiTenancyService:()=>Tt,NAVIGATE_TO_MANAGE_PROFILE:()=>Rn,NavigationEvent:()=>ye,NoContentSecurityStrategy:()=>Jt,NoContextStrategy:()=>en,NoCrossOriginStrategy:()=>_t,OTHERS_GROUP:()=>Te,ObjectExtending:()=>Or,PIPE_TO_LOGIN_FN_KEY:()=>An,PROJECTION_STRATEGY:()=>Mr,PagedAndSortedResultRequestDto:()=>Cr,PagedResultDto:()=>br,PagedResultRequestDto:()=>qt,PermissionDirective:()=>xn,PermissionGuard:()=>Sr,PermissionService:()=>te,ProjectionStrategy:()=>ae,QUEUE_MANAGER:()=>Ce,ReplaceableComponentsService:()=>X,ReplaceableRouteContainerComponent:()=>On,ReplaceableTemplateDirective:()=>zn,ResourceWaitService:()=>xt,RestService:()=>F,RootComponentProjectionStrategy:()=>rn,RootCoreModule:()=>we,RouterEvents:()=>Se,RouterOutletComponent:()=>Nn,RouterWaitService:()=>cr,RoutesService:()=>ne,SET_TOKEN_RESPONSE_TO_STORAGE_FN_KEY:()=>Dn,SafeHtmlPipe:()=>fr,ScriptContentStrategy:()=>xe,ScriptLoadingStrategy:()=>H,SessionStateService:()=>P,ShortDatePipe:()=>pr,ShortDateTimePipe:()=>dr,ShortTimePipe:()=>hr,ShowPasswordDirective:()=>vr,SortPipe:()=>Gn,StopPropagationDirective:()=>$n,StyleContentStrategy:()=>Pe,StyleLoadingStrategy:()=>$e,SubscriptionService:()=>b,TENANT_KEY:()=>Ee,TemplateContextStrategy:()=>nn,TemplateProjectionStrategy:()=>ue,ToInjectorPipe:()=>Bn,TrackByService:()=>ur,TrackCapsLockDirective:()=>yr,WebHttpUrlEncodingCodec:()=>rr,checkHasProp:()=>_,coreOptionsFactory:()=>Be,createGroupMap:()=>pt,createLocalizationPipeKeyGenerator:()=>Cn,createLocalizer:()=>V,createLocalizerWithFallback:()=>he,createMapFromList:()=>ht,createTokenParser:()=>qe,createTreeFromList:()=>dt,createTreeNodeFilterCreator:()=>wn,deepMerge:()=>ge,differentLocales:()=>Ie,downloadBlob:()=>er,escapeHtmlChars:()=>En,exists:()=>pe,featuresFactory:()=>Xn,findRoute:()=>J,fromLazyLoad:()=>kt,generateHash:()=>re,generatePassword:()=>nr,getInitialData:()=>At,getLocaleDirection:()=>bn,getPathName:()=>Mt,getRemoteEnv:()=>Ct,getRoutePath:()=>ve,getShortDateFormat:()=>wt,getShortDateShortTimeFormat:()=>Ot,getShortTimeFormat:()=>Lt,interpolate:()=>Ke,isArray:()=>U,isNode:()=>Y,isNullOrEmpty:()=>Z,isNullOrUndefined:()=>M,isNumber:()=>Nt,isObject:()=>W,isObjectAndNotArray:()=>Ye,isObjectAndNotArrayNotNode:()=>fe,isUndefinedOrEmptyString:()=>We,localeInitializer:()=>Dt,localizationContributor:()=>de,localizations$:()=>K,mapEnumToOptions:()=>tr,noop:()=>$,parseTenantFromUrl:()=>It,pushValueTo:()=>lt,reloadRoute:()=>st,trackBy:()=>zt,trackByDeep:()=>$t,uuid:()=>jt,validateCreditCard:()=>on,validateMinAge:()=>sn,validateRange:()=>an,validateRequired:()=>cn,validateStringLength:()=>un,validateUniqueCharacter:()=>ln,validateUrl:()=>dn});var z=v(49671),s=v(11705),d=v(4125),f=v(28675),m=v(62411),c=v(32070),p=v(81686),E=v(39611),S=v(36394),N=function R(t){let r=t;var e={}.toString.call(t).slice(8,-1);if("Set"==e)return new Set([...t].map(i=>R(i)));if("Map"==e)return new Map([...t].map(i=>[R(i[0]),R(i[1])]));if("Date"==e)return new Date(t.getTime());if("RegExp"==e)return RegExp(t.source,function pn(t){if("string"==typeof t.source.flags)return t.source.flags;var r=[];return t.global&&r.push("g"),t.ignoreCase&&r.push("i"),t.multiline&&r.push("m"),t.sticky&&r.push("y"),t.unicode&&r.push("u"),r.join("")}(t));if("Array"==e||"Object"==e)for(var n in r=Array.isArray(t)?[]:{},t)r[n]=R(t[n]);return r},fn=v(60871),gn=v(15137);function mn(t,r){if(1&t&&s.\u0275\u0275elementContainer(0,1),2&t){const e=s.\u0275\u0275nextContext();s.\u0275\u0275property("ngComponentOutlet",e.layout)}}function vn(t,r){1&t&&s.\u0275\u0275elementContainer(0)}let yn=(()=>{class t{set value(e){e=this.valueFn(e,this._value),!1===this.valueLimitFn(e,this._value)&&!this.readonly&&(this._value=e,this.notifyValueChange())}get value(){return this._value||this.defaultValue}get defaultValue(){return this._value}constructor(e){this.injector=e,this.valueFn=n=>n,this.valueLimitFn=n=>!1,this.cdRef=e.get(s.ChangeDetectorRef)}notifyValueChange(){this.onChange&&this.onChange(this.value)}writeValue(e){this._value=this.valueLimitFn(e,this._value)||e,setTimeout(()=>this.cdRef.markForCheck(),0)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.Injector))};static#t=this.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{disabled:"disabled",readonly:"readonly",valueFn:"valueFn",valueLimitFn:"valueLimitFn",value:"value"},decls:0,vars:0,template:function(n,i){},encapsulation:2})}return t})(),Sn=(()=>{class t{canActivate(){return console.error("You should add @abp/ng-oauth packages or create your own auth packages."),!1}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ge=(()=>{class t{warningMessage(){console.error("You should add @abp/ng-oauth packages or create your own auth packages.")}init(){return this.warningMessage(),Promise.resolve(void 0)}login(e){return this.warningMessage(),(0,d.of)(void 0)}logout(e){return this.warningMessage(),(0,d.of)(void 0)}navigateToLogin(e){}get isInternalAuth(){throw new Error("not implemented")}get isAuthenticated(){return this.warningMessage(),!1}loginUsingGrant(e,n,i){return console.log({grantType:e,parameters:n,headers:i}),Promise.reject(new Error("not implemented"))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const le=new s.InjectionToken("LOCALIZATIONS");function de(t){t&&K.next([...K.value,...t])}const K=new d.BehaviorSubject([]),j=new s.InjectionToken("CORE_OPTIONS");function Be({...t}){return{...t}}function bn(t){return/^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(t)?"rtl":"ltr"}function V(t){return(r,e,n)=>{if("_"===r)return e;const i=t?.values?.[r];return i&&i[e]||n}}function he(t){const r=He(t);return(e,n,i)=>{const{localized:o}=r(e,n);return o||i}}function Cn(t){const r=He(t);return(e,n,i)=>{const{resourceName:o,key:a}=r(e,n);return o?"_"===o?a:`${o}::${a}`:i}}function He(t){const r=V(t);return(e,n)=>{const i=(e=e.concat(t.defaultResourceName||"").filter(Boolean)).length,o=n.length;for(let a=0;a<i;a++){const u=e[a];for(let l=0;l<o;l++){const h=n[l],g=r(u,h,null);if(g)return{resourceName:u,key:h,localized:g}}}return{resourceName:void 0,key:void 0,localized:void 0}}}function qe(t){return r=>{const e=[],n=t.replace(/\./g,"\\.").replace(/\{\s?([0-9a-zA-Z]+)\s?\}/g,(o,a)=>(e.push(a),"(.+)"));return(r.match(n)||[]).slice(1).reduce((o,a,u)=>{const l=e[u];return o[l]=[...o[l]||[],a].filter(Boolean),o},{})}}function Ke(t,r){return t.replace(/(['"]?\{\s*(\d+)\s*\}['"]?)/g,(e,n,i)=>r[i]??n).replace(/\s+/g," ")}function En(t){return t&&"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}const Ve=new p.HttpContextToken(()=>!1);let Ze=(()=>{class t extends p.HttpClient{request(e,n,i={}){return"string"==typeof e?(this.#e(i),super.request(e,n||"",i)):(this.#e(e),super.request(e))}#e(e){e.context??=new p.HttpContext,e.context.set(Ve,!0)}static#t=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.\u0275\u0275getInheritedFactory(t)))(i||t)}}();static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $(){return function(){}}function We(t){return void 0===t||""===t}function M(t){return null==t}function Z(t){return null==t||""===t}function pe(t){return!M(t)}function W(t){return t instanceof Object}function U(t){return Array.isArray(t)}function Ye(t){return W(t)&&!U(t)}function Y(t){return t instanceof Node}function fe(t){return Ye(t)&&!Y(t)}function _(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function ge(t,r){return fe(t)&&fe(r)?Qe(t,r):M(t)&&M(r)?{}:pe(r)?r:t}function Qe(t,r){if(M(t)||M(r)||U(t)||U(r)||!W(t)||!W(r)||Y(t)||Y(r))return pe(r)?r:t;const n=Object.keys(t),i=Object.keys(r);return[...new Set(n.concat(i))].reduce((a,u)=>(a[u]=Qe(t[u],r[u]),a),{})}class D{get state(){return this.state$.value}constructor(r){this.initialState=r,this.state$=new d.BehaviorSubject(this.initialState),this.update$=new d.Subject,this.sliceState=(e,n=E.Z)=>this.state$.pipe((0,c.map)(e),(0,c.distinctUntilChanged)(n)),this.sliceUpdate=(e,n=(i=>void 0!==i))=>this.update$.pipe((0,c.map)(e),(0,c.filter)(n))}patch(r){let e=r;"object"==typeof r&&!Array.isArray(r)&&(e={...this.state,...r}),this.state$.next(e),this.update$.next(e)}deepPatch(r){this.state$.next(ge(this.state,r)),this.update$.next(r)}set(r){this.state$.next(r),this.update$.next(r)}reset(){this.set(this.initialState)}}const Je=t=>r=>(t&&r[t]||r.default).url||r.default.url,Xe=t=>t&&(t.endsWith("/")?t:t+"/");let k=(()=>{class t{constructor(){this.store=new D({})}get createOnUpdateStream(){return this.store.sliceUpdate}getEnvironment$(){return this.store.sliceState(e=>e)}getEnvironment(){return this.store.state}getApiUrl(e){return Je(e)(this.store.state?.apis)}getApiUrl$(e){return this.store.sliceState(n=>n.apis).pipe((0,c.map)(Je(e)))}setState(e){this.store.set(e)}getIssuer(){const e=this.store.state?.oAuthConfig?.issuer;return Xe(e)}getIssuer$(){return this.store.sliceState(e=>e?.oAuthConfig?.issuer).pipe((0,c.map)(Xe))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Q=(()=>{class t{constructor(){this._reporter$=new d.Subject,this._errors$=new d.BehaviorSubject([]),this.reportError=e=>{this._reporter$.next(e),this._errors$.next([...this.errors,e])}}get reporter$(){return this._reporter$.asObservable()}get errors$(){return this._errors$.asObservable()}get errors(){return this._errors$.value}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),F=(()=>{class t{constructor(e,n,i,o,a){this.options=e,this.http=n,this.externalHttp=i,this.environment=o,this.httpErrorReporter=a}getApiFromStore(e){return this.environment.getApiUrl(e)}handleError(e){return this.httpErrorReporter.reportError(e),(0,d.throwError)(e)}request(e,n,i){n=n||{},i=i||this.getApiFromStore(n.apiName);const{method:o,params:a,...u}=e,{observe:l="body",skipHandleError:h}=n,g=this.removeDuplicateSlashes(i+e.url);return this.getHttpClient(n.skipAddingHeader).request(o,g,{observe:l,...a&&{params:this.getParams(a,n.httpParamEncoder)},...u}).pipe((0,c.catchError)(w=>h?(0,d.throwError)(w):this.handleError(w)))}getHttpClient(e){return e?this.externalHttp:this.http}getParams(e,n){const i=Object.entries(e).reduce((o,[a,u])=>(We(u)||null===u&&!this.options.sendNullsAsQueryParam||(o[a]=u),o),{});return new p.HttpParams(n?{encoder:n,fromObject:i}:{fromObject:i})}removeDuplicateSlashes(e){return e.replace(/([^:]\/)\/+/g,"$1")}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(j),s.\u0275\u0275inject(p.HttpClient),s.\u0275\u0275inject(Ze),s.\u0275\u0275inject(k),s.\u0275\u0275inject(Q))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),et=(()=>{class t{constructor(e){this.restService=e,this.apiName="abp",this.get=n=>this.restService.request({method:"GET",url:"/api/abp/application-configuration",params:{includeLocalizationResources:n.includeLocalizationResources}},{apiName:this.apiName})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(F))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tt=(()=>{class t{constructor(e){this.restService=e,this.apiName="abp",this.get=n=>this.restService.request({method:"GET",url:"/api/abp/application-localization",params:{cultureName:n.cultureName,onlyDynamics:n.onlyDynamics}},{apiName:this.apiName})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(F))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const me=new s.InjectionToken("INCUDE_LOCALIZATION_RESOURCES_TOKEN");let I=(()=>{class t{setState(e){this.store.set(e)}get createOnUpdateStream(){return this.store.sliceUpdate}constructor(e,n,i){this.abpConfigService=e,this.abpApplicationLocalizationService=n,this.includeLocalizationResources=i,this.updateSubject=new d.Subject,this.store=new D({}),this.initUpdateStream()}initUpdateStream(){this.updateSubject.pipe((0,c.switchMap)(()=>this.abpConfigService.get({includeLocalizationResources:!!this.includeLocalizationResources}))).pipe((0,c.switchMap)(e=>this.getLocalizationAndCombineWithAppState(e))).subscribe(e=>this.store.set(e))}getLocalizationAndCombineWithAppState(e){if(!e.localization.currentCulture.cultureName)throw new Error("culture name should defined");return this.getlocalizationResource(e.localization.currentCulture.cultureName).pipe((0,c.map)(n=>({...e,localization:{...e.localization,...n}})))}getlocalizationResource(e){return this.abpApplicationLocalizationService.get({cultureName:e,onlyDynamics:!1})}refreshAppState(){return this.updateSubject.next(),this.createOnUpdateStream(e=>e).pipe((0,c.take)(1))}refreshLocalization(e){return this.includeLocalizationResources?this.refreshAppState().pipe((0,c.map)(()=>null)):this.getlocalizationResource(e).pipe((0,c.tap)(n=>this.store.patch({localization:{...this.store.state.localization,...n}}))).pipe((0,c.map)(()=>null))}getOne$(e){return this.store.sliceState(n=>n[e])}getOne(e){return this.store.state[e]}getAll$(){return this.store.sliceState(e=>e)}getAll(){return this.store.state}getDeep$(e){return e=nt(e),this.store.sliceState(n=>n).pipe((0,c.map)(n=>e.reduce((i,o)=>{if(i)return i[o]},n)))}getDeep(e){return(e=nt(e)).reduce((n,i)=>{if(n)return n[i]},this.store.state)}getFeature(e){return this.store.state.features?.values?.[e]}getFeature$(e){return this.store.sliceState(n=>n.features?.values?.[e])}getFeatures(e){const{features:n}=this.store.state;if(n)return e.reduce((i,o)=>({...i,[o]:n.values[o]}),{})}getFeatures$(e){return this.store.sliceState(({features:n})=>{if(n?.values)return e.reduce((i,o)=>({...i,[o]:n.values[o]}),{})})}getSetting(e){return this.store.state.setting?.values?.[e]}getSetting$(e){return this.store.sliceState(n=>n.setting?.values?.[e])}getSettings(e){const n=this.store.state.setting?.values||{};return e?Object.keys(n).filter(o=>o.indexOf(e)>-1).reduce((o,a)=>(o[a]=n[a],o),{}):n}getSettings$(e){return this.store.sliceState(n=>n.setting?.values).pipe((0,c.map)((n={})=>e?Object.keys(n).filter(o=>o.indexOf(e)>-1).reduce((o,a)=>(o[a]=n[a],o),{}):n))}getGlobalFeatures(){return this.store.state.globalFeatures}getGlobalFeatures$(){return this.store.sliceState(e=>e.globalFeatures)}isGlobalFeatureEnabled(e,n){return(n.enabledFeatures||[]).some(o=>e===o)}getGlobalFeatureIsEnabled(e){return this.isGlobalFeatureEnabled(e,this.store.state.globalFeatures)}getGlobalFeatureIsEnabled$(e){return this.store.sliceState(n=>this.isGlobalFeatureEnabled(e,n.globalFeatures))}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(et),s.\u0275\u0275inject(tt),s.\u0275\u0275inject(me,8))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nt(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return t}let rt=(()=>{class t{constructor(){}get length(){return localStorage.length}clear(){localStorage.clear()}getItem(e){return localStorage.getItem(e)}key(e){return localStorage.key(e)}removeItem(e){localStorage.removeItem(e)}setItem(e,n){localStorage.setItem(e,n)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P=(()=>{class t{constructor(e,n){this.configState=e,this.localStorageService=n,this.store=new D({}),this.updateLocalStorage=()=>{this.localStorageService.setItem("abpSession",JSON.stringify(this.store.state))},this.init(),this.setInitialLanguage()}init(){const e=this.localStorageService.getItem("abpSession");e&&this.store.set(JSON.parse(e)),this.store.sliceUpdate(n=>n).subscribe(this.updateLocalStorage)}setInitialLanguage(){const e=this.getLanguage();this.configState.getDeep$("localization.currentCulture.cultureName").pipe((0,c.filter)(n=>!!n),(0,c.take)(1)).subscribe(n=>{n.includes(";")&&(n=n.split(";")[0]),e!==n&&this.setLanguage(n)})}onLanguageChange$(){return this.store.sliceUpdate(e=>e.language)}onTenantChange$(){return this.store.sliceUpdate(e=>e.tenant)}getLanguage(){return this.store.state.language}getLanguage$(){return this.store.sliceState(e=>e.language)}getTenant(){return this.store.state.tenant}getTenant$(){return this.store.sliceState(e=>e.tenant)}setTenant(e){(0,E.Z)(e,this.store.state.tenant)||this.store.set({...this.store.state,tenant:e})}setLanguage(e){e!==this.store.state.language&&(this.store.patch({language:e}),document.documentElement.setAttribute("lang",e))}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(I),s.\u0275\u0275inject(rt))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),L=(()=>{class t{get currentLang(){return this.latestLang||this.sessionState.getLanguage()}get currentLang$(){return this.sessionState.getLanguage$()}get languageChange$(){return this._languageChange$.asObservable()}constructor(e,n,i,o){if(this.sessionState=e,this.injector=n,this.configState=o,this.latestLang=this.sessionState.getLanguage(),this._languageChange$=new d.Subject,this.uiLocalizations$=new d.BehaviorSubject(new Map),this.localizations$=new d.BehaviorSubject(new Map),i)throw new Error("LocalizationService should have only one instance.");this.listenToSetLanguage(),this.initLocalizationValues()}initLocalizationValues(){K.subscribe(a=>this.addLocalization(a));const e=this.configState.getDeep$("localization.values"),n=this.configState.getDeep$("localization.resources"),i=this.sessionState.getLanguage$(),o=(0,d.combineLatest)([i,this.uiLocalizations$]).pipe((0,c.map)(([a,u])=>u.get(a)));(0,d.combineLatest)([e,n,o]).pipe((0,c.map)(([a,u,l])=>{if(!u)return;const h=function In(t,r){const e=function Tn(t){return Object.keys(t).map(e=>[e,it(e,t)]).reduce((e,[n,i])=>({...e,[n]:i}),{})}(r);return Object.entries(e).reduce((n,[i,o])=>({...n,[i]:o.texts}),t)}(a||{},u);return h&&(l||(l=new Map),Object.entries(h).forEach(g=>{const C=g[0],w=g[1];let Ue=l?.get(C)||{};Ue={...Ue,...w},l?.set(C,Ue)})),l}),(0,c.filter)(Boolean)).subscribe(a=>this.localizations$.next(a))}addLocalization(e){if(!e)return;const n=this.uiLocalizations$.value;e.forEach(i=>{const o=n.get(i.culture)||new Map;i.resources.forEach(a=>{let u=o.get(a.resourceName)||{};u={...u,...a.texts},o.set(a.resourceName,u)}),n.set(i.culture,o)}),this.uiLocalizations$.next(n)}listenToSetLanguage(){this.sessionState.onLanguageChange$().pipe((0,c.filter)(e=>this.configState.getDeep("localization.currentCulture.cultureName")!==e),(0,c.switchMap)(e=>this.configState.refreshAppState().pipe((0,c.map)(()=>e))),(0,c.filter)(Boolean),(0,c.switchMap)(e=>(0,d.from)(this.registerLocale(e).then(()=>e)))).subscribe(e=>this._languageChange$.next(e))}registerLocale(e){const{registerLocaleFn:n}=this.injector.get(j);return n(e).then(i=>{i?.default&&(0,m.registerLocaleData)(i.default),this.latestLang=e})}get(e,...n){return this.configState.getAll$().pipe((0,c.map)(i=>this.getLocalization(i,e,...n)))}getResource(e){return this.localizations$.value.get(e)}getResource$(e){return this.localizations$.pipe((0,c.map)(n=>n.get(e)))}instant(e,...n){return this.getLocalization(this.configState.getAll(),e,...n)}localize(e,n,i){return this.configState.getOne$("localization").pipe((0,c.map)(V),(0,c.map)(o=>o(e,n,i)))}localizeSync(e,n,i){return V(this.configState.getOne("localization"))(e,n,i)}localizeWithFallback(e,n,i){return this.configState.getOne$("localization").pipe((0,c.map)(he),(0,c.map)(o=>o(e,n,i)))}localizeWithFallbackSync(e,n,i){return he(this.configState.getOne("localization"))(e,n,i)}getLocalization(e,n,...i){n||(n="");let o="";"string"!=typeof n&&(o=n.defaultValue,n=n.key);const a=n.split("::"),u=w=>{(0,s.isDevMode)()&&console.warn(w)};if(a.length<2)return u("The localization source separator (::) not found."),o||n;if(!e.localization)return o||a[1];const l=a[0]||e.localization.defaultResourceName,h=a[1];if("_"===l)return o||h;if(!l)return u("Localization source name is not specified and the defaultResourceName was not defined!"),o||h;const g=this.localizations$.value.get(l);if(!g)return u("Could not find localization source: "+l),o||h;let C=g[h];return typeof C>"u"?o||h:(i=i.filter(w=>null!=w),C&&(C=Ke(C,i)),"string"!=typeof C&&(C=""),C||o||n)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(P),s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(t,12),s.\u0275\u0275inject(I))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function it(t,r){const e=r[t];return 0===e.baseResources.length?e:e.baseResources.reduce((n,i)=>({...n,texts:{...it(i,r).texts,...e.texts}}),e)}function J(t,r){const e=t.find(n=>n.path===r);return e||"/"===r?e:J(t,r.split("/").slice(0,-1).join("/")||"/")}function ve(t,r=t.url){return"/"+(t.parseUrl(r).root.children[f.PRIMARY_OUTLET]||{segments:[]}).segments.map(({path:i})=>i).join("/")}function st(t,r){const{shouldReuseRoute:e}=t.routeReuseStrategy,n=i=>{t.routeReuseStrategy.shouldReuseRoute=i};n(()=>!1),t.navigated=!1,r.run((0,z.Z)(function*(){yield t.navigateByUrl(t.url).catch($),n(e)}))}let X=(()=>{class t{get replaceableComponents$(){return this.store.sliceState(e=>e)}get replaceableComponents(){return this.store.state}get onUpdate$(){return this.store.sliceUpdate(e=>e)}constructor(e,n){this.ngZone=e,this.router=n,this.store=new D([])}add(e,n){const i=[...this.store.state],o=i.findIndex(a=>a.key===e.key);o>-1?i[o]=e:i.push(e),this.store.set(i),n&&st(this.router,this.ngZone)}get(e){return this.replaceableComponents.find(n=>n.key===e)}get$(e){return this.replaceableComponents$.pipe((0,c.map)(n=>n.find(i=>i.key===e)))}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(s.NgZone),s.\u0275\u0275inject(f.Router))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ye={Cancel:f.NavigationCancel,End:f.NavigationEnd,Error:f.NavigationError,Start:f.NavigationStart};let Se=(()=>{class t{constructor(e){this.router=e}getEvents(...e){return this.router.events.pipe((0,c.filter)(i=>e.some(o=>i instanceof o)))}getNavigationEvents(...e){return this.router.events.pipe((0,c.filter)(i=>e.some(o=>i instanceof ye[o])))}getAllEvents(){return this.router.events}getAllNavigationEvents(){const e=Object.keys(ye);return this.getNavigationEvents(...e)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(f.Router))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ot=new s.InjectionToken("APP_INIT_ERROR_HANDLERS"),at=new s.InjectionToken("COOKIE_LANGUAGE_KEY",{factory:()=>".AspNetCore.Culture"}),ct=new s.InjectionToken("LIST_QUERY_DEBOUNCE_TIME"),be=new s.InjectionToken("LOADER_DELAY"),Rn=new s.InjectionToken("NAVIGATE_TO_MANAGE_PROFILE"),Ce=new s.InjectionToken("QUEUE_MANAGER"),Ee=new s.InjectionToken("TENANT_KEY"),An=new s.InjectionToken("PIPE_TO_LOGIN_FN_KEY"),Dn=new s.InjectionToken("SET_TOKEN_RESPONSE_TO_STORAGE_FN_KEY"),ut=new s.InjectionToken("CHECK_AUTHENTICATION_STATE_FN_KEY"),Te=new s.InjectionToken("OTHERS_GROUP");function lt(t){return r=>(t.push(r),t)}class ee{constructor(r){this.children=[],this.isLeaf=!0,Object.assign(this,r)}static create(r){return new ee(r)}}function dt(t,r,e,n){const i=ht(t,r,n),o=[];return t.forEach(a=>{const u=r(a),l=e(a),h=i.get(u);if(h)if(l){const g=i.get(l);if(!g)return;g.children.push(h),g.isLeaf=!1,h.parent=g}else o.push(h)}),o}function ht(t,r,e){const n=new Map;return t.forEach(i=>n.set(r(i),e(i))),n}function wn(t,r){return e=>{const n=new RegExp(".*"+e+".*","i");return function i(o,a=[]){for(const u of o)n.test(r(u[t]))&&a.push(u),u.children.length&&i(u.children,a);return a}}}function pt(t,r){if(!U(t)||!t.some(n=>!!n.group))return;const e=new Map;for(const n of t){const i=n?.group||r;if("string"!=typeof i)throw new Error(`Invalid group: ${i}`);const o=e.get(i)||[];o.push(n),e.set(i,o)}return e}let te=(()=>{class t{constructor(e){this.configState=e}getGrantedPolicy$(e){return this.getStream().pipe((0,c.map)(n=>this.isPolicyGranted(e,n)))}getGrantedPolicy(e){const n=this.getSnapshot();return this.isPolicyGranted(e,n)}filterItemsByPolicy(e){const n=this.getSnapshot();return e.filter(i=>!i.requiredPolicy||this.isPolicyGranted(i.requiredPolicy,n))}filterItemsByPolicy$(e){return this.getStream().pipe((0,c.map)(n=>e.filter(i=>!i.requiredPolicy||this.isPolicyGranted(i.requiredPolicy,n))))}isPolicyGranted(e,n){if(!e)return!0;if(/\|\|/g.test(e)){const a=e.split("||").filter(Boolean);return!(a.length<2)&&a.some(u=>this.getPolicy(u.trim(),n))}if(/&&/g.test(e)){const a=e.split("&&").filter(Boolean);return!(a.length<2)&&a.every(u=>this.getPolicy(u.trim(),n))}return this.getPolicy(e,n)}getStream(){return this.configState.getAll$().pipe((0,c.map)(this.mapToPolicies))}getSnapshot(){return this.mapToPolicies(this.configState.getAll())}mapToPolicies(e){return e?.auth?.grantedPolicies||{}}getPolicy(e,n){return n[e]||!1}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(I))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class ft{constructor(){this._flat$=new d.BehaviorSubject([]),this._tree$=new d.BehaviorSubject([]),this._visible$=new d.BehaviorSubject([])}get flat(){return this._flat$.value}get flat$(){return this._flat$.asObservable()}get tree(){return this._tree$.value}get tree$(){return this._tree$.asObservable()}get visible(){return this._visible$.value}get visible$(){return this._visible$.asObservable()}createTree(r){return dt(r,e=>e[this.id],e=>e[this.parentId],e=>ee.create(e))}createGroupedTree(r){const e=pt(r,this.othersGroup);if(e)return Array.from(e,([n,i])=>({group:n,items:i}))}filterWith(r){return this._flat$.value.filter(e=>!r.has(e[this.id]))}findItemsToRemove(r){return this._flat$.value.reduce((e,n)=>{if(!e.has(n[this.parentId]))return e;const o=this.findItemsToRemove(new Set([n[this.id]]));return new Set([...e,...o])},r)}publish(r,e){return this._flat$.next(r),this._tree$.next(this.createTree(r)),this._visible$.next(this.createTree(e)),r}add(r){const e=new Map;r.forEach(o=>e.set(o[this.id],o));const n=this.filterWith(e);e.forEach(lt(n)),n.sort(this.sort);const i=n.filter(o=>!this.hide(o));return this.publish(n,i)}find(r,e=this.tree){return e.reduce((n,i)=>n||(r(i)?i:this.find(r,i.children)),null)}patch(r,e){const n=this._flat$.value,i=n.findIndex(a=>a[this.id]===r);if(i<0)return!1;n[i]={...n[i],...e},n.sort(this.sort);const o=n.filter(a=>!this.hide(a));return this.publish(n,o)}refresh(){return this.add([])}remove(r){const e=new Set;r.forEach(a=>e.add(a));const n=this.findItemsToRemove(e),i=this.filterWith(n),o=i.filter(a=>!this.hide(a));return this.publish(i,o)}search(r,e=this.tree){const n=Object.keys(r);return e.reduce((i,o)=>i||(n.every(a=>o[a]===r[a])?o:this.search(r,o.children)),null)}}let gt=(()=>{class t extends ft{constructor(e){super(),this.injector=e,this.id="name",this.parentId="parentName",this.hide=i=>i.invisible||!this.isGranted(i),this.sort=(i,o)=>Number.isInteger(i.order)?Number.isInteger(o.order)?i.order-o.order:-1:1;const n=this.injector.get(I);this.subscription=n.createOnUpdateStream(i=>i).subscribe(()=>this.refresh()),this.permissionService=e.get(te),this.othersGroup=e.get(Te)}isGranted({requiredPolicy:e}){return this.permissionService.getGrantedPolicy(e)}hasChildren(e){return!!this.find(i=>i[this.id]===e)?.children?.length}hasInvisibleChild(e){return this.find(i=>i[this.id]===e)?.children?.some(i=>i.invisible)||!1}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(s.Injector))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})(),ne=(()=>{class t extends gt{hasPathOrChild(e){return!!e.path||this.hasChildren(e.name)}get groupedVisible(){return this.createGroupedTree(this.visible.filter(e=>this.hasPathOrChild(e)))}get groupedVisible$(){return this.visible$.pipe((0,d.map)(e=>e.filter(n=>this.hasPathOrChild(n))),(0,d.map)(e=>this.createGroupedTree(e)))}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.\u0275\u0275getInheritedFactory(t)))(i||t)}}();static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),b=(()=>{class t{constructor(){this.subscription=new d.Subscription}get isClosed(){return this.subscription.closed}addOne(e,n,i){const o=e.subscribe(n,i);return this.subscription.add(o),o}closeAll(){this.subscription.unsubscribe()}closeOne(e){this.removeOne(e),e&&e.unsubscribe()}ngOnDestroy(){this.subscription.unsubscribe()}removeOne(e){e&&this.subscription.remove(e)}reset(){this.subscription.unsubscribe(),this.subscription=new d.Subscription}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})(),Ln=(()=>{class t{constructor(e,n,i,o,a,u){this.localizationService=n,this.replaceableComponents=i,this.subscription=o,this.routerEvents=a,this.layouts=new Map([["application","Theme.ApplicationLayoutComponent"],["account","Theme.AccountLayoutComponent"],["empty","Theme.EmptyLayoutComponent"]]),this.isLayoutVisible=!0,u?(0,s.isDevMode)()&&console.warn("DynamicLayoutComponent must be used only in AppComponent."):(this.route=e.get(f.ActivatedRoute),this.router=e.get(f.Router),this.routes=e.get(ne),this.checkLayoutOnNavigationEnd(),this.listenToLanguageChange())}ngOnInit(){this.layout||this.getLayout()}checkLayoutOnNavigationEnd(){const e=this.routerEvents.getNavigationEvents("End");this.subscription.addOne(e,()=>this.getLayout())}getLayout(){let e=(this.route.snapshot.data||{}).layout;if(!e){let i=J(this.routes,ve(this.router));for(i={parent:i};i.parent;)if(i=i.parent,i.layout){e=i.layout;break}}if(e||(e="empty"),this.layoutKey===e)return;const n=this.layouts.get(e);n&&(this.layout=this.getComponent(n)?.component,this.layoutKey=e),this.layout||this.showLayoutNotFoundError(e)}showLayoutNotFoundError(e){let n=`Layout ${e} not found.`;"account"===e&&(n='Account layout not found. Please check your configuration. If you are using LeptonX, please make sure you have added "AccountLayoutModule.forRoot()" to your app.module configuration.'),console.warn(n)}listenToLanguageChange(){this.subscription.addOne(this.localizationService.languageChange$,()=>{this.isLayoutVisible=!1,setTimeout(()=>this.isLayoutVisible=!0,0)})}getComponent(e){return this.replaceableComponents.get(e)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.Injector),s.\u0275\u0275directiveInject(L),s.\u0275\u0275directiveInject(X),s.\u0275\u0275directiveInject(b),s.\u0275\u0275directiveInject(Se),s.\u0275\u0275directiveInject(t,12))};static#t=this.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["abp-dynamic-layout"]],features:[s.\u0275\u0275ProvidersFeature([b])],decls:1,vars:1,consts:[[3,"ngComponentOutlet",4,"ngIf"],[3,"ngComponentOutlet"]],template:function(n,i){1&n&&s.\u0275\u0275template(0,mn,1,1,"ng-container",0),2&n&&s.\u0275\u0275property("ngIf",i.isLayoutVisible)},dependencies:[m.NgComponentOutlet,m.NgIf],encapsulation:2})}return t})(),On=(()=>{class t{constructor(e,n,i){this.route=e,this.replaceableComponents=n,this.subscription=i}ngOnInit(){this.defaultComponent=this.route.snapshot.data.replaceableComponent.defaultComponent,this.componentKey=this.route.snapshot.data.replaceableComponent.key;const e=this.replaceableComponents.get$(this.componentKey).pipe((0,c.distinctUntilChanged)());this.subscription.addOne(e,(n={})=>{this.externalComponent=n.component})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(f.ActivatedRoute),s.\u0275\u0275directiveInject(X),s.\u0275\u0275directiveInject(b))};static#t=this.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["abp-replaceable-route-container"]],features:[s.\u0275\u0275ProvidersFeature([b])],decls:1,vars:1,consts:[[4,"ngComponentOutlet"]],template:function(n,i){1&n&&s.\u0275\u0275template(0,vn,1,0,"ng-container",0),2&n&&s.\u0275\u0275property("ngComponentOutlet",i.externalComponent||i.defaultComponent)},dependencies:[m.NgComponentOutlet],encapsulation:2})}return t})(),Nn=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["abp-router-outlet"]],decls:1,vars:0,template:function(n,i){1&n&&s.\u0275\u0275element(0,"router-outlet")},dependencies:[f.RouterOutlet],encapsulation:2})}return t})();const Ie={aa:"en","aa-DJ":"en","aa-ER":"en","aa-ET":"en","af-ZA":"af","agq-CM":"agq","ak-GH":"ak","am-ET":"am","ar-001":"ar",arn:"en","arn-CL":"en","as-IN":"as","asa-TZ":"asa","ast-ES":"ast","az-Cyrl-AZ":"az-Cyrl","az-Latn-AZ":"az-Latn",ba:"ru","ba-RU":"ru","bas-CM":"bas","be-BY":"be","bem-ZM":"bem","bez-TZ":"bez","bg-BG":"bg",bin:"en","bin-NG":"en","bm-Latn":"bm","bm-Latn-ML":"bm","bn-BD":"bn","bo-CN":"bo","br-FR":"br","brx-IN":"brx","bs-Cyrl-BA":"bs-Cyrl","bs-Latn-BA":"bs-Latn",byn:"en","byn-ER":"en","ca-ES":"ca","ca-ES-valencia":"ca-ES-VALENCIA","ce-RU":"ce","cgg-UG":"cgg","chr-Cher":"chr","chr-Cher-US":"chr",co:"en","co-FR":"fr","cs-CZ":"cs","cu-RU":"cu","cy-GB":"cy","da-DK":"da","dav-KE":"dav","de-DE":"de","dje-NE":"dje","dsb-DE":"dsb","dua-CM":"dua",dv:"en","dv-MV":"en","dyo-SN":"dyo","dz-BT":"dz","ebu-KE":"ebu","ee-GH":"ee","el-GR":"el","en-029":"en","en-ID":"en","en-US":"en","eo-001":"en","es-ES":"es","et-EE":"et","eu-ES":"eu","ewo-CM":"ewo","fa-IR":"fa","ff-Latn-SN":"ff-Latn","ff-NG":"ff","fi-FI":"fi","fil-PH":"fil","fo-FO":"fo","fr-029":"fr","fr-FR":"fr","fur-IT":"fur","fy-NL":"fy","ga-IE":"ga","gd-GB":"gd","gl-ES":"gl",gn:"en","gn-PY":"en","gsw-CH":"gsw","gu-IN":"gu","guz-KE":"guz","gv-IM":"gv","ha-Latn":"ha","ha-Latn-GH":"ha-GH","ha-Latn-NE":"ha-NE","ha-Latn-NG":"ha","haw-US":"haw","he-IL":"he","hi-IN":"hi","hr-HR":"hr","hsb-DE":"hsb","hu-HU":"hu","hy-AM":"hy","ia-001":"ia","ia-FR":"ia",ibb:"en","ibb-NG":"en","id-ID":"id","ig-NG":"ig","ii-CN":"ii","is-IS":"is","it-IT":"it",iu:"en","iu-Cans":"en","iu-Cans-CA":"en","iu-Latn":"en","iu-Latn-CA":"en","ja-JP":"ja","jgo-CM":"jgo","jmc-TZ":"jmc","jv-Java":"jv","jv-Java-ID":"jv","jv-Latn":"jv","jv-Latn-ID":"jv","ka-GE":"ka","kab-DZ":"kab","kam-KE":"kam","kde-TZ":"kde","kea-CV":"kea","khq-ML":"khq","ki-KE":"ki","kk-KZ":"kk","kkj-CM":"kkj","kl-GL":"kl","kln-KE":"kln","km-KH":"km","kn-IN":"kn","ko-KR":"ko","kok-IN":"kok",kr:"en","kr-NG":"en","ks-Arab":"ks","ks-Arab-IN":"ks","ks-Deva":"ks","ks-Deva-IN":"ks","ksb-TZ":"ksb","ksf-CM":"ksf","ksh-DE":"ksh","ku-Arab":"ku","ku-Arab-IQ":"ku","ku-Arab-IR":"ku","kw-GB":"kw","ky-KG":"ky",la:"en","la-001":"en","lag-TZ":"lag","lb-LU":"lb","lg-UG":"lg","lkt-US":"lkt","ln-CD":"ln","lo-LA":"lo","lrc-IR":"lrc","lt-LT":"lt","lu-CD":"lu","luo-KE":"luo","luy-KE":"luy","lv-LV":"lv","mas-KE":"mas","mer-KE":"mer","mfe-MU":"mfe","mg-MG":"mg","mgh-MZ":"mgh","mgo-CM":"mgo","mi-NZ":"mi","mk-MK":"mk","ml-IN":"ml","mn-Cyrl":"mn","mn-MN":"mn","mn-Mong":"mn","mn-Mong-CN":"mn","mn-Mong-MN":"mn",mni:"en","mni-IN":"en",moh:"en","moh-CA":"en","mr-IN":"mr","ms-MY":"ms","mt-MT":"mt","mua-CM":"mua","my-MM":"my","mzn-IR":"mzn","naq-NA":"naq","nb-NO":"nb","nd-ZW":"nd","ne-NP":"ne","nl-NL":"nl","nmg-CM":"ngm","nn-NO":"nn","nnh-CM":"nnh",no:"en",nqo:"en","nqo-GN":"en",nr:"en","nr-ZA":"en",nso:"en","nso-ZA":"en","nus-SS":"nus","nyn-UG":"nyn",oc:"en","oc-FR":"fr","om-ET":"om","or-IN":"or","os-GE":"os","pa-Arab-PK":"pa-Arab","pa-IN":"pa",pap:"en","pap-029":"en","pl-PL":"pl","prg-001":"prg",prs:"en","prs-AF":"en","ps-AF":"ps","pt-BR":"pt",quc:"en","quc-Latn":"en","quc-Latn-GT":"en",quz:"en","quz-BO":"en","quz-EC":"en","quz-PE":"en","rm-CH":"rm","rn-BI":"rn","ro-RO":"ro","rof-TZ":"rof","ru-RU":"ru","rw-RW":"rw","rwk-TZ":"rwk",sa:"en","sa-IN":"en","sah-RU":"sah","saq-KE":"saq","sbp-TZ":"en","sd-Arab":"sd","sd-Arab-PK":"sd","sd-Deva":"sd","sd-Deva-IN":"sd","se-NO":"se","seh-MZ":"seh","ses-ML":"ses","sg-CF":"sg","shi-Latn-MA":"shi-Latn","shi-Tfng-MA":"shi-Tfng","si-LK":"si","sk-SK":"sk","sl-SI":"sl",sma:"en","sma-NO":"en","sma-SE":"en",smj:"en","smj-NO":"en","smj-SE":"en","smn-FI":"en",sms:"en","sms-FI":"en","sn-Latn":"sn","sn-Latn-ZW":"sn","so-SO":"so","sq-AL":"so","sr-Cyrl-RS":"sr-Cryl","sr-Latn-RS":"sr-Latn",ss:"en","ss-SZ":"en","ss-ZA":"en",ssy:"en","ssy-ER":"en",st:"en","st-LS":"en","st-ZA":"en","sv-SE":"sv","sw-TZ":"sw",syr:"en","syr-SY":"en","ta-IN":"ta","te-IN":"te","teo-UG":"teo","tg-Cyrl":"tg","tg-Cyrl-TJ":"tg","th-TH":"th","ti-ET":"ti",tig:"en","tig-ER":"en","tk-TM":"tk",tn:"en","tn-BW":"en","tn-ZA":"en","to-TO":"to","tr-TR":"tr",ts:"en","ts-ZA":"en","tt-RU":"tt","twq-NE":"twq","tzm-Arab":"tzm","tzm-Arab-MA":"tzm","tzm-Latn":"tzm","tzm-Latn-DZ":"tzm","tzm-Latn-MA":"tzm","tzm-Tfng":"tzm","tzm-Tfng-MA":"tzm","ug-CN":"ug","uk-UA":"uk","ur-PK":"ur","uz-Arab-AF":"uz-Arab","uz-Cyrl-UZ":"uz-Cyrl","uz-Latn-UZ":"uz-Latn","vai-Latn-LR":"vai-Latn","vai-Vaii-LR":"vai-Vaii",ve:"en","ve-ZA":"en","vi-VN":"vi","vo-001":"vo","vun-TZ":"vun","wae-CH":"wae",wal:"en","wal-ET":"en","wo-SN":"wo","xh-ZA":"xh","xog-UG":"xog","yav-CM":"yav","yi-001":"yi","yo-NG":"yo","zgh-Tfng":"zgh","zgh-Tfng-MA":"zgh","zh-CN":"zh","zh-HK":"zh","zh-MO":"zh","zh-SG":"zh","zh-TW":"zh","zu-ZA":"zu"};let jn=(()=>{class t{set delay(e){this._delay=Number(e)||0}get delay(){return this._delay}constructor(e){this.elRef=e,this._delay=0}ngAfterViewInit(){setTimeout(()=>this.elRef.nativeElement.focus(),this.delay)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.ElementRef))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","autofocus",""]],inputs:{delay:["autofocus","delay"]}})}return t})(),Mn=(()=>{class t{constructor(e,n){this.el=e,this.subscription=n,this.debounce=300,this.debounceEvent=new s.EventEmitter}ngOnInit(){const e=(0,d.fromEvent)(this.el.nativeElement,"input").pipe((0,c.debounceTime)(this.debounce));this.subscription.addOne(e,n=>{this.debounceEvent.emit(n)})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(b))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","input.debounce",""]],inputs:{debounce:"debounce"},outputs:{debounceEvent:"input.debounce"},features:[s.\u0275\u0275ProvidersFeature([b])]})}return t})();class _n{constructor(r,e,n,i){this.$implicit=r,this.index=e,this.count=n,this.list=i}}class mt{constructor(r,e){this.record=r,this.view=e}}let kn=(()=>{class t{get compareFn(){return this.compareBy||E.Z}get trackByFn(){return this.trackBy||((e,n)=>n.id||e)}constructor(e,n,i){this.tempRef=e,this.vcRef=n,this.differs=i}iterateOverAppliedOperations(e){const n=[];e.forEachOperation((i,o,a)=>{if(null==i.previousIndex){const u=this.vcRef.createEmbeddedView(this.tempRef,new _n(null,-1,-1,this.items),a||0);n.push(new mt(i,u))}else if(null==a&&null!==o)this.vcRef.remove(o);else if(null!==o){const u=this.vcRef.get(o);u&&null!==a&&(this.vcRef.move(u,a),n.push(new mt(i,u)))}});for(let i=0,o=n.length;i<o;i++)n[i].view.context.$implicit=n[i].record.item}iterateOverAttachedViews(e){for(let n=0,i=this.vcRef.length;n<i;n++){const o=this.vcRef.get(n);o.context.index=n,o.context.count=i,o.context.list=this.items}e.forEachIdentityChange(n=>{null!==n.currentIndex&&(this.vcRef.get(n.currentIndex).context.$implicit=n.item)})}projectItems(e){if(!e.length&&this.emptyRef)return this.vcRef.clear(),this.vcRef.createEmbeddedView(this.emptyRef),this.isShowEmptyRef=!0,void(this.differ=null);if(this.emptyRef&&this.isShowEmptyRef&&(this.vcRef.clear(),this.isShowEmptyRef=!1),!this.differ&&e&&(this.differ=this.differs.find(e).create(this.trackByFn)),this.differ){const n=this.differ.diff(e);n&&(this.iterateOverAppliedOperations(n),this.iterateOverAttachedViews(n))}}sortItems(e){const n=this.orderBy;n?e.sort((i,o)=>i[n]>o[n]?1:i[n]<o[n]?-1:0):e.sort()}ngOnChanges(){let e=N(this.items);if(!Array.isArray(e))return;const n=this.compareFn,i=this.filterBy;switch(typeof i<"u"&&typeof this.filterVal<"u"&&""!==this.filterVal&&(e=e.filter(o=>n(o[i],this.filterVal))),this.orderDir){case"ASC":this.sortItems(e),this.projectItems(e);break;case"DESC":this.sortItems(e),e.reverse(),this.projectItems(e);break;default:this.projectItems(e)}}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.TemplateRef),s.\u0275\u0275directiveInject(s.ViewContainerRef),s.\u0275\u0275directiveInject(s.IterableDiffers))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpFor",""]],inputs:{items:["abpForOf","items"],orderBy:["abpForOrderBy","orderBy"],orderDir:["abpForOrderDir","orderDir"],filterBy:["abpForFilterBy","filterBy"],filterVal:["abpForFilterVal","filterVal"],trackBy:["abpForTrackBy","trackBy"],compareBy:["abpForCompareBy","compareBy"],emptyRef:["abpForEmptyRef","emptyRef"]},features:[s.\u0275\u0275NgOnChangesFeature]})}return t})(),Fn=(()=>{class t{constructor(e,n,i,o){this.formGroupDirective=e,this.host=n,this.cdRef=i,this.subscription=o,this.debounce=200,this.markAsDirtyWhenSubmit=!0,this.ngSubmit=new s.EventEmitter,this.executedNgSubmit=!1}ngOnInit(){this.subscription.addOne(this.formGroupDirective.ngSubmit,()=>{this.markAsDirtyWhenSubmit&&this.markAsDirty(),this.executedNgSubmit=!0});const e=(0,d.fromEvent)(this.host.nativeElement,"keyup").pipe((0,c.debounceTime)(this.debounce),(0,c.filter)(n=>!(n.target instanceof HTMLTextAreaElement)),(0,c.filter)(n=>n&&"Enter"===n.key));this.subscription.addOne(e,()=>{this.executedNgSubmit||this.host.nativeElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),this.executedNgSubmit=!1})}markAsDirty(){const{form:e}=this.formGroupDirective;vt(e.controls),e.markAsDirty(),this.cdRef.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(S.FormGroupDirective,2),s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(b))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["form","ngSubmit","","formGroup",""]],inputs:{debounce:"debounce",notValidateOnSubmit:"notValidateOnSubmit",markAsDirtyWhenSubmit:"markAsDirtyWhenSubmit"},outputs:{ngSubmit:"ngSubmit"},features:[s.\u0275\u0275ProvidersFeature([b])]})}return t})();function vt(t){Array.isArray(t)?t.forEach(r=>{vt(r.controls)}):Object.keys(t).forEach(r=>{t[r].markAsDirty(),t[r].updateValueAndValidity()})}let Pn=(()=>{class t{constructor(e){this.elRef=e,this.init=new s.EventEmitter}ngAfterViewInit(){this.init.emit(this.elRef)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.ElementRef))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpInit",""]],outputs:{init:"abpInit"}})}return t})(),xn=(()=>{class t{constructor(e,n,i,o,a){this.templateRef=e,this.vcRef=n,this.permissionService=i,this.cdRef=o,this.queue=a,this.runChangeDetection=!0,this.cdrSubject=new d.ReplaySubject,this.rendered=!1}check(){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.permissionService.getGrantedPolicy$(this.condition||"").pipe((0,c.distinctUntilChanged)()).subscribe(e=>{this.vcRef.clear(),e&&this.vcRef.createEmbeddedView(this.templateRef),this.runChangeDetection?this.rendered?this.cdRef.detectChanges():this.cdrSubject.next():this.cdRef.markForCheck()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ngOnChanges(){this.check()}ngAfterViewInit(){this.cdrSubject.pipe((0,c.take)(1)).subscribe(()=>this.queue.add(()=>this.cdRef.detectChanges())),this.rendered=!0}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.TemplateRef,8),s.\u0275\u0275directiveInject(s.ViewContainerRef),s.\u0275\u0275directiveInject(te),s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(Ce))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpPermission",""]],inputs:{condition:["abpPermission","condition"],runChangeDetection:["abpPermissionRunChangeDetection","runChangeDetection"]},features:[s.\u0275\u0275NgOnChangesFeature]})}return t})(),zn=(()=>{class t{constructor(e,n,i,o,a){this.injector=e,this.templateRef=n,this.vcRef=i,this.replaceableComponents=o,this.subscription=a,this.providedData={inputs:{},outputs:{}},this.context={},this.defaultComponentSubscriptions={},this.initialized=!1,this.context={initTemplate:u=>{this.resetDefaultComponent(),this.defaultComponentRef=u,this.setDefaultComponentInputs()}}}ngOnInit(){const e=this.replaceableComponents.get$(this.data.componentKey).pipe((0,c.filter)((n={})=>!this.initialized||!(0,E.Z)(n.component,this.externalComponent)));this.subscription.addOne(e,(n={})=>{if(this.vcRef.clear(),this.externalComponent=n.component,this.defaultComponentRef&&this.resetDefaultComponent(),n.component){this.setProvidedData();const i=s.Injector.create({providers:[{provide:"REPLACEABLE_DATA",useValue:this.providedData}],parent:this.injector});this.vcRef.createComponent(n.component,{index:0,injector:i})}else this.vcRef.createEmbeddedView(this.templateRef,this.context);this.initialized=!0})}ngOnChanges(e){e?.data?.currentValue?.inputs&&this.defaultComponentRef&&this.setDefaultComponentInputs()}setDefaultComponentInputs(){if(this.defaultComponentRef&&(this.data.inputs||this.data.outputs)){if(this.data.inputs)for(const e in this.data.inputs)Object.prototype.hasOwnProperty.call(this.data.inputs,e)&&((0,E.Z)(this.defaultComponentRef[e],this.data.inputs[e].value)||(this.defaultComponentRef[e]=this.data.inputs[e].value));if(this.data.outputs)for(const e in this.data.outputs)Object.prototype.hasOwnProperty.call(this.data.outputs,e)&&(this.defaultComponentSubscriptions[e]||(this.defaultComponentSubscriptions[e]=this.defaultComponentRef[e].subscribe(n=>{this.data.outputs?.[e](n)})))}}setProvidedData(){this.providedData={outputs:{},...this.data,inputs:{}},this.data.inputs&&Object.defineProperties(this.providedData.inputs,{...Object.keys(this.data.inputs).reduce((e,n)=>({...e,[n]:{enumerable:!0,configurable:!0,get:()=>this.data.inputs?.[n]?.value,...this.data.inputs?.[n]?.twoWay&&{set:i=>{this.data.inputs?.[n]&&(this.data.inputs[n].value=i),this.data.outputs?.[`${n}Change`]&&this.data.outputs[`${n}Change`](i)}}}}),{})})}resetDefaultComponent(){Object.keys(this.defaultComponentSubscriptions).forEach(e=>{this.defaultComponentSubscriptions[e].unsubscribe()}),this.defaultComponentSubscriptions={},this.defaultComponentRef=null}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.Injector),s.\u0275\u0275directiveInject(s.TemplateRef),s.\u0275\u0275directiveInject(s.ViewContainerRef),s.\u0275\u0275directiveInject(X),s.\u0275\u0275directiveInject(b))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpReplaceableTemplate",""]],inputs:{data:["abpReplaceableTemplate","data"]},features:[s.\u0275\u0275ProvidersFeature([b]),s.\u0275\u0275NgOnChangesFeature]})}return t})(),$n=(()=>{class t{constructor(e,n){this.el=e,this.subscription=n,this.stopPropEvent=new s.EventEmitter}ngOnInit(){this.subscription.addOne((0,d.fromEvent)(this.el.nativeElement,"click"),e=>{e.stopPropagation(),this.stopPropEvent.emit(e)})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(b))};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","click.stop",""]],outputs:{stopPropEvent:"click.stop"},features:[s.\u0275\u0275ProvidersFeature([b])]})}return t})(),Un=(()=>{class t{constructor(e,n){this.routes=e,this.router=n,this.addRoutes()}addRoutes(){this.router?.config?.forEach(({path:e="",data:n})=>{const i=n?.routes;if(i)if(Array.isArray(i))this.routes.add(i);else{const o=yt([{path:e,...i}],{path:""});this.routes.add(o)}})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(ne),s.\u0275\u0275inject(f.Router,8))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yt(t,r){return t?t.reduce((e,n)=>{const{children:i,...o}={...n,parentName:r.name,path:(r.path+"/"+n.path).replace(/\/\//g,"/")};return e.push(o,...yt(i,o)),e},[]):[]}let St=(()=>{class t{constructor(e){this.localization=e}transform(e="",...n){const i=n.reduce((o,a)=>o?a?Array.isArray(a)?[...o,...a]:[...o,a]:o:a,[])||[];return this.localization.instant(e,...i)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(L,16))};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"abpLocalization",type:t,pure:!0});static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})(),G=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=s.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=s.\u0275\u0275defineInjector({})}return t})(),Gn=(()=>{class t{transform(e,n="asc",i){if(n=n&&n.toLowerCase(),!e||"asc"!==n&&"desc"!==n)return e;let o=[],a=[];i?(o=e.filter(l=>"number"==typeof l[i]).sort((l,h)=>l[i]-h[i]),a=e.filter(l=>"string"==typeof l[i]).sort((l,h)=>l[i]<h[i]?-1:l[i]>h[i]?1:0)):(o=e.filter(l=>"number"==typeof l).sort(),a=e.filter(l=>"string"==typeof l).sort());const u=[...o,...a,...e.filter(l=>"number"!=typeof(i?l[i]:l)&&"string"!=typeof(i?l[i]:l))];return"asc"===n?u:u.reverse()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"abpSort",type:t,pure:!0});static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})();const bt=new s.InjectionToken("INJECTOR_PIPE_DATA_TOKEN");let Bn=(()=>{class t{constructor(e){this.injector=e}transform(e,n=bt,i="ToInjectorPipe"){return s.Injector.create({providers:[{provide:n,useValue:e}],parent:this.injector,name:i})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(s.Injector,16))};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"toInjector",type:t,pure:!0})}return t})();const qn={provide:s.APP_INITIALIZER,useFactory:function Hn(t){return()=>{const r=t.get(P),e=t.get(m.DOCUMENT),n=t.get(at);r.getLanguage$().subscribe(i=>{const o=encodeURIComponent(`c=${i}|uic=${i}`);e.cookie=`${n}=${o}`})}},deps:[s.Injector],multi:!0},Vn={provide:s.LOCALE_ID,useClass:class Kn extends String{constructor(r){super(),this.localizationService=r}toString(){const{currentLang:r}=this.localizationService;return _(Ie,r)?Ie[r]:r}valueOf(){return this.toString()}},deps:[L]};function Ct(t,r){const e=t.get(k),{remoteEnv:n}=r,{headers:i={},method:o="GET",url:a}=n||{};if(!a)return Promise.resolve();const u=t.get(p.HttpClient),l=t.get(Q);return u.request(o,a,{headers:i}).pipe((0,c.catchError)(h=>(l.reportError(h),(0,d.of)(null))),(0,c.tap)(h=>e.setState(function Zn(t,r,e){switch(e.mergeStrategy){case"deepmerge":return ge(t,r);case"overwrite":case null:case void 0:return r;default:return e.mergeStrategy(t,r)}}(r,h||{},n)))).toPromise()}Date.prototype.toLocalISOString=function(){const t=this.getTimezoneOffset();return new Date(this.getTime()-6e4*t).toISOString()};let Et=(()=>{class t{constructor(e){this.restService=e,this.apiName="abp",this.findTenantById=n=>this.restService.request({method:"GET",url:`/api/abp/multi-tenancy/tenants/by-id/${n}`},{apiName:this.apiName}),this.findTenantByName=n=>this.restService.request({method:"GET",url:`/api/abp/multi-tenancy/tenants/by-name/${n}`},{apiName:this.apiName})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(F))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tt=(()=>{class t{constructor(e,n,i,o,a){this.restService=e,this.sessionState=n,this.tenantService=i,this.configStateService=o,this.tenantKey=a,this.domainTenant=null,this.isTenantBoxVisible=!0,this.apiName="abp",this.setTenantToState=u=>(this.sessionState.setTenant({id:u.tenantId,name:u.name,isAvailable:!0}),this.configStateService.refreshAppState().pipe((0,c.map)(l=>u)))}setTenantByName(e){return this.tenantService.findTenantByName(e).pipe((0,c.switchMap)(this.setTenantToState))}setTenantById(e){return this.tenantService.findTenantById(e).pipe((0,c.switchMap)(this.setTenantToState))}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(F),s.\u0275\u0275inject(P),s.\u0275\u0275inject(Et),s.\u0275\u0275inject(I),s.\u0275\u0275inject(Ee))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Re="{0}";function It(t){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,z.Z)(function*(t){const r=t.get(k),e=t.get(Tt),i=function Wn(t){"/"!==t.charAt(t.length-1)&&(t+="/");const r=qe(t),e=Re.replace(/[}{]/g,"");return r(window.location.href)[e]?.[0]}(r.getEnvironment()?.application?.baseUrl||"");if(i)return Rt(t,i),e.setTenantByName(i).pipe((0,c.tap)(l=>{e.isTenantBoxVisible=!1,(l=>{e.domainTenant={id:l.tenantId,name:l.name,isAvailable:!0}})(l)})).toPromise();{Rt(t,"",Re+".");const l=function Yn(t){return new URLSearchParams(window.location.search).get(t)}(e.tenantKey);if(l)return e.setTenantById(l).toPromise()}return Promise.resolve()})).apply(this,arguments)}function Rt(t,r,e=Re){const n=t.get(k),i=N(n.getEnvironment());return i.application.baseUrl&&(i.application.baseUrl=i.application.baseUrl.replace(e,r)),i.oAuthConfig?.redirectUri&&(i.oAuthConfig.redirectUri=i.oAuthConfig.redirectUri.replace(e,r)),i.oAuthConfig||(i.oAuthConfig={}),i.oAuthConfig.issuer=(i.oAuthConfig.issuer||"").replace(e,r),Object.keys(i.apis).forEach(o=>{Object.keys(i.apis[o]).forEach(a=>{i.apis[o][a]=(i.apis[o][a]||"").replace(e,r)})}),n.setState(i)}function At(t){return function(){var e=(0,z.Z)(function*(){const n=t.get(k),i=t.get(I),o=t.get(j);n.setState(o.environment),yield Ct(t,o.environment),yield It(t);const a=t.get(Ge,void 0,{optional:!0}),u=t.get(ut,$,{optional:!0});if(a&&(yield a.init()),o.skipGetAppConfiguration)return;const l=i.refreshAppState().pipe((0,c.tap)(()=>u(t)),(0,c.tap)(()=>{const h=i.getOne("currentTenant");t.get(P).setTenant(h)}),(0,c.catchError)(h=>{const g=t.get(ot,null);return g&&g.length&&g.forEach(C=>C(h)),(0,d.throwError)(h)}));yield(0,d.lastValueFrom)(l)});return function(){return e.apply(this,arguments)}}()}function Dt(t){return()=>{const e=t.get(P),{registerLocaleFn:n}=t.get(j),i=e.getLanguage()||"en";return new Promise((o,a)=>{n(i).then(u=>(u?.default&&(0,m.registerLocaleData)(u.default),o("resolved")),a)})}}let Qn=(()=>{class t{constructor(e){this.injector=e}projectContent(e,n=this.injector){return e.injectContent(n)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(s.Injector))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wt(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortDatePattern}function Lt(t){return t.getDeep("localization.currentCulture.dateTimeFormat")?.shortTimePattern?.replace("tt","a")}function Ot(t){const r=t.getDeep("localization.currentCulture.dateTimeFormat");return`${r.shortDatePattern} ${r?.shortTimePattern?.replace("tt","a")}`}class Jn extends s.NgModuleFactory{get moduleType(){return this.moduleWithProviders.ngModule}constructor(r){super(),this.moduleWithProviders=r}create(r){const e=s.Injector.create({...r&&{parent:r},providers:this.moduleWithProviders.providers});return e.get(s.Compiler).compileModuleSync(this.moduleType).create(e)}}function Xn(t,r,e=(n=>n)){return t.getFeatures$(r).pipe((0,c.filter)(Boolean),(0,c.map)(e))}function er(t,r){const e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download=r,document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(n)}function Nt(t){return t==Number(t)}function tr(t){const r=[];for(const e in t)Nt(e)||r.push({key:e,value:t[e]});return r}function jt(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,jt)}function re(t){let e,r=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n),r=(r<<5)-r+e,r|=0;return r}function nr(t=8){t=Math.min(Math.max(4,t),128);const r="abcdefghijklmnopqrstuvwxyz",e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="0123456789",i="!@#$%&*()_+{}<>?[]./",o=r+e+n+i,a=l=>l[Math.floor(Math.random()*l.length)],u=Array({length:t});u[0]=a(r),u[1]=a(e),u[2]=a(n),u[3]=a(i);for(let l=4;l<t;l++)u[l]=a(o);return u.sort(()=>.5-Math.random()).join("")}function Mt(t){const{pathname:r}=new URL(t,window.location.origin);return r}class rr{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}class ie{constructor(r,e){this.crossorigin=r,this.integrity=e}setCrossOrigin(r){this.integrity&&r.setAttribute("integrity",this.integrity),this.crossorigin&&r.setAttribute("crossorigin",this.crossorigin)}}class _t extends ie{setCrossOrigin(){}}const A={Anonymous:t=>new ie("anonymous",t),UseCredentials:t=>new ie("use-credentials",t),None:()=>new _t(null)};class x{constructor(r=document.head,e="beforeend"){this.target=r,this.position=e}insertElement(r){this.target.insertAdjacentElement(this.position,r)}}const y={AfterElement:t=>new x(t,"afterend"),AppendToBody:()=>new x(document.body,"beforeend"),AppendToHead:()=>new x(document.head,"beforeend"),BeforeElement:t=>new x(t,"beforebegin"),PrependToHead:()=>new x(document.head,"afterbegin")};function kt(t,r=y.AppendToHead(),e=A.Anonymous()){return e.setCrossOrigin(t),r.insertElement(t),new d.Observable(n=>{t.onload=o=>{De(t),n.next(o),n.complete()};const i=function ir(t,r){return function(e){De(r),r.parentNode?.removeChild(r),t.error(e)}}(n,t);return t.onerror=i,t.onabort=i,t.onemptied=i,t.onstalled=i,t.onsuspend=i,()=>{De(t),n.complete()}})}function De(t){t.onload=null,t.onerror=null,t.onabort=null,t.onemptied=null,t.onstalled=null,t.onsuspend=null}class Ft{constructor(){this.queue=[],this.isRunning=!1,this.stack=0,this.interval=0,this.stackSize=100}init(r,e){this.interval=r,this.stackSize=e}add(r){this.queue.push(r),this.run()}run(){if(this.isRunning)return;this.stack++,this.isRunning=!0;const r=this.queue.shift();r?(r(),this.stack>this.stackSize?setTimeout(()=>{this.isRunning=!1,this.run(),this.stack=0},this.interval):(this.isRunning=!1,this.run())):this.isRunning=!1}}let sr=(()=>{class t{constructor(){this.inserted=new Set}insertContent(e){const n=re(e.content);if(this.inserted.has(n))return;const i=e.insertElement();return this.inserted.add(n),i}removeContent(e){if(e.textContent){const n=re(e.textContent);this.inserted.delete(n),e.parentNode?.removeChild(e)}}has(e){const n=re(e);return this.inserted.has(n)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pt=(()=>{class t{constructor(e){this.store=new D({requests:[],filteredRequests:[]}),this.destroy$=new d.Subject,this.delay=e.get(be,500)}getLoading(){return!!this.applyFilter(this.store.state.requests).length}getLoading$(){return this.store.sliceState(({requests:e})=>e).pipe((0,c.map)(e=>!!this.applyFilter(e).length),(0,c.switchMap)(e=>e?0===this.delay?(0,d.of)(!0):(0,d.timer)(this.delay).pipe((0,c.mapTo)(!0),(0,c.takeUntil)(this.destroy$)):(0,d.of)(!1)),(0,c.tap)(()=>this.destroy$.next()))}updateLoading$(){return this.store.sliceUpdate(({requests:e})=>!!this.applyFilter(e).length)}clearLoading(){this.store.patch({requests:[]})}addRequest(e){this.store.patch({requests:[...this.store.state.requests,e]})}deleteRequest(e){const n=this.store.state.requests.filter(i=>i!==e);this.store.patch({requests:n})}addFilter(e){const n=Array.isArray(e)?e:[e],i=[...this.store.state.filteredRequests.filter(o=>!n.some(a=>this.isSameRequest(o,a))),...n];this.store.patch({filteredRequests:i})}removeFilter(e){const n=Array.isArray(e)?e:[e],i=this.store.state.filteredRequests.filter(o=>!n.some(a=>this.isSameRequest(o,a)));this.store.patch({filteredRequests:i})}applyFilter(e){if(!e)return[];const{filteredRequests:n}=this.store.state;return e.filter(({method:i,url:o})=>!n.find(a=>this.isSameRequest(a,{method:i,endpoint:Mt(o)})))}isSameRequest(e,n){const{method:i,endpoint:o}=e;return o===n.endpoint&&i===n.method}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(s.Injector))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xt=(()=>{class t{constructor(){this.store=new D({resources:new Set})}getLoading(){return!!this.store.state.resources.size}getLoading$(){return this.store.sliceState(({resources:e})=>!!e.size)}updateLoading$(){return this.store.sliceUpdate(({resources:e})=>!!e?.size)}clearLoading(){this.store.patch({resources:new Set})}addResource(e){const n=this.store.state.resources;n.add(e),this.store.patch({resources:n})}deleteResource(e){const n=this.store.state.resources;n.delete(e),this.store.patch({resources:n})}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),or=(()=>{class t{constructor(e){this.resourceWaitService=e,this.loaded=new Map}load(e,n,i){if(this.loaded.has(e.path))return(0,d.of)(new CustomEvent("load"));this.resourceWaitService.addResource(e.path);const o=i?(0,d.pipe)((0,c.delay)(i)):(0,d.pipe)(),a=n?(0,d.pipe)((0,c.take)(n)):(0,d.pipe)();return e.createStream().pipe((0,c.retryWhen)(u=>(0,d.concat)(u.pipe(o,a),(0,d.throwError)(()=>new CustomEvent("error")))),(0,c.tap)(()=>{this.loaded.set(e.path,e.element),this.resourceWaitService.deleteResource(e.path)}),(0,c.delay)(100),(0,c.shareReplay)({bufferSize:1,refCount:!0}))}remove(e){const n=this.loaded.get(e);return!!n&&(n.parentNode?.removeChild(n),this.loaded.delete(e),!0)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(xt))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ar=(()=>{class t{set filter(e){this._filter=e,this.get()}get filter(){return this._filter}set maxResultCount(e){this._maxResultCount=e,this.get()}get maxResultCount(){return this._maxResultCount}set page(e){e!==this._page&&(this._page=e,this.get())}get page(){return this._page}set sortKey(e){this._sortKey=e,this.get()}get sortKey(){return this._sortKey}set sortOrder(e){this._sortOrder=e,this.get()}get sortOrder(){return this._sortOrder}get query$(){return this._query$.asObservable().pipe(this.delay,(0,c.shareReplay)({bufferSize:1,refCount:!0}))}get isLoading$(){return this._isLoading$.asObservable()}constructor(e){this._filter="",this._maxResultCount=10,this._skipCount=0,this._page=0,this._sortKey="",this._sortOrder="",this._query$=new d.ReplaySubject(1),this._isLoading$=new d.BehaviorSubject(!1),this.destroy$=new d.Subject,this.get=()=>{this.resetPageWhenUnchanged(),this.next()},this.getWithoutPageReset=()=>{this.next()};const n=e.get(ct,300);this.delay=n?(0,c.debounceTime)(n):(0,c.tap)(),this.get()}hookToQuery(e){return this.query$.pipe((0,c.tap)(()=>this._isLoading$.next(!0)),(0,c.switchMap)(n=>e(n).pipe((0,c.catchError)(()=>(0,d.of)(null)))),(0,c.filter)(Boolean),(0,c.tap)(()=>this._isLoading$.next(!1)),(0,c.shareReplay)({bufferSize:1,refCount:!0}),(0,c.takeUntil)(this.destroy$))}ngOnDestroy(){this.destroy$.next()}resetPageWhenUnchanged(){const e=this._page*this._maxResultCount;e===this._skipCount?(this._page=0,this._skipCount=0):this._skipCount=e}next(){this._query$.next({filter:this._filter||void 0,maxResultCount:this._maxResultCount,skipCount:this._page*this._maxResultCount,sorting:this._sortOrder?`${this._sortKey} ${this._sortOrder}`:void 0})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(s.Injector))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})(),cr=(()=>{class t{constructor(e,n){this.routerEvents=e,this.store=new D({loading:!1}),this.destroy$=new d.Subject,this.delay=n.get(be,500),this.updateLoadingStatusOnNavigationEvents()}updateLoadingStatusOnNavigationEvents(){this.routerEvents.getAllNavigationEvents().pipe((0,c.map)(e=>e instanceof f.NavigationStart),(0,c.switchMap)(e=>e?0===this.delay?(0,d.of)(!0):(0,d.timer)(this.delay||0).pipe((0,c.mapTo)(!0),(0,c.takeUntil)(this.destroy$)):(0,d.of)(!1)),(0,c.tap)(()=>this.destroy$.next())).subscribe(e=>{this.setLoading(e)})}getLoading(){return this.store.state.loading}getLoading$(){return this.store.sliceState(({loading:e})=>e)}updateLoading$(){return this.store.sliceUpdate(({loading:e})=>e)}setLoading(e){this.store.patch({loading:e})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(Se),s.\u0275\u0275inject(s.Injector))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zt=t=>(r,e)=>e[t],$t=(...t)=>(r,e)=>t.reduce((n,i)=>n[i],e);let ur=(()=>{class t{constructor(){this.by=zt,this.byDeep=$t}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lr=(()=>{class t{constructor(){this.window=(0,s.inject)(m.DOCUMENT).defaultView,this.navigator=this.window.navigator}copyToClipboard(e){return this.navigator.clipboard.writeText(e)}open(e,n,i){return this.window.open(e,n,i)}reloadPage(){this.window.location.reload()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dr=(()=>{class t extends m.DatePipe{constructor(e,n,i){super(n,i),this.configStateService=e}transform(e,n,i){const o=Ot(this.configStateService);return super.transform(e,o,n,i)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(I,16),s.\u0275\u0275directiveInject(s.LOCALE_ID,16),s.\u0275\u0275directiveInject(m.DATE_PIPE_DEFAULT_TIMEZONE,24))};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"shortDateTime",type:t,pure:!0})}return t})(),hr=(()=>{class t extends m.DatePipe{constructor(e,n,i){super(n,i),this.configStateService=e}transform(e,n,i){const o=Lt(this.configStateService);return super.transform(e,o,n,i)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(I,16),s.\u0275\u0275directiveInject(s.LOCALE_ID,16),s.\u0275\u0275directiveInject(m.DATE_PIPE_DEFAULT_TIMEZONE,24))};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"shortTime",type:t,pure:!0})}return t})(),pr=(()=>{class t extends m.DatePipe{constructor(e,n,i){super(n,i),this.configStateService=e}transform(e,n,i){const o=wt(this.configStateService);return super.transform(e,o,n,i)}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275directiveInject(I,16),s.\u0275\u0275directiveInject(s.LOCALE_ID,16),s.\u0275\u0275directiveInject(m.DATE_PIPE_DEFAULT_TIMEZONE,24))};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"shortDate",type:t,pure:!0})}return t})(),fr=(()=>{class t{constructor(){this.sanitizer=(0,s.inject)(fn.DomSanitizer)}transform(e){return"string"!=typeof e?"":this.sanitizer.sanitize(s.SecurityContext.HTML,e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=s.\u0275\u0275definePipe({name:"abpSafeHtml",type:t,pure:!0});static#n=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}return t})();const gr={provide:me,useValue:!1};let B=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=s.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=s.\u0275\u0275defineInjector({providers:[St],imports:[m.CommonModule,p.HttpClientModule,S.FormsModule,S.ReactiveFormsModule,f.RouterModule,G,m.CommonModule,p.HttpClientModule,S.FormsModule,S.ReactiveFormsModule,f.RouterModule,G]})}return t})(),we=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=s.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=s.\u0275\u0275defineInjector({imports:[B,G,p.HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"RequestVerificationToken"}),B,G]})}return t})(),mr=(()=>{class t{static forRoot(e={}){return{ngModule:we,providers:[Vn,qn,{provide:"CORE_OPTIONS",useValue:e},{provide:j,useFactory:Be,deps:["CORE_OPTIONS"]},{provide:s.APP_INITIALIZER,multi:!0,deps:[s.Injector],useFactory:At},{provide:s.APP_INITIALIZER,multi:!0,deps:[s.Injector],useFactory:Dt},{provide:s.APP_INITIALIZER,multi:!0,deps:[L],useFactory:$},{provide:s.APP_INITIALIZER,multi:!0,deps:[Un],useFactory:$},{provide:Ee,useValue:e.tenantKey||"__tenant"},{provide:le,multi:!0,useValue:de(e.localizations),deps:[L]},{provide:Ce,useClass:Ft},{provide:Te,useValue:e.othersGroup||"AbpUi::OthersGroup"},gr]}}static forChild(e={}){return{ngModule:we,providers:[{provide:le,multi:!0,useValue:de(e.localizations),deps:[L]}]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=s.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=s.\u0275\u0275defineInjector({imports:[B,B]})}return t})(),vr=(()=>{class t{constructor(){this.elementRef=(0,s.inject)(s.ElementRef)}set abpShowPassword(e){const n=this.elementRef.nativeElement;n&&(n.type=e?"text":"password")}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpShowPassword",""]],inputs:{abpShowPassword:"abpShowPassword"},standalone:!0})}return t})(),yr=(()=>{class t{constructor(){this.capsLock=new s.EventEmitter}onKeyDown(e){this.capsLock.emit(this.isCapsLockOpen(e))}onKeyUp(e){this.capsLock.emit(this.isCapsLockOpen(e))}isCapsLockOpen(e){const n=String.fromCharCode(e.which);return!!(n.toUpperCase()===n&&n.toLowerCase()!==n&&e.shiftKey||n.toUpperCase()!==n&&n.toLowerCase()===n&&e.shiftKey||e.getModifierState("CapsLock"))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=s.\u0275\u0275defineDirective({type:t,selectors:[["","abpCapsLock",""]],hostBindings:function(n,i){1&n&&s.\u0275\u0275listener("keydown",function(a){return i.onKeyDown(a)},!1,s.\u0275\u0275resolveWindow)("keyup",function(a){return i.onKeyUp(a)},!1,s.\u0275\u0275resolveWindow)},outputs:{capsLock:"abpCapsLock"},standalone:!0})}return t})(),Sr=(()=>{class t{constructor(){this.router=(0,s.inject)(f.Router),this.routesService=(0,s.inject)(ne),this.oAuthService=(0,s.inject)(gn.Ct),this.permissionService=(0,s.inject)(te),this.httpErrorReporter=(0,s.inject)(Q)}canActivate(e,n){let{requiredPolicy:i}=e.data||{};return i||(i=J(this.routesService,ve(this.router,n.url))?.requiredPolicy),i?this.permissionService.getGrantedPolicy$(i).pipe((0,c.tap)(o=>{!o&&this.oAuthService.hasValidAccessToken()&&this.httpErrorReporter.reportError({status:403})})):(0,d.of)(!0)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ut{constructor(r={}){for(const e in r)_(r,e)&&(this[e]=r[e])}}class br extends Ut{constructor(r={}){super(r)}}class Gt{constructor(r={}){for(const e in r)_(r,e)&&void 0!==r[e]&&(this[e]=r[e])}}class Le extends Gt{constructor(r={}){super(r)}}class Bt{constructor(r={}){this.maxResultCount=10;for(const e in r)_(r,e)&&void 0!==r[e]&&(this[e]=r[e])}}class Ht extends Le{constructor(r={}){super(r),this.maxResultCount=10}}class qt extends Bt{constructor(r={}){super(r)}}class Kt extends Ht{constructor(r={}){super(r)}}class Cr extends qt{constructor(r={}){super(r)}}class Er extends Kt{constructor(r={}){super(r)}}class Vt{constructor(r={}){for(const e in r)_(r,e)&&(this[e]=r[e])}}class Oe extends Vt{constructor(r={}){super(r)}}class Tr extends Oe{constructor(r={}){super(r)}}class Ne extends Oe{constructor(r={}){super(r)}}class Ir extends Ne{constructor(r={}){super(r)}}class Zt extends Ne{constructor(r={}){super(r)}}class Rr extends Zt{constructor(r={}){super(r)}}class je extends Le{constructor(r={}){super(r)}}class Me extends je{constructor(r={}){super(r)}}class Ar extends Me{constructor(r={}){super(r)}}class Dr extends je{constructor(r={}){super(r)}}class Wt extends Me{constructor(r={}){super(r)}}class wr extends Wt{constructor(r={}){super(r)}}let Lr=(()=>{class t{constructor(e){this.restService=e,this.apiName="abp",this.getByModel=n=>this.restService.request({method:"GET",url:"/api/abp/api-definition",params:{includeTypes:n.includeTypes}},{apiName:this.apiName})}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(F))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Or=Object.freeze({__proto__:null});class _e{constructor(r){this.containerRef=r}prepare(){}}class Yt extends _e{getIndex(){return 0}prepare(){this.containerRef.clear()}}class se extends _e{constructor(r,e){super(r),this.index=e}getIndex(){return Math.min(Math.max(0,this.index),this.containerRef.length)}}const O={Clear:t=>new Yt(t),Append:t=>new se(t,t.length),Prepend:t=>new se(t,0),Insert:(t,r)=>new se(t,r)};class ke{constructor(r){this.nonce=r}}class Qt extends ke{constructor(r){super(r)}applyCSP(r){this.nonce&&r.setAttribute("nonce",this.nonce)}}class Jt extends ke{constructor(){super()}applyCSP(r){}}const Xt={Loose:t=>new Qt(t),None:()=>new Jt};class Fe{constructor(r,e=y.AppendToHead(),n=Xt.None(),i={}){this.content=r,this.domStrategy=e,this.contentSecurityStrategy=n,this.options=i}insertElement(){const r=this.createElement();return this.options&&Object.keys(this.options).length>0&&Object.keys(this.options).forEach(e=>{this.options[e]&&(r[e]=this.options[e])}),this.contentSecurityStrategy.applyCSP(r),this.domStrategy.insertElement(r),r}}class Pe extends Fe{createElement(){const r=document.createElement("style");return r.textContent=this.content,r}}class xe extends Fe{createElement(){const r=document.createElement("script");return r.textContent=this.content,r}}const Nr={AppendScriptToBody:(t,r)=>new xe(t,y.AppendToBody(),void 0,r),AppendScriptToHead:(t,r)=>new xe(t,y.AppendToHead(),void 0,r),AppendStyleToHead:(t,r)=>new Pe(t,y.AppendToHead(),void 0,r),PrependStyleToHead:(t,r)=>new Pe(t,y.PrependToHead(),void 0,r)};class oe{constructor(r){this.context=r}setContext(r){return this.context}}class en extends oe{constructor(){super(void 0)}}class tn extends oe{setContext(r){return Object.keys(this.context).forEach(e=>r.instance[e]=this.context[e]),r.changeDetectorRef.detectChanges(),this.context}}class nn extends oe{setContext(){return this.context}}const T={None:()=>new en,Component:t=>new tn(t),Template:t=>new nn(t)};class ze{constructor(r,e=y.AppendToHead(),n=A.Anonymous()){this.path=r,this.domStrategy=e,this.crossOriginStrategy=n}createStream(){return this.element=this.createElement(),(0,d.of)(null).pipe((0,c.switchMap)(()=>kt(this.element,this.domStrategy,this.crossOriginStrategy)))}}class H extends ze{constructor(r,e,n){super(r,e,n)}createElement(){const r=document.createElement("script");return r.src=this.path,r}}class $e extends ze{constructor(r,e,n){super(r,e,n)}createElement(){const r=document.createElement("link");return r.rel="stylesheet",r.href=this.path,r}}const jr={AppendScriptToBody:t=>new H(t,y.AppendToBody(),A.None()),AppendAnonymousScriptToBody:(t,r)=>new H(t,y.AppendToBody(),A.Anonymous(r)),AppendAnonymousScriptToHead:(t,r)=>new H(t,y.AppendToHead(),A.Anonymous(r)),AppendAnonymousStyleToHead:(t,r)=>new $e(t,y.AppendToHead(),A.Anonymous(r)),PrependAnonymousScriptToHead:(t,r)=>new H(t,y.PrependToHead(),A.Anonymous(r)),PrependAnonymousStyleToHead:(t,r)=>new $e(t,y.PrependToHead(),A.Anonymous(r))};class ae{constructor(r){this.content=r}}class ce extends ae{constructor(r,e,n=T.None()){super(r),this.containerStrategy=e,this.contextStrategy=n}injectContent(r){this.containerStrategy.prepare();const n=r.get(s.ComponentFactoryResolver).resolveComponentFactory(this.content),i=this.containerStrategy.containerRef.createComponent(n,this.containerStrategy.getIndex(),r);return this.contextStrategy.setContext(i),i}}class rn extends ae{constructor(r,e=T.None(),n=y.AppendToBody()){super(r),this.contextStrategy=e,this.domStrategy=n}injectContent(r){const e=r.get(s.ApplicationRef),i=r.get(s.ComponentFactoryResolver).resolveComponentFactory(this.content).create(r);return this.contextStrategy.setContext(i),e.attachView(i.hostView),this.domStrategy.insertElement(i.hostView.rootNodes[0]),i}}class ue extends ae{constructor(r,e,n=T.None()){super(r),this.containerStrategy=e,this.contextStrategy=n}injectContent(){this.containerStrategy.prepare();const r=this.containerStrategy.containerRef.createEmbeddedView(this.content,this.contextStrategy.context,this.containerStrategy.getIndex());return r.detectChanges(),r}}const Mr={AppendComponentToBody:(t,r)=>new rn(t,r&&T.Component(r)),AppendComponentToContainer:(t,r,e)=>new ce(t,O.Append(r),e&&T.Component(e)),AppendTemplateToContainer:(t,r,e)=>new ue(t,O.Append(r),e&&T.Template(e)),PrependComponentToContainer:(t,r,e)=>new ce(t,O.Prepend(r),e&&T.Component(e)),PrependTemplateToContainer:(t,r,e)=>new ue(t,O.Prepend(r),e&&T.Template(e)),ProjectComponentToContainer:(t,r,e)=>new ce(t,O.Clear(r),e&&T.Component(e)),ProjectTemplateToContainer:(t,r,e)=>new ue(t,O.Clear(r),e&&T.Template(e))};function sn({age:t=18}={}){return r=>["",null,void 0].indexOf(r.value)>-1||function _r(t,r){const e=new Date;return e.setFullYear(e.getFullYear()-r),e.setHours(23,59,59,999),Number(new Date(t))<=e.valueOf()}(r.value,t)?null:{minAge:{age:t}}}function on(){return t=>["",null,void 0].indexOf(t.value)>-1||function kr(t){if(t=t.replace(/[ -]/g,""),!/^[0-9]{13,19}$/.test(t))return!1;let r=0,e=1;for(let n=t.length;n>0;n--){const i=Number(t[n-1])*e;r+=i%10+~~(i/10),e=2*e%3}return r%10==0}(String(t.value))?null:{creditCard:!0}}function an({maximum:t=1/0,minimum:r=0}={}){return e=>{if(["",null,void 0].indexOf(e.value)>-1)return null;const n=Number(e.value);return function Pr(t,r,e){return t<r?{range:{min:r,max:e}}:null}(n,r,t)||function Fr(t,r,e){return t>r?{range:{max:r,min:e}}:null}(n,t,r)}}function cn({allowEmptyStrings:t}={}){return e=>function xr(t,r){return!!(t||0===t||!1===t||r&&""===t)}(e.value,t)?null:{required:!0}}function un({maximumLength:t=1/0,minimumLength:r=0}={}){return e=>{if(["",null,void 0].indexOf(e.value)>-1)return null;const n=String(e.value);return function $r(t,r){return t.length<r?{minlength:{requiredLength:r}}:null}(n,r)||function zr(t,r){return t.length>r?{maxlength:{requiredLength:r}}:null}(n,t)}}function ln(){return t=>Z(t.value)||function Ur(t){return new Set(t.split("")).size==t.length}(t.value)?null:{uniqueCharacter:!0}}function dn(){return t=>Z(t.value)||function Gr(t){if(/^http(s)?:\/\/[^/]/.test(t)||/^ftp:\/\/[^/]/.test(t)){const r=document.createElement("a");return r.href=t,!!r.host}return!1}(t.value)?null:{url:!0}}const Br=/^[a-zA-Z0-9]+$/,Kr={creditCard:on,emailAddress:()=>S.Validators.email,minAge:sn,range:an,required:cn,stringLength:un,url:dn,username:function Hr({pattern:t=/.*/}={pattern:Br}){return r=>function qr(t,r){return!!Z(t)||r.test(t)}(r.value,t)?null:{usernamePattern:{actualValue:r.value}}},uniqueCharacter:ln};let Vr=(()=>{class t{constructor(e){this.httpWaitService=e}getAdditionalHeaders(e){return e||new p.HttpHeaders}intercept(e,n){return this.httpWaitService.addRequest(e),n.handle(e).pipe((0,c.finalize)(()=>this.httpWaitService.deleteRequest(e)))}static#e=this.\u0275fac=function(n){return new(n||t)(s.\u0275\u0275inject(Pt))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},39611:(hn,q,v)=>{v.d(q,{Z:()=>z});var z=s;function s(c,p){return c===p||c!=c&&p!=p||!(typeof c!=typeof p||{}.toString.call(c)!={}.toString.call(p)||c!==Object(c)||!c)&&(Array.isArray(c)?f(c,p):"[object Set]"=={}.toString.call(c)?f(Array.from(c),Array.from(p)):"[object Object]"=={}.toString.call(c)?function m(c,p){var E=Object.keys(c),S=E.length;if(S!=Object.keys(p).length)return!1;for(var N=0;N<S;N++){var R=E[N];if(!p.hasOwnProperty(R)||!s(c[R],p[R]))return!1}return!0}(c,p):function d(c,p){return c.toString()===p.toString()}(c,p))}function f(c,p){var E=c.length;if(E!=p.length)return!1;for(var S=0;S<E;S++)if(!s(c[S],p[S]))return!1;return!0}}}]);