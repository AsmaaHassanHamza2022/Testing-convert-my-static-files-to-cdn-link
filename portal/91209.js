(self.webpackChunkportal=self.webpackChunkportal||[]).push([[91209],{91209:(Xo,fe,Z)=>{Z.r(fe),Z.d(fe,{OrgChart:()=>Ro});var ot=Z(88224),Y=Z(19567);function hn(e){var n=0,t=e.children,r=t&&t.length;if(r)for(;--r>=0;)n+=t[r].value;else n=1;e.value=n}function de(e,n){e instanceof Map?(e=[void 0,e],void 0===n&&(n=zn)):void 0===n&&(n=Sn);for(var r,o,s,a,u,t=new at(e),i=[t];r=i.pop();)if((s=n(r.data))&&(u=(s=Array.from(s)).length))for(r.children=s,a=u-1;a>=0;--a)i.push(o=s[a]=new at(s[a])),o.parent=r,o.depth=r.depth+1;return t.eachBefore(pe)}function Sn(e){return e.children}function zn(e){return Array.isArray(e)?e[1]:null}function Mn(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function pe(e){var n=0;do{e.height=n}while((e=e.parent)&&e.height<++n)}function at(e){this.data=e,this.depth=this.height=0,this.parent=null}function Bn(e,n){return e.parent===n.parent?1:2}function Pt(e){var n=e.children;return n?n[0]:e.t}function Ft(e){var n=e.children;return n?n[n.length-1]:e.t}function Nn(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function Rn(e,n,t){return e.a.parent===n.parent?e.a:t}function vt(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Ot(e){return null==e?null:function An(e){if("function"!=typeof e)throw new Error;return e}(e)}at.prototype=de.prototype={constructor:at,count:function fn(){return this.eachAfter(hn)},each:function dn(e,n){let t=-1;for(const r of this)e.call(n,r,++t,this);return this},eachAfter:function gn(e,n){for(var o,s,a,t=this,r=[t],i=[],u=-1;t=r.pop();)if(i.push(t),o=t.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;t=i.pop();)e.call(n,t,++u,this);return this},eachBefore:function pn(e,n){for(var i,o,t=this,r=[t],s=-1;t=r.pop();)if(e.call(n,t,++s,this),i=t.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this},find:function mn(e,n){let t=-1;for(const r of this)if(e.call(n,r,++t,this))return r},sum:function xn(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)t+=r[i].value;n.value=t})},sort:function yn(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})},path:function wn(e){for(var n=this,t=function _n(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),i=null;for(e=t.pop(),n=r.pop();e===n;)i=e,e=t.pop(),n=r.pop();return i}(n,e),r=[n];n!==t;)r.push(n=n.parent);for(var i=r.length;e!==t;)r.splice(i,0,e),e=e.parent;return r},ancestors:function vn(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n},descendants:function Cn(){return Array.from(this)},leaves:function bn(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e},links:function En(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function $n(){return de(this).eachBefore(Mn)},[Symbol.iterator]:function*kn(){var n,r,i,o,e=this,t=[e];do{for(n=t.reverse(),t=[];e=n.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)t.push(r[i])}while(t.length)}},vt.prototype=Object.create(at.prototype);var Dn={depth:-1},ge={},Zt={};function Yn(e){return e.id}function In(e){return e.parentId}function me(e){let n=e.length;if(n<2)return"";for(;--n>1&&!Wt(e,n););return e.slice(0,n)}function Wt(e,n){if("/"===e[n]){let t=0;for(;n>0&&"\\"===e[--n];)++t;if(!(1&t))return!0}return!1}var Fn={value:()=>{}};function xe(){for(var r,e=0,n=arguments.length,t={};e<n;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Ct(t)}function Ct(e){this._=e}function Zn(e,n){for(var i,t=0,r=e.length;t<r;++t)if((i=e[t]).name===n)return i.value}function ye(e,n,t){for(var r=0,i=e.length;r<i;++r)if(e[r].name===n){e[r]=Fn,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=t&&e.push({name:n,value:t}),e}Ct.prototype=xe.prototype={constructor:Ct,on:function(e,n){var i,t=this._,r=function On(e,n){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}(e+"",t),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(e=r[o]).type)t[i]=ye(t[i],e.name,n);else if(null==n)for(i in t)t[i]=ye(t[i],e.name,null);return this}for(;++o<s;)if((i=(e=r[o]).type)&&(i=Zn(t[i],e.name)))return i},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Ct(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var i,o,t=new Array(i),r=0;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(o=this._[e]).length;r<i;++r)o[r].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(n,t)}};const we=xe,Gt={capture:!0,passive:!1};function Jt(e){e.preventDefault(),e.stopImmediatePropagation()}function _e(e){return((e=Math.exp(e))+1/e)/2}const qn=function e(n,t,r){function i(o,s){var v,y,a=o[0],u=o[1],l=o[2],d=s[2],g=s[0]-a,w=s[1]-u,x=g*g+w*w;if(x<1e-12)y=Math.log(d/l)/n,v=function(A){return[a+A*g,u+A*w,l*Math.exp(n*A*y)]};else{var S=Math.sqrt(x),N=(d*d-l*l+r*x)/(2*l*t*S),z=(d*d-l*l-r*x)/(2*d*t*S),R=Math.log(Math.sqrt(N*N+1)-N),X=Math.log(Math.sqrt(z*z+1)-z);y=(X-R)/n,v=function(A){var K=A*y,_t=_e(R),Q=l/(t*S)*(_t*function Vn(e){return((e=Math.exp(2*e))-1)/(e+1)}(n*K+R)-function Un(e){return((e=Math.exp(e))-1/e)/2}(R));return[a+Q*g,u+Q*w,l*_t/_e(n*K+R)]}}return v.duration=1e3*y*n/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s;return e(s,a,a*a)},i}(Math.SQRT2,2,4);function tt(e,n){if(e=function jn(e){let n;for(;n=e.sourceEvent;)e=n;return e}(e),void 0===n&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[e.clientX-i.left-n.clientLeft,e.clientY-i.top-n.clientTop]}}return[e.pageX,e.pageY]}var bt,ft,st=0,ut=0,ht=0,ve=1e3,Et=0,et=0,kt=0,dt="object"==typeof performance&&performance.now?performance:Date,Ce="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ut(){return et||(Ce(Kn),et=dt.now()+kt)}function Kn(){et=0}function $t(){this._call=this._time=this._next=null}function be(e,n,t){var r=new $t;return r.restart(e,n,t),r}function Ee(){et=(Et=dt.now())+kt,st=ut=0;try{!function Qn(){Ut(),++st;for(var n,e=bt;e;)(n=et-e._time)>=0&&e._call.call(void 0,n),e=e._next;--st}()}finally{st=0,function er(){for(var e,t,n=bt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:bt=t);ft=e,Vt(r)}(),et=0}}function tr(){var e=dt.now(),n=e-Et;n>ve&&(kt-=n,Et=e)}function Vt(e){st||(ut&&(ut=clearTimeout(ut)),e-et>24?(e<1/0&&(ut=setTimeout(Ee,e-dt.now()-kt)),ht&&(ht=clearInterval(ht))):(ht||(Et=dt.now(),ht=setInterval(tr,ve)),st=1,Ce(Ee)))}function ke(e,n,t){var r=new $t;return r.restart(i=>{r.stop(),e(i+n)},n=null==n?0:+n,t),r}$t.prototype=be.prototype={constructor:$t,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Ut():+t)+(null==n?0:+n),!this._next&&ft!==this&&(ft?ft._next=this:bt=this,ft=this),this._call=e,this._time=t,Vt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vt())}};var nr=we("start","end","cancel","interrupt"),rr=[],$e=0,St=3;function Mt(e,n,t,r,i,o){var s=e.__transition;if(s){if(t in s)return}else e.__transition={};!function ir(e,n,t){var i,r=e.__transition;function s(l){var c,f,d,g;if(1!==t.state)return u();for(c in r)if((g=r[c]).name===t.name){if(g.state===St)return ke(s);4===g.state?(g.state=6,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<n&&(g.state=6,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(ke(function(){t.state===St&&(t.state=4,t.timer.restart(a,t.delay,t.time),a(l))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=St,i=new Array(d=t.tween.length),c=0,f=-1;c<d;++c)(g=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(i[++f]=g);i.length=f+1}}function a(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(u),t.state=5,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),u())}function u(){for(var l in t.state=6,t.timer.stop(),delete r[n],r)return;delete e.__transition}r[n]=t,t.timer=be(function o(l){t.state=1,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)},0,t.time)}(e,t,{name:n,index:r,group:i,on:nr,tween:rr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:$e})}function Kt(e,n){var t=I(e,n);if(t.state>$e)throw new Error("too late; already scheduled");return t}function F(e,n){var t=I(e,n);if(t.state>St)throw new Error("too late; already running");return t}function I(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Bt(e,n){var r,i,s,t=e.__transition,o=!0;if(t){for(s in n=null==n?null:n+"",t)(r=t[s]).name===n?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]):o=!1;o&&delete e.__transition}}function j(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Nt,Me=180/Math.PI,Qt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Be(e,n,t,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(u=e*t+n*r)&&(t-=e*u,r-=n*u),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,u/=a),e*r<n*t&&(e=-e,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,e)*Me,skewX:Math.atan(u)*Me,scaleX:s,scaleY:a}}function Ne(e,n,t,r){function i(l){return l.length?l.pop()+" ":""}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),function o(l,c,f,d,g,w){if(l!==f||c!==d){var x=g.push("translate(",null,n,null,t);w.push({i:x-4,x:j(l,f)},{i:x-2,x:j(c,d)})}else(f||d)&&g.push("translate("+f+n+d+t)}(l.translateX,l.translateY,c.translateX,c.translateY,f,d),function s(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:j(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}(l.rotate,c.rotate,f,d),function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:j(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}(l.skewX,c.skewX,f,d),function u(l,c,f,d,g,w){if(l!==f||c!==d){var x=g.push(i(g)+"scale(",null,",",null,")");w.push({i:x-4,x:j(l,f)},{i:x-2,x:j(c,d)})}else(1!==f||1!==d)&&g.push(i(g)+"scale("+f+","+d+")")}(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(g){for(var v,w=-1,x=d.length;++w<x;)f[(v=d[w]).i]=v.x(g);return f.join("")}}}var lr=Ne(function ar(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Qt:Be(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),cr=Ne(function sr(e){return null!=e&&(Nt||(Nt=document.createElementNS("http://www.w3.org/2000/svg","g")),Nt.setAttribute("transform",e),e=Nt.transform.baseVal.consolidate())?Be((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Qt},", ",")",")"),Te=Z(96006);function ur(e,n){var t,r;return function(){var i=F(this,e),o=i.tween;if(o!==t)for(var s=0,a=(r=t=o).length;s<a;++s)if(r[s].name===n){(r=r.slice()).splice(s,1);break}i.tween=r}}function hr(e,n,t){var r,i;if("function"!=typeof t)throw new Error;return function(){var o=F(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:t},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function te(e,n,t){var r=e._id;return e.each(function(){var i=F(this,r);(i.value||(i.value={}))[n]=t.apply(this,arguments)}),function(i){return I(i,r).value[n]}}function ee(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Re(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function pt(){}var Tt=1/.7,lt="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dr=/^#([0-9a-f]{3,8})$/,pr=new RegExp(`^rgb\\(${lt},${lt},${lt}\\)$`),gr=new RegExp(`^rgb\\(${O},${O},${O}\\)$`),mr=new RegExp(`^rgba\\(${lt},${lt},${lt},${mt}\\)$`),xr=new RegExp(`^rgba\\(${O},${O},${O},${mt}\\)$`),yr=new RegExp(`^hsl\\(${mt},${O},${O}\\)$`),wr=new RegExp(`^hsla\\(${mt},${O},${O},${mt}\\)$`),Xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Le(){return this.rgb().formatHex()}function Ae(){return this.rgb().formatRgb()}function xt(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=dr.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?De(n):3===t?new L(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?Rt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?Rt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=pr.exec(e))?new L(n[1],n[2],n[3],1):(n=gr.exec(e))?new L(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=mr.exec(e))?Rt(n[1],n[2],n[3],n[4]):(n=xr.exec(e))?Rt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=yr.exec(e))?He(n[1],n[2]/100,n[3]/100,1):(n=wr.exec(e))?He(n[1],n[2]/100,n[3]/100,n[4]):Xe.hasOwnProperty(e)?De(Xe[e]):"transparent"===e?new L(NaN,NaN,NaN,0):null}function De(e){return new L(e>>16&255,e>>8&255,255&e,1)}function Rt(e,n,t,r){return r<=0&&(e=n=t=NaN),new L(e,n,t,r)}function Xt(e,n,t,r){return 1===arguments.length?function Cr(e){return e instanceof pt||(e=xt(e)),e?new L((e=e.rgb()).r,e.g,e.b,e.opacity):new L}(e):new L(e,n,t,r??1)}function L(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}function Ye(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}`}function Ie(){const e=Lt(this.opacity);return`${1===e?"rgb(":"rgba("}${nt(this.r)}, ${nt(this.g)}, ${nt(this.b)}${1===e?")":`, ${e})`}`}function Lt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rt(e){return((e=nt(e))<16?"0":"")+e.toString(16)}function He(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new H(e,n,t,r)}function Pe(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);if(e instanceof pt||(e=xt(e)),!e)return new H;if(e instanceof H)return e;var n=(e=e.rgb()).r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),o=Math.max(n,t,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=n===o?(t-r)/a+6*(t<r):t===o?(r-n)/a+2:(n-t)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new H(s,a,u,e.opacity)}function H(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function Fe(e){return(e=(e||0)%360)<0?e+360:e}function At(e){return Math.max(0,Math.min(1,e||0))}function ne(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function Oe(e,n,t,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*n+(4-6*o+3*s)*t+(1+3*e+3*o-3*s)*r+s*i)/6}ee(pt,xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Le,formatHex:Le,formatHex8:function _r(){return this.rgb().formatHex8()},formatHsl:function vr(){return Pe(this).formatHsl()},formatRgb:Ae,toString:Ae}),ee(L,Xt,Re(pt,{brighter(e){return e=null==e?Tt:Math.pow(Tt,e),new L(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new L(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new L(nt(this.r),nt(this.g),nt(this.b),Lt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatHex8:function br(){return`#${rt(this.r)}${rt(this.g)}${rt(this.b)}${rt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ie,toString:Ie})),ee(H,function Er(e,n,t,r){return 1===arguments.length?Pe(e):new H(e,n,t,r??1)},Re(pt,{brighter(e){return e=null==e?Tt:Math.pow(Tt,e),new H(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new H(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new L(ne(e>=240?e-240:e+120,i,r),ne(e,i,r),ne(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new H(Fe(this.h),At(this.s),At(this.l),Lt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lt(this.opacity);return`${1===e?"hsl(":"hsla("}${Fe(this.h)}, ${100*At(this.s)}%, ${100*At(this.l)}%${1===e?")":`, ${e})`}`}}));const Ze=e=>()=>e;function Ge(e,n){var t=n-e;return t?function We(e,n){return function(t){return e+t*n}}(e,t):Ze(isNaN(e)?n:e)}const Je=function e(n){var t=function zr(e){return 1==(e=+e)?Ge:function(n,t){return t-n?function Sr(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}(n,t,e):Ze(isNaN(n)?t:n)}}(n);function r(i,o){var s=t((i=Xt(i)).r,(o=Xt(o)).r),a=t(i.g,o.g),u=t(i.b,o.b),l=Ge(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function Ue(e){return function(n){var s,a,t=n.length,r=new Array(t),i=new Array(t),o=new Array(t);for(s=0;s<t;++s)a=Xt(n[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}Ue(function kr(e){var n=e.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),i=e[r],o=e[r+1];return Oe((t-r/n)*n,r>0?e[r-1]:2*i-o,i,o,r<n-1?e[r+2]:2*o-i)}}),Ue(function $r(e){var n=e.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*n);return Oe((t-r/n)*n,e[(r+n-1)%n],e[r%n],e[(r+1)%n],e[(r+2)%n])}});var re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(re.source,"g");function Nr(e,n){var r,i,o,t=re.lastIndex=ie.lastIndex=0,s=-1,a=[],u=[];for(e+="",n+="";(r=re.exec(e))&&(i=ie.exec(n));)(o=i.index)>t&&(o=n.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:j(r,i)})),t=ie.lastIndex;return t<n.length&&(o=n.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function Br(e){return function(n){return e(n)+""}}(u[0].x):function Mr(e){return function(){return e}}(n):(n=u.length,function(l){for(var f,c=0;c<n;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Ve(e,n){var t;return("number"==typeof n?j:n instanceof xt?Je:(t=xt(n))?(n=t,Je):Nr)(e,n)}function Tr(e){return function(){this.removeAttribute(e)}}function Rr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xr(e,n,t){var r,o,i=t+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=n(r=s,t)}}function Lr(e,n,t){var r,o,i=t+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=n(r=s,t)}}function Ar(e,n,t){var r,i,o;return function(){var s,u,a=t(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Dr(e,n,t){var r,i,o;return function(){var s,u,a=t(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(u=a+"")?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Pr(e,n){var t,r;function i(){var o=n.apply(this,arguments);return o!==r&&(t=(r=o)&&function Hr(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,o)),t}return i._value=n,i}function Fr(e,n){var t,r;function i(){var o=n.apply(this,arguments);return o!==r&&(t=(r=o)&&function Ir(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,o)),t}return i._value=n,i}function Zr(e,n){return function(){Kt(this,e).delay=+n.apply(this,arguments)}}function Wr(e,n){return n=+n,function(){Kt(this,e).delay=n}}function Jr(e,n){return function(){F(this,e).duration=+n.apply(this,arguments)}}function Ur(e,n){return n=+n,function(){F(this,e).duration=n}}var ti=Z(39775),li=Z(78692),ui=Z(62111),fi=ot.ZP.prototype.constructor,yt=Z(78995);function qe(e){return function(){this.style.removeProperty(e)}}var Bi=0;function W(e,n,t,r){this._groups=e,this._parents=n,this._name=t,this._id=r}function je(){return++Bi}var G=ot.ZP.prototype;W.prototype=function Ni(e){return(0,ot.ZP)().transition(e)}.prototype={constructor:W,select:function ci(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=(0,li.Z)(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var c,f,a=r[s],u=a.length,l=o[s]=new Array(u),d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,Mt(l[d],n,t,d,l,I(c,t)));return new W(o,this._parents,n,t)},selectAll:function hi(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=(0,ui.Z)(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c,u=r[a],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var g,d=e.call(c,c.__data__,f,u),w=I(c,t),x=0,v=d.length;x<v;++x)(g=d[x])&&Mt(g,n,t,x,d,w);o.push(d),s.push(c)}return new W(o,s,n,t)},selectChild:G.selectChild,selectChildren:G.selectChildren,filter:function ei(e){"function"!=typeof e&&(e=(0,ti.Z)(e));for(var n=this._groups,t=n.length,r=new Array(t),i=0;i<t;++i)for(var u,o=n[i],s=o.length,a=r[i]=[],l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new W(r,this._parents,this._name,this._id)},merge:function ni(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,r=n.length,o=Math.min(r,t.length),s=new Array(r),a=0;a<o;++a)for(var d,u=n[a],l=t[a],c=u.length,f=s[a]=new Array(c),g=0;g<c;++g)(d=u[g]||l[g])&&(f[g]=d);for(;a<r;++a)s[a]=n[a];return new W(s,this._parents,this._name,this._id)},selection:function di(){return new fi(this._groups,this._parents)},transition:function zi(){for(var e=this._name,n=this._id,t=je(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)if(u=s[l]){var c=I(u,n);Mt(u,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new W(r,this._parents,e,t)},call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:function oi(e,n){var t=this._id;return arguments.length<2?I(this.node(),t).on.on(e):this.each(function ii(e,n,t){var r,i,o=function ri(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?Kt:F;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(n,t),s.on=i}}(t,e,n))},attr:function Yr(e,n){var t=(0,Te.Z)(e),r="transform"===t?cr:Ve;return this.attrTween(e,"function"==typeof n?(t.local?Dr:Ar)(t,r,te(this,"attr."+e,n)):null==n?(t.local?Rr:Tr)(t):(t.local?Lr:Xr)(t,r,n))},attrTween:function Or(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var r=(0,Te.Z)(e);return this.tween(t,(r.local?Pr:Fr)(r,n))},style:function yi(e,n,t){var r="transform"==(e+="")?lr:Ve;return null==n?this.styleTween(e,function pi(e,n){var t,r,i;return function(){var o=(0,yt.S)(this,e),s=(this.style.removeProperty(e),(0,yt.S)(this,e));return o===s?null:o===t&&s===r?i:i=n(t=o,r=s)}}(e,r)).on("end.style."+e,qe(e)):"function"==typeof n?this.styleTween(e,function mi(e,n,t){var r,i,o;return function(){var s=(0,yt.S)(this,e),a=t(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=(0,yt.S)(this,e)),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}(e,r,te(this,"style."+e,n))).each(function xi(e,n){var t,r,i,a,o="style."+n,s="end."+o;return function(){var u=F(this,e),l=u.on,c=null==u.value[o]?a||(a=qe(n)):void 0;(l!==t||i!==c)&&(r=(t=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function gi(e,n,t){var r,o,i=t+"";return function(){var s=(0,yt.S)(this,e);return s===i?null:s===r?o:o=n(r=s,t)}}(e,r,n),t).on("end.style."+e,null)},styleTween:function vi(e,n,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function _i(e,n,t){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&function wi(e,n,t){return function(r){this.style.setProperty(e,n.call(this,r),t)}}(e,s,t)),r}return o._value=n,o}(e,n,t??""))},text:function Ei(e){return this.tween("text","function"==typeof e?function bi(e){return function(){var n=e(this);this.textContent=n??""}}(te(this,"text",e)):function Ci(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Si(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function $i(e){var n,t;function r(){var i=e.apply(this,arguments);return i!==t&&(n=(t=i)&&function ki(e){return function(n){this.textContent=e.call(this,n)}}(i)),n}return r._value=e,r}(e))},remove:function si(){return this.on("end.remove",function ai(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function fr(e,n){var t=this._id;if(e+="",arguments.length<2){for(var s,r=I(this.node(),t).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((null==n?ur:hr)(t,e,n))},delay:function Gr(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Zr:Wr)(n,e)):I(this.node(),n).delay},duration:function Vr(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Jr:Ur)(n,e)):I(this.node(),n).duration},ease:function jr(e){var n=this._id;return arguments.length?this.each(function qr(e,n){if("function"!=typeof n)throw new Error;return function(){F(this,e).ease=n}}(n,e)):I(this.node(),n).ease},easeVarying:function Qr(e){if("function"!=typeof e)throw new Error;return this.each(function Kr(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;F(this,e).ease=t}}(this._id,e))},end:function Mi(){var e,n,t=this,r=t._id,i=t.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};t.each(function(){var l=F(this,r),c=l.on;c!==e&&((n=(e=c).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),l.on=n}),0===i&&o()})},[Symbol.iterator]:G[Symbol.iterator]};var Ri={time:null,delay:0,duration:250,ease:function Ti(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Xi(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}ot.ZP.prototype.interrupt=function or(e){return this.each(function(){Bt(this,e)})},ot.ZP.prototype.transition=function Li(e){var n,t;e instanceof W?(n=e._id,e=e._name):(n=je(),(t=Ri).time=Ut(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,s=r[o],a=s.length,l=0;l<a;++l)(u=s[l])&&Mt(u,e,n,l,s,t||Xi(u,n));return new W(r,this._parents,e,n)};const Dt=e=>()=>e;function Ai(e,{sourceEvent:n,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function J(e,n,t){this.k=e,this.x=n,this.y=t}J.prototype={constructor:J,scale:function(e){return 1===e?this:new J(this.k*e,this.x,this.y)},translate:function(e,n){return 0===e&0===n?this:new J(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yt=new J(1,0,0);function oe(e){e.stopImmediatePropagation()}function wt(e){e.preventDefault(),e.stopImmediatePropagation()}function Yi(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Ii(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ke(){return this.__zoom||Yt}function Hi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Pi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fi(e,n,t){var r=e.invertX(n[0][0])-t[0][0],i=e.invertX(n[1][0])-t[1][0],o=e.invertY(n[0][1])-t[0][1],s=e.invertY(n[1][1])-t[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Zi(e){var n=0,t=e.children,r=t&&t.length;if(r)for(;--r>=0;)n+=t[r].value;else n=1;e.value=n}function ae(e,n){var i,s,a,u,l,t=new It(e),r=+e.value&&(t.value=e.value),o=[t];for(null==n&&(n=io);i=o.pop();)if(r&&(i.value=+i.data.value),(a=n(i.data))&&(l=a.length))for(i.children=new Array(l),u=l-1;u>=0;--u)o.push(s=i.children[u]=new It(a[u])),s.parent=i,s.depth=i.depth+1;return t.eachBefore(ao)}function io(e){return e.children}function oo(e){e.data=e.data.data}function ao(e){var n=0;do{e.height=n}while((e=e.parent)&&e.height<++n)}function It(e){this.data=e,this.depth=this.height=0,this.parent=null}It.prototype=ae.prototype={constructor:It,count:function Wi(){return this.eachAfter(Zi)},each:function Gi(e){var t,i,o,s,n=this,r=[n];do{for(t=r.reverse(),r=[];n=t.pop();)if(e(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o])}while(r.length);return this},eachAfter:function Ui(e){for(var i,o,s,n=this,t=[n],r=[];n=t.pop();)if(r.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)t.push(i[o]);for(;n=r.pop();)e(n);return this},eachBefore:function Ji(e){for(var r,i,n=this,t=[n];n=t.pop();)if(e(n),r=n.children)for(i=r.length-1;i>=0;--i)t.push(r[i]);return this},sum:function Vi(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)t+=r[i].value;n.value=t})},sort:function qi(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})},path:function ji(e){for(var n=this,t=function Ki(e,n){if(e===n)return e;var t=e.ancestors(),r=n.ancestors(),i=null;for(e=t.pop(),n=r.pop();e===n;)i=e,e=t.pop(),n=r.pop();return i}(n,e),r=[n];n!==t;)r.push(n=n.parent);for(var i=r.length;e!==t;)r.splice(i,0,e),e=e.parent;return r},ancestors:function Qi(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n},descendants:function to(){var e=[];return this.each(function(n){e.push(n)}),e},leaves:function eo(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e},links:function no(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function ro(){return ae(this).eachBefore(oo)}};const{version:lo}={version:"2.1.2"},co=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function se(e){const n=Object.assign({},co,e);function t(a){const u=n[a];return"function"==typeof u?u:()=>u}function r(a){const u=s(function o(){const a=i(),u=t("nodeSize"),l=t("spacing");return class extends a{constructor(c){super(c),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(c){return l(this.data,c.data)}get x(){return this.data.x}set x(c){this.data.x=c}get y(){return this.data.y}set y(c){this.data.y=c}update(){return Qe(this),tn(this),this}}}(),a,l=>l.children);return u.update(),u.data}function i(){const a=t("nodeSize"),u=t("spacing");return class an extends ae.prototype.constructor{constructor(c){super(c)}copy(){const c=s(this.constructor,this,f=>f.children);return c.each(f=>f.data=f.data.data),c}get size(){return a(this)}spacing(c){return u(this,c)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const c=this.ancestors();return c[c.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return null===this.children}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((c,f)=>an.maxExtents(c,f.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(c,f){return{top:Math.min(c.top,f.top),bottom:Math.max(c.bottom,f.bottom),left:Math.min(c.left,f.left),right:Math.max(c.right,f.right)}}}}function s(a,u,l){const c=(f,d)=>{const g=new a(f);Object.assign(g,{parent:d,depth:null===d?0:d.depth+1,height:0,length:1});const w=l(f)||[];return g.children=0===w.length?null:w.map(x=>c(x,g)),g.children&&Object.assign(g,g.children.reduce((x,v)=>({height:Math.max(x.height,v.height+1),length:x.length+v.length}),g)),g};return c(u,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(n.nodeSize=a,r):n.nodeSize},spacing(a){return arguments.length?(n.spacing=a,r):n.spacing},children(a){return arguments.length?(n.children=a,r):n.children},hierarchy(a,u){const l=typeof u>"u"?n.children:u;return s(i(),a,l)},dump(a){const u=t("nodeSize"),l=c=>f=>{const d=c+"  ",g=c+"    ",{x:w,y:x}=f,v=u(f),y=f.children||[],S=0===y.length?" ":`,${d}children: [${g}${y.map(l(g)).join(g)}${d}],${c}`;return`{ size: [${v.join(", ")}],${d}x: ${w}, y: ${x}${S}},`};return l("\n")(a)}}),r}se.version=lo;const Qe=(e,n=0)=>(e.y=n,(e.children||[]).reduce((t,r)=>{const[i,o]=t;Qe(r,e.y+e.ySize);const s=(0===i?r.lExt:r.rExt).bottom;return 0!==i&&ho(e,i,o),[i+1,_o(s,i,o)]},[0,null]),uo(e),wo(e),e),tn=(e,n,t)=>{typeof n>"u"&&(n=-e.relX-e.prelim,t=0);const r=n+e.relX;return e.relX=r+e.prelim-t,e.prelim=0,e.x=t+e.relX,(e.children||[]).forEach(i=>tn(i,r,e.x)),e},uo=e=>{(e.children||[]).reduce((n,t)=>{const[r,i]=n,o=r+t.shift,s=i+o+t.change;return t.relX+=s,[o,s]},[0,0])},ho=(e,n,t)=>{const r=e.children[n-1],i=e.children[n];let o=r,s=r.relX,a=i,u=i.relX,l=!0;for(;o&&a;){o.bottom>t.lowY&&(t=t.next);const c=s+o.prelim-(u+a.prelim)+o.xSize/2+a.xSize/2+o.spacing(a);(c>0||c<0&&l)&&(u+=c,fo(i,c),po(e,n,t.index,c)),l=!1;const f=o.bottom,d=a.bottom;f<=d&&(o=mo(o),o&&(s+=o.relX)),f>=d&&(a=go(a),a&&(u+=a.relX))}!o&&a?xo(e,n,a,u):o&&!a&&yo(e,n,o,s)},fo=(e,n)=>{e.relX+=n,e.lExtRelX+=n,e.rExtRelX+=n},po=(e,n,t,r)=>{const i=e.children[n],o=n-t;if(o>1){const s=r/o;e.children[t+1].shift+=s,i.shift-=s,i.change-=r-s}},go=e=>e.hasChildren?e.firstChild:e.lThr,mo=e=>e.hasChildren?e.lastChild:e.rThr,xo=(e,n,t,r)=>{const i=e.firstChild,o=i.lExt,s=e.children[n];o.lThr=t;const a=r-t.relX-i.lExtRelX;o.relX+=a,o.prelim-=a,i.lExt=s.lExt,i.lExtRelX=s.lExtRelX},yo=(e,n,t,r)=>{const i=e.children[n],o=i.rExt,s=e.children[n-1];o.rThr=t;const a=r-t.relX-i.rExtRelX;o.relX+=a,o.prelim-=a,i.rExt=s.rExt,i.rExtRelX=s.rExtRelX},wo=e=>{if(e.hasChildren){const n=e.firstChild,t=e.lastChild;Object.assign(e,{prelim:(n.prelim+n.relX-n.xSize/2+t.relX+t.prelim+t.xSize/2)/2,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:t.rExt,rExtRelX:t.rExtRelX})}},_o=(e,n,t)=>{for(;null!==t&&e>=t.lowY;)t=t.next;return{lowY:e,index:n,next:t}};var vo=Array.prototype.slice;function en(e){return function(){return e}}class nn{constructor(n,t){this._context=n,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,t,n,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,n,this._y0,n,t)}this._x0=n,this._y0=t}}function bo(e){return new nn(e,!0)}const le=Math.PI,ce=2*le,it=1e-6,Eo=ce-it;function rn(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}class Ht{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?rn:function ko(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return rn;const t=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,r,i){this._append`Q${+n},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,t,r,i,o,s){this._append`C${+n},${+t},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(n,t,r,i,o){if(n=+n,t=+t,r=+r,i=+i,(o=+o)<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-n,l=i-t,c=s-n,f=a-t,d=c*c+f*f;if(null===this._x1)this._append`M${this._x1=n},${this._y1=t}`;else if(d>it)if(Math.abs(f*u-l*c)>it&&o){let g=r-s,w=i-a,x=u*u+l*l,v=g*g+w*w,y=Math.sqrt(x),S=Math.sqrt(d),N=o*Math.tan((le-Math.acos((x+d-v)/(2*y*S)))/2),z=N/S,R=N/y;Math.abs(z-1)>it&&this._append`L${n+z*c},${t+z*f}`,this._append`A${o},${o},0,0,${+(f*g>c*w)},${this._x1=n+R*u},${this._y1=t+R*l}`}else this._append`L${this._x1=n},${this._y1=t}`}arc(n,t,r,i,o,s){if(n=+n,t=+t,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=n+a,c=t+u,f=1^s,d=s?i-o:o-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>it||Math.abs(this._y1-c)>it)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%ce+ce),d>Eo?this._append`A${r},${r},0,1,${f},${n-a},${t-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>it&&this._append`A${r},${r},0,${+(d>=le)},${f},${this._x1=n+r*Math.cos(o)},${this._y1=t+r*Math.sin(o)}`)}rect(n,t,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zo(e){return e[0]}function Mo(e){return e[1]}function Bo(e){return e.source}function No(e){return e.target}const M={selection:ot.ZP,select:Y.Z,max:function sn(e,n){let t;if(void 0===n)for(const r of e)null!=r&&(t<r||void 0===t&&r>=r)&&(t=r);else{let r=-1;for(let i of e)null!=(i=n(i,++r,e))&&(t<i||void 0===t&&i>=i)&&(t=i)}return t},min:function ln(e,n){let t;if(void 0===n)for(const r of e)null!=r&&(t>r||void 0===t&&r>=r)&&(t=r);else{let r=-1;for(let i of e)null!=(i=n(i,++r,e))&&(t>i||void 0===t&&i>=i)&&(t=i)}return t},sum:function cn(e,n){let t=0;if(void 0===n)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let i of e)(i=+n(i,++r,e))&&(t+=i)}return t},cumsum:function un(e,n){var t=0,r=0;return Float64Array.from(e,void 0===n?i=>t+=+i||0:i=>t+=+n(i,r++,e)||0)},tree:function Ln(){var e=Bn,n=1,t=1,r=null;function i(l){var c=function Xn(e){for(var t,i,o,s,a,n=new vt(e,0),r=[n];t=r.pop();)if(o=t._.children)for(t.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=t.children[s]=new vt(o[s],s)),i.parent=t;return(n.parent=new vt(null,0)).children=[n],n}(l);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)l.eachBefore(u);else{var f=l,d=l,g=l;l.eachBefore(function(S){S.x<f.x&&(f=S),S.x>d.x&&(d=S),S.depth>g.depth&&(g=S)});var w=f===d?1:e(f,d)/2,x=w-f.x,v=n/(d.x+w+x),y=t/(g.depth||1);l.eachBefore(function(S){S.x=(S.x+x)*v,S.y=S.depth*y})}return l}function o(l){var c=l.children,f=l.parent.children,d=l.i?f[l.i-1]:null;if(c){!function Tn(e){for(var o,n=0,t=0,r=e.children,i=r.length;--i>=0;)(o=r[i]).z+=n,o.m+=n,n+=o.s+(t+=o.c)}(l);var g=(c[0].z+c[c.length-1].z)/2;d?(l.z=d.z+e(l._,d._),l.m=l.z-g):l.z=g}else d&&(l.z=d.z+e(l._,d._));l.parent.A=function a(l,c,f){if(c){for(var z,d=l,g=l,w=c,x=d.parent.children[0],v=d.m,y=g.m,S=w.m,N=x.m;w=Ft(w),d=Pt(d),w&&d;)x=Pt(x),(g=Ft(g)).a=l,(z=w.z+S-d.z-v+e(w._,d._))>0&&(Nn(Rn(w,l,f),l,z),v+=z,y+=z),S+=w.m,v+=d.m,N+=x.m,y+=g.m;w&&!Ft(g)&&(g.t=w,g.m+=S-y),d&&!Pt(x)&&(x.t=d,x.m+=v-N,f=l)}return f}(l,d,l.parent.A||f[0])}function s(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function u(l){l.x*=n,l.y=l.depth*t}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,n=+l[0],t=+l[1],i):r?null:[n,t]},i.nodeSize=function(l){return arguments.length?(r=!0,n=+l[0],t=+l[1],i):r?[n,t]:null},i},stratify:function Hn(){var t,e=Yn,n=In;function r(i){var u,l,c,f,d,g,w,x,o=Array.from(i),s=e,a=n,v=new Map;if(null!=t){const y=o.map((z,R)=>function Pn(e){let n=(e=`${e}`).length;return Wt(e,n-1)&&!Wt(e,n-2)&&(e=e.slice(0,-1)),"/"===e[0]?e:`/${e}`}(t(z,R,i))),S=y.map(me),N=new Set(y).add("");for(const z of S)N.has(z)||(N.add(z),y.push(z),S.push(me(z)),o.push(Zt));s=(z,R)=>y[R],a=(z,R)=>S[R]}for(c=0,u=o.length;c<u;++c)g=o[c]=new at(l=o[c]),null!=(w=s(l,c,i))&&(w+="")&&(x=g.id=w,v.set(x,v.has(x)?ge:g)),null!=(w=a(l,c,i))&&(w+="")&&(g.parent=w);for(c=0;c<u;++c)if(w=(g=o[c]).parent){if(!(d=v.get(w)))throw new Error("missing: "+w);if(d===ge)throw new Error("ambiguous: "+w);d.children?d.children.push(g):d.children=[g],g.parent=d}else{if(f)throw new Error("multiple roots");f=g}if(!f)throw new Error("no root");if(null!=t){for(;f.data===Zt&&1===f.children.length;)f=f.children[0],--u;for(let y=o.length-1;y>=0&&(g=o[y]).data===Zt;--y)g.data=null}if(f.parent=Dn,f.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(pe),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=Ot(i),r):e},r.parentId=function(i){return arguments.length?(n=Ot(i),r):n},r.path=function(i){return arguments.length?(t=Ot(i),r):t},r},zoom:function Oi(){var c,f,d,e=Yi,n=Ii,t=Fi,r=Hi,i=Pi,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=qn,l=we("start","zoom","end"),g=500,w=150,x=0,v=10;function y(p){p.property("__zoom",Ke).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",_t).on("dblclick.zoom",Q).filter(i).on("touchstart.zoom",ct).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",on).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(p,b){return(b=Math.max(o[0],Math.min(o[1],b)))===p.k?p:new J(b,p.x,p.y)}function N(p,b,m){var E=b[0]-m[0]*p.k,k=b[1]-m[1]*p.k;return E===p.x&&k===p.y?p:new J(p.k,E,k)}function z(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function R(p,b,m,E){p.on("start.zoom",function(){X(this,arguments).event(E).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(E).end()}).tween("zoom",function(){var k=this,h=arguments,_=X(k,h).event(E),C=n.apply(k,h),$=null==m?z(C):"function"==typeof m?m.apply(k,h):m,T=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),B=k.__zoom,D="function"==typeof b?b.apply(k,h):b,V=u(B.invert($).concat(T/B.k),D.invert($).concat(T/D.k));return function(P){if(1===P)P=D;else{var q=V(P),he=T/q[2];P=new J(he,$[0]-q[0]*he,$[1]-q[1]*he)}_.zoom(null,P)}})}function X(p,b,m){return!m&&p.__zooming||new A(p,b)}function A(p,b){this.that=p,this.args=b,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,b),this.taps=0}function K(p,...b){if(e.apply(this,arguments)){var m=X(this,b).event(p),E=this.__zoom,k=Math.max(o[0],Math.min(o[1],E.k*Math.pow(2,r.apply(this,arguments)))),h=tt(p);if(m.wheel)(m.mouse[0][0]!==h[0]||m.mouse[0][1]!==h[1])&&(m.mouse[1]=E.invert(m.mouse[0]=h)),clearTimeout(m.wheel);else{if(E.k===k)return;m.mouse=[h,E.invert(h)],Bt(this),m.start()}wt(p),m.wheel=setTimeout(function _(){m.wheel=null,m.end()},w),m.zoom("mouse",t(N(S(E,k),m.mouse[0],m.mouse[1]),m.extent,s))}}function _t(p,...b){if(!d&&e.apply(this,arguments)){var m=p.currentTarget,E=X(this,b,!0).event(p),k=(0,Y.Z)(p.view).on("mousemove.zoom",function $(B){if(wt(B),!E.moved){var D=B.clientX-_,V=B.clientY-C;E.moved=D*D+V*V>x}E.event(B).zoom("mouse",t(N(E.that.__zoom,E.mouse[0]=tt(B,m),E.mouse[1]),E.extent,s))},!0).on("mouseup.zoom",function T(B){k.on("mousemove.zoom mouseup.zoom",null),function Gn(e,n){var t=e.document.documentElement,r=(0,Y.Z)(e).on("dragstart.drag",null);n&&(r.on("click.drag",Jt,Gt),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}(B.view,E.moved),wt(B),E.event(B).end()},!0),h=tt(p,m),_=p.clientX,C=p.clientY;(function Wn(e){var n=e.document.documentElement,t=(0,Y.Z)(e).on("dragstart.drag",Jt,Gt);"onselectstart"in n?t.on("selectstart.drag",Jt,Gt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")})(p.view),oe(p),E.mouse=[h,this.__zoom.invert(h)],Bt(this),E.start()}}function Q(p,...b){if(e.apply(this,arguments)){var m=this.__zoom,E=tt(p.changedTouches?p.changedTouches[0]:p,this),k=m.invert(E),_=t(N(S(m,m.k*(p.shiftKey?.5:2)),E,k),n.apply(this,b),s);wt(p),a>0?(0,Y.Z)(this).transition().duration(a).call(R,_,E,p):(0,Y.Z)(this).call(y.transform,_,E,p)}}function ct(p,...b){if(e.apply(this,arguments)){var h,_,C,$,m=p.touches,E=m.length,k=X(this,b,p.changedTouches.length===E).event(p);for(oe(p),_=0;_<E;++_)$=[$=tt(C=m[_],this),this.__zoom.invert($),C.identifier],k.touch0?!k.touch1&&k.touch0[2]!==$[2]&&(k.touch1=$,k.taps=0):(k.touch0=$,h=!0,k.taps=1+!!c);c&&(c=clearTimeout(c)),h&&(k.taps<2&&(f=$[0],c=setTimeout(function(){c=null},g)),Bt(this),k.start())}}function U(p,...b){if(this.__zooming){var h,_,C,$,m=X(this,b).event(p),E=p.changedTouches,k=E.length;for(wt(p),h=0;h<k;++h)C=tt(_=E[h],this),m.touch0&&m.touch0[2]===_.identifier?m.touch0[0]=C:m.touch1&&m.touch1[2]===_.identifier&&(m.touch1[0]=C);if(_=m.that.__zoom,m.touch1){var T=m.touch0[0],B=m.touch0[1],D=m.touch1[0],V=m.touch1[1],P=(P=D[0]-T[0])*P+(P=D[1]-T[1])*P,q=(q=V[0]-B[0])*q+(q=V[1]-B[1])*q;_=S(_,Math.sqrt(P/q)),C=[(T[0]+D[0])/2,(T[1]+D[1])/2],$=[(B[0]+V[0])/2,(B[1]+V[1])/2]}else{if(!m.touch0)return;C=m.touch0[0],$=m.touch0[1]}m.zoom("touch",t(N(_,C,$),m.extent,s))}}function on(p,...b){if(this.__zooming){var h,_,m=X(this,b).event(p),E=p.changedTouches,k=E.length;for(oe(p),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),h=0;h<k;++h)_=E[h],m.touch0&&m.touch0[2]===_.identifier?delete m.touch0:m.touch1&&m.touch1[2]===_.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),2===m.taps&&(_=tt(_,this),Math.hypot(f[0]-_[0],f[1]-_[1])<v)){var C=(0,Y.Z)(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return y.transform=function(p,b,m,E){var k=p.selection?p.selection():p;k.property("__zoom",Ke),p!==k?R(p,b,m,E):k.interrupt().each(function(){X(this,arguments).event(E).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},y.scaleBy=function(p,b,m,E){y.scaleTo(p,function(){return this.__zoom.k*("function"==typeof b?b.apply(this,arguments):b)},m,E)},y.scaleTo=function(p,b,m,E){y.transform(p,function(){var k=n.apply(this,arguments),h=this.__zoom,_=null==m?z(k):"function"==typeof m?m.apply(this,arguments):m,C=h.invert(_),$="function"==typeof b?b.apply(this,arguments):b;return t(N(S(h,$),_,C),k,s)},m,E)},y.translateBy=function(p,b,m,E){y.transform(p,function(){return t(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof m?m.apply(this,arguments):m),n.apply(this,arguments),s)},null,E)},y.translateTo=function(p,b,m,E,k){y.transform(p,function(){var h=n.apply(this,arguments),_=this.__zoom,C=null==E?z(h):"function"==typeof E?E.apply(this,arguments):E;return t(Yt.translate(C[0],C[1]).scale(_.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof m?-m.apply(this,arguments):-m),h,s)},E,k)},A.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,b){return this.mouse&&"mouse"!==p&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==p&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==p&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var b=(0,Y.Z)(this.that).datum();l.call(p,this.that,new Ai(p,{sourceEvent:this.sourceEvent,target:y,type:p,transform:this.that.__zoom,dispatch:l}),b)}},y.wheelDelta=function(p){return arguments.length?(r="function"==typeof p?p:Dt(+p),y):r},y.filter=function(p){return arguments.length?(e="function"==typeof p?p:Dt(!!p),y):e},y.touchable=function(p){return arguments.length?(i="function"==typeof p?p:Dt(!!p),y):i},y.extent=function(p){return arguments.length?(n="function"==typeof p?p:Dt([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),y):n},y.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],y):[o[0],o[1]]},y.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(p){return arguments.length?(t=p,y):t},y.duration=function(p){return arguments.length?(a=+p,y):a},y.interpolate=function(p){return arguments.length?(u=p,y):u},y.on=function(){var p=l.on.apply(l,arguments);return p===l?y:p},y.clickDistance=function(p){return arguments.length?(x=(p=+p)*p,y):Math.sqrt(x)},y.tapDistance=function(p){return arguments.length?(v=+p,y):v},y},zoomIdentity:Yt,linkHorizontal:function To(){return function ue(e){let n=Bo,t=No,r=zo,i=Mo,o=null,s=null,a=function So(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);n=r}return e},()=>new Ht(n)}(u);function u(){let l;const c=vo.call(arguments),f=n.apply(this,c),d=t.apply(this,c);if(null==o&&(s=e(l=a())),s.lineStart(),c[0]=f,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return u.source=function(l){return arguments.length?(n=l,u):n},u.target=function(l){return arguments.length?(t=l,u):t},u.x=function(l){return arguments.length?(r="function"==typeof l?l:en(+l),u):r},u.y=function(l){return arguments.length?(i="function"==typeof l?l:en(+l),u):i},u.context=function(l){return arguments.length?(null==l?o=s=null:s=e(o=l),u):o},u}(bo)},flextree:se};class Ro{constructor(){const n={id:`ID${Math.floor(1e6*Math.random())}`,firstDraw:!0,ctx:document.createElement("canvas").getContext("2d"),initialExpandLevel:1,nodeDefaultBackground:"none",lastTransform:{x:0,y:0,k:1},allowedNodesCount:{},zoomBehavior:null,generateRoot:null,svgWidth:800,svgHeight:window.innerHeight-100,container:"body",data:null,connections:[],defaultFont:"Helvetica",nodeId:t=>t.nodeId||t.id,parentNodeId:t=>t.parentNodeId||t.parentId,rootMargin:40,nodeWidth:t=>250,nodeHeight:t=>150,neighbourMargin:(t,r)=>80,siblingsMargin:t=>20,childrenMargin:t=>60,compactMarginPair:t=>100,compactMarginBetween:t=>20,nodeButtonWidth:t=>40,nodeButtonHeight:t=>40,nodeButtonX:t=>-20,nodeButtonY:t=>-20,linkYOffset:30,pagingStep:t=>5,minPagingVisibleNodes:t=>2e3,scaleExtent:[.001,20],duration:400,imageName:"Chart",setActiveNodeCentered:!0,layout:"top",compact:!0,createZoom:t=>M.zoom(),onZoomStart:t=>{},onZoom:t=>{},onZoomEnd:t=>{},onNodeClick:t=>t,onExpandOrCollapse:t=>t,nodeContent:t=>`<div style="padding:5px;font-size:10px;">Sample Node(id=${t.id}), override using <br/> \n            <code>chart.nodeContent({data}=>{ <br/>\n             &nbsp;&nbsp;&nbsp;&nbsp;return '' // Custom HTML <br/>\n             })</code>\n             <br/> \n             Or check different <a href="https://github.com/bumbeishvili/org-chart#jump-to-examples" target="_blank">layout examples</a>\n             </div>`,buttonContent:({node:t,state:r})=>`<div style="border:1px solid #E4E2E9;border-radius:3px;padding:3px;font-size:9px;margin:auto auto;background-color:white"> ${{left:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>\n                      </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>\n                          </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`,bottom:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="margin-left:1px;color:#716E7B" >${t.data._directSubordinatesPaging} </span></div>\n                       `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="margin-left:1px;color:#716E7B" >${t.data._directSubordinatesPaging} </span></div>\n                    `,right:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`,top:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>\n                        </svg></span><span style="margin-left:1px;color:#716E7B">${t.data._directSubordinatesPaging} </span></div>\n                        `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>\n                        </svg></span><span style="margin-left:1px;color:#716E7B">${t.data._directSubordinatesPaging} </span></div>\n                    `}[r.layout](t.children)}  </div>`,pagingButton:(t,r,i,o)=>{const s=o.pagingStep(t.parent);return`\n                   <div style="margin-top:90px;">\n                      <div style="display:flex;width:170px;border-radius:20px;padding:5px 15px; padding-bottom:4px;;background-color:#E5E9F2">\n                      <div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M5.59 7.41L10.18 12L5.59 16.59L7 18L13 12L7 6L5.59 7.41ZM16 6H18V18H16V6Z" fill="#716E7B" stroke="#716E7B"/>\n                      </svg>\n                      </div><div style="line-height:2"> Show next ${Math.min(t.parent.data._directSubordinatesPaging-t.parent.data._pagingStep,s)}  nodes </div></div>\n                   </div>\n                `},nodeUpdate:function(t,r,i){M.select(this).select(".node-rect").attr("stroke",o=>o.data._highlighted||o.data._upToTheRootHighlighted?"#E27396":"none").attr("stroke-width",t.data._highlighted||t.data._upToTheRootHighlighted?10:1)},nodeEnter:t=>t,nodeExit:t=>t,linkUpdate:function(t,r,i){M.select(this).attr("stroke",o=>o.data._upToTheRootHighlighted?"#E27396":"#E4E2E9").attr("stroke-width",o=>o.data._upToTheRootHighlighted?5:1),t.data._upToTheRootHighlighted&&M.select(this).raise()},hdiagonal:function(t,r,i){const o=t.x,s=t.y,a=r.x,u=r.y;let l=i&&null!=i.x?i.x:o,c=i&&null!=i.y?i.y:s,f=a-o<0?-1:1,d=u-s<0?-1:1,w=Math.abs(a-o)/2<35?Math.abs(a-o)/2:35;w=Math.abs(u-s)/2<w?Math.abs(u-s)/2:w,Math.abs(u-s);let v=Math.abs(a-o)/2-w;return`\n                          M ${l} ${c}\n                          L ${l} ${s}\n                          L ${o} ${s}\n                          L ${o+v*f} ${s}\n                          C ${o+v*f+w*f} ${s} \n                            ${o+v*f+w*f} ${s} \n                            ${o+v*f+w*f} ${s+w*d}\n                          L ${o+v*f+w*f} ${u-w*d} \n                          C ${o+v*f+w*f}  ${u} \n                            ${o+v*f+w*f}  ${u} \n                            ${a-v*f}  ${u}\n                          L ${a} ${u}\n               `},diagonal:function(t,r,i,o={sy:0}){const s=t.x;let a=t.y;const u=r.x,l=r.y;let c=i&&null!=i.x?i.x:s,f=i&&null!=i.y?i.y:a,d=u-s<0?-1:1,g=l-a<0?-1:1;a+=o.sy;let x=Math.abs(u-s)/2<35?Math.abs(u-s)/2:35;x=Math.abs(l-a)/2<x?Math.abs(l-a)/2:x;let v=Math.abs(l-a)/2-x;return`\n                          M ${c} ${f}\n                          L ${s} ${f}\n                          L ${s} ${a}\n                          L ${s} ${a+v*g}\n                          C  ${s} ${a+v*g+x*g} ${s} ${a+v*g+x*g} ${s+x*d} ${a+v*g+x*g}\n                          L ${s+(Math.abs(u-s)-2*x)*d+x*d} ${a+v*g+x*g}\n                          C  ${u}  ${a+v*g+x*g} ${u}  ${a+v*g+x*g} ${u} ${l-v*g}\n                          L ${u} ${l}\n               `},defs:function(t,r){return`<defs>\n                    ${r.map(i=>{const o=this.getTextWidth(i.label,{ctx:t.ctx,fontSize:2,defaultFont:t.defaultFont});return`\n                       <marker id="${i.from+"_"+i.to}" refX="${i._source.x<i._target.x?-7:7}" refY="5" markerWidth="500"  markerHeight="500"  orient="${i._source.x<i._target.x?"auto":"auto-start-reverse"}" >\n                       <rect rx=0.5 width=${i.label?o+3:0} height=3 y=1  fill="#E27396"></rect>\n                       <text font-size="2px" x=1 fill="white" y=3>${i.label||""}</text>\n                       </marker>\n\n                       <marker id="arrow-${i.from+"_"+i.to}"  markerWidth="500"  markerHeight="500"  refY="2"  refX="1" orient="${i._source.x<i._target.x?"auto":"auto-start-reverse"}" >\n                       <path transform="translate(0)" d='M0,0 V4 L2,2 Z' fill='#E27396' />\n                       </marker>\n                    `}).join("")}\n                    </defs>\n                    `},connectionsUpdate:function(t,r,i){M.select(this).attr("stroke",o=>"#E27396").attr("stroke-linecap","round").attr("stroke-width",o=>"5").attr("pointer-events","none").attr("marker-start",o=>`url(#${o.from+"_"+o.to})`).attr("marker-end",o=>`url(#arrow-${o.from+"_"+o.to})`)},linkGroupArc:M.linkHorizontal().x(t=>t.x).y(t=>t.y),layoutBindings:{left:{nodeLeftX:t=>0,nodeRightX:t=>t.width,nodeTopY:t=>-t.height/2,nodeBottomY:t=>t.height/2,nodeJoinX:t=>t.x+t.width,nodeJoinY:t=>t.y-t.height/2,linkJoinX:t=>t.x+t.width,linkJoinY:t=>t.y,linkX:t=>t.x,linkY:t=>t.y,linkCompactXStart:t=>t.x+t.width/2,linkCompactYStart:t=>t.y+(t.compactEven?t.height/2:-t.height/2),compactLinkMidX:(t,r)=>t.firstCompactNode.x,compactLinkMidY:(t,r)=>t.firstCompactNode.y+t.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(t)/4,linkParentX:t=>t.parent.x+t.parent.width,linkParentY:t=>t.parent.y,buttonX:t=>t.width,buttonY:t=>t.height/2,centerTransform:({rootMargin:r,centerY:i,scale:o})=>`translate(${r},${i}) scale(${o})`,compactDimension:{sizeColumn:t=>t.height,sizeRow:t=>t.width,reverse:t=>t.slice().reverse()},nodeFlexSize:({height:t,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[t+i,r+o],zoomTransform:({centerY:t,scale:r})=>`translate(0,${t}) scale(${r})`,diagonal:this.hdiagonal.bind(this),swap:t=>{const r=t.x;t.x=t.y,t.y=r},nodeUpdateTransform:({x:t,y:r,height:o})=>`translate(${t},${r-o/2})`},top:{nodeLeftX:t=>-t.width/2,nodeRightX:t=>t.width/2,nodeTopY:t=>0,nodeBottomY:t=>t.height,nodeJoinX:t=>t.x-t.width/2,nodeJoinY:t=>t.y+t.height,linkJoinX:t=>t.x,linkJoinY:t=>t.y+t.height,linkCompactXStart:t=>t.x+(t.compactEven?t.width/2:-t.width/2),linkCompactYStart:t=>t.y+t.height/2,compactLinkMidX:(t,r)=>t.firstCompactNode.x+t.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(t)/4,compactLinkMidY:t=>t.firstCompactNode.y,compactDimension:{sizeColumn:t=>t.width,sizeRow:t=>t.height,reverse:t=>t},linkX:t=>t.x,linkY:t=>t.y,linkParentX:t=>t.parent.x,linkParentY:t=>t.parent.y+t.parent.height,buttonX:t=>t.width/2,buttonY:t=>t.height,centerTransform:({rootMargin:r,scale:o,centerX:s})=>`translate(${s},${r}) scale(${o})`,nodeFlexSize:({height:t,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[r+i,t+o],zoomTransform:({centerX:t,scale:r})=>`translate(${t},0}) scale(${r})`,diagonal:this.diagonal.bind(this),swap:t=>{},nodeUpdateTransform:({x:t,y:r,width:i})=>`translate(${t-i/2},${r})`},bottom:{nodeLeftX:t=>-t.width/2,nodeRightX:t=>t.width/2,nodeTopY:t=>-t.height,nodeBottomY:t=>0,nodeJoinX:t=>t.x-t.width/2,nodeJoinY:t=>t.y-t.height-t.height,linkJoinX:t=>t.x,linkJoinY:t=>t.y-t.height,linkCompactXStart:t=>t.x+(t.compactEven?t.width/2:-t.width/2),linkCompactYStart:t=>t.y-t.height/2,compactLinkMidX:(t,r)=>t.firstCompactNode.x+t.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(t)/4,compactLinkMidY:t=>t.firstCompactNode.y,linkX:t=>t.x,linkY:t=>t.y,compactDimension:{sizeColumn:t=>t.width,sizeRow:t=>t.height,reverse:t=>t},linkParentX:t=>t.parent.x,linkParentY:t=>t.parent.y-t.parent.height,buttonX:t=>t.width/2,buttonY:t=>0,centerTransform:({rootMargin:r,scale:o,centerX:s,chartHeight:a})=>`translate(${s},${a-r}) scale(${o})`,nodeFlexSize:({height:t,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[r+i,t+o],zoomTransform:({centerX:t,scale:r})=>`translate(${t},0}) scale(${r})`,diagonal:this.diagonal.bind(this),swap:t=>{t.y=-t.y},nodeUpdateTransform:({x:t,y:r,width:i,height:o})=>`translate(${t-i/2},${r-o})`},right:{nodeLeftX:t=>-t.width,nodeRightX:t=>0,nodeTopY:t=>-t.height/2,nodeBottomY:t=>t.height/2,nodeJoinX:t=>t.x-t.width-t.width,nodeJoinY:t=>t.y-t.height/2,linkJoinX:t=>t.x-t.width,linkJoinY:t=>t.y,linkX:t=>t.x,linkY:t=>t.y,linkParentX:t=>t.parent.x-t.parent.width,linkParentY:t=>t.parent.y,buttonX:t=>0,buttonY:t=>t.height/2,linkCompactXStart:t=>t.x-t.width/2,linkCompactYStart:t=>t.y+(t.compactEven?t.height/2:-t.height/2),compactLinkMidX:(t,r)=>t.firstCompactNode.x,compactLinkMidY:(t,r)=>t.firstCompactNode.y+t.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(t)/4,centerTransform:({rootMargin:r,centerY:i,scale:o,chartWidth:a})=>`translate(${a-r},${i}) scale(${o})`,nodeFlexSize:({height:t,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[t+i,r+o],compactDimension:{sizeColumn:t=>t.height,sizeRow:t=>t.width,reverse:t=>t.slice().reverse()},zoomTransform:({centerY:t,scale:r})=>`translate(0,${t}) scale(${r})`,diagonal:this.hdiagonal.bind(this),swap:t=>{const r=t.x;t.x=-t.y,t.y=r},nodeUpdateTransform:({x:t,y:r,width:i,height:o})=>`translate(${t-i},${r-o/2})`}}};this.getChartState=()=>n,Object.keys(n).forEach(t=>{this[t]=function(r){return arguments.length?(n[t]=r,this):n[t]}}),this.initializeEnterExitUpdatePattern()}initializeEnterExitUpdatePattern(){M.selection.prototype.patternify=function(n){var r=n.selector,i=n.tag,o=n.data||[r],s=this.selectAll("."+r).data(o,(a,u)=>"object"==typeof a&&a.id?a.id:u);return s.exit().remove(),(s=s.enter().append(i).merge(s)).attr("class",r),s}}getNodeChildren({data:n,children:t,_children:r},i){return i.push(n),t&&t.forEach(o=>{this.getNodeChildren(o,i)}),r&&r.forEach(o=>{this.getNodeChildren(o,i)}),i}initialZoom(n){return this.getChartState().lastTransform.k=n,this}render(){const n=this.getChartState();if(!n.data||0==n.data.length)return console.log("ORG CHART - Data is empty"),n.container&&((0,Y.Z)(n.container).select(".nodes-wrapper").remove(),(0,Y.Z)(n.container).select(".links-wrapper").remove(),(0,Y.Z)(n.container).select(".connections-wrapper").remove()),this;const t=M.select(n.container),r=t.node().getBoundingClientRect();r.width>0&&(n.svgWidth=r.width);const i={id:`ID${Math.floor(1e6*Math.random())}`,chartWidth:n.svgWidth,chartHeight:n.svgHeight};if(n.calc=i,i.centerX=i.chartWidth/2,i.centerY=i.chartHeight/2,n.firstDraw){const a={zoom:null};a.zoom=n.createZoom().clickDistance(10).on("start",(u,l)=>n.onZoomStart(u)).on("end",(u,l)=>n.onZoomEnd(u)).on("zoom",(u,l)=>{n.onZoom(u),this.zoomed(u,l)}).scaleExtent(n.scaleExtent),n.zoomBehavior=a.zoom}n.flexTreeLayout=se({nodeSize:a=>{const u=n.nodeWidth(a),l=n.nodeHeight(a),c=n.siblingsMargin(a),f=n.childrenMargin(a);return n.layoutBindings[n.layout].nodeFlexSize({state:n,node:a,width:u,height:l,siblingsMargin:c,childrenMargin:f})}}).spacing((a,u)=>a.parent==u.parent?0:n.neighbourMargin(a,u)),this.setLayouts({expandNodesFirst:!1});const o=t.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",n.svgWidth).attr("height",n.svgHeight).attr("font-family",n.defaultFont);n.firstDraw&&o.call(n.zoomBehavior).on("dblclick.zoom",null).attr("cursor","move"),n.svg=o;const s=o.patternify({tag:"g",selector:"chart"});return n.centerG=s.patternify({tag:"g",selector:"center-group"}),n.linksWrapper=n.centerG.patternify({tag:"g",selector:"links-wrapper"}),n.nodesWrapper=n.centerG.patternify({tag:"g",selector:"nodes-wrapper"}),n.connectionsWrapper=n.centerG.patternify({tag:"g",selector:"connections-wrapper"}),n.defsWrapper=o.patternify({tag:"g",selector:"defs-wrapper"}),n.firstDraw&&n.centerG.attr("transform",()=>n.layoutBindings[n.layout].centerTransform({centerX:i.centerX,centerY:i.centerY,scale:n.lastTransform.k,rootMargin:n.rootMargin,root:n.root,chartHeight:i.chartHeight,chartWidth:i.chartWidth})),n.chart=s,this.update(n.root),M.select(window).on(`resize.${n.id}`,()=>{const a=M.select(n.container).node().getBoundingClientRect();n.svg.attr("width",a.width)}),n.firstDraw&&(n.firstDraw=!1),this}addNode(n){const t=this.getChartState();if(n&&(null==t.parentNodeId(n)||t.parentNodeId(n)==t.nodeId(n))&&0==t.data.length)return t.data.push(n),this.render(),this;const i=t.generateRoot(t.data).descendants(),o=i.filter(({data:a})=>t.nodeId(a).toString()===t.nodeId(n).toString())[0];return i.filter(({data:a})=>t.nodeId(a).toString()===t.parentNodeId(n).toString()),o?(console.log(`ORG CHART - ADD - Node with id "${t.nodeId(n)}" already exists in tree`),this):(n._centered&&!n._expanded&&(n._expanded=!0),t.data.push(n),this.updateNodesState(),this)}removeNode(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(({data:a})=>t.nodeId(a)==n)[0];return o?(o.descendants().forEach(a=>a.data._filteredOut=!0),t.data=t.data.filter(a=>!a._filteredOut),0==t.data.length?this.render():this.updateNodesState.bind(this)(),this):(console.log(`ORG CHART - REMOVE - Node with id "${n}" not found in the tree`),this)}groupBy(n,t,r){const i={};return n.forEach(o=>{const s=t(o);i[s]||(i[s]=[]),i[s].push(o)}),Object.keys(i).forEach(o=>{i[o]=r(i[o])}),Object.entries(i)}calculateCompactFlexDimensions(n){const t=this.getChartState();n.eachBefore(r=>{r.firstCompact=null,r.compactEven=null,r.flexCompactDim=null,r.firstCompactNode=null}),n.eachBefore(r=>{if(r.children&&r.children.length>1){const i=r.children.filter(c=>!c.children);if(i.length<2)return;i.forEach((c,f)=>{f||(c.firstCompact=!0),c.compactEven=!(f%2),c.row=Math.floor(f/2)});const o=M.max(i.filter(c=>c.compactEven),t.layoutBindings[t.layout].compactDimension.sizeColumn),s=M.max(i.filter(c=>!c.compactEven),t.layoutBindings[t.layout].compactDimension.sizeColumn),a=2*Math.max(o,s),u=this.groupBy(i,c=>c.row,c=>M.max(c,f=>t.layoutBindings[t.layout].compactDimension.sizeRow(f)+t.compactMarginBetween(f))),l=M.sum(u.map(c=>c[1]));i.forEach(c=>{c.firstCompactNode=i[0],c.flexCompactDim=c.firstCompact?[a+t.compactMarginPair(c),l-t.compactMarginBetween(c)]:[0,0]}),r.flexCompactDim=null}})}calculateCompactFlexPositions(n){const t=this.getChartState();n.eachBefore(r=>{if(r.children){const i=r.children.filter(c=>c.flexCompactDim),o=i[0];if(!o)return;i.forEach((c,f,d)=>{0==f&&(o.x-=o.flexCompactDim[0]/2),f&f%2-1?c.x=o.x+.25*o.flexCompactDim[0]-t.compactMarginPair(c)/4:f&&(c.x=o.x+.75*o.flexCompactDim[0]+t.compactMarginPair(c)/4)});const s=o.x+.5*o.flexCompactDim[0];o.x=o.x+.25*o.flexCompactDim[0]-t.compactMarginPair(o)/4;const a=r.x-s;Math.abs(a)<10&&i.forEach(c=>c.x+=a);const u=this.groupBy(i,c=>c.row,c=>M.max(c,f=>t.layoutBindings[t.layout].compactDimension.sizeRow(f))),l=M.cumsum(u.map(c=>c[1]+t.compactMarginBetween(c)));i.forEach((c,f)=>{c.y=c.row?o.y+l[c.row-1]:o.y})}})}update({x0:n,y0:t,x:r=0,y:i=0,width:o,height:s}){const a=this.getChartState();a.compact&&this.calculateCompactFlexDimensions(a.root);const l=a.flexTreeLayout(a.root);a.compact&&this.calculateCompactFlexPositions(a.root);const c=l.descendants(),f=l.descendants().slice(1);c.forEach(a.layoutBindings[a.layout].swap);const d=a.connections,g={};a.allNodes.forEach(h=>g[a.nodeId(h.data)]=h);const w={};c.forEach(h=>w[a.nodeId(h.data)]=h),d.forEach(h=>{const C=g[h.to];h._source=g[h.from],h._target=C});const x=d.filter(h=>w[h.from]&&w[h.to]),v=a.defs.bind(this)(a,x);v!==a.defsWrapper.html()&&a.defsWrapper.html(v);const S=a.linksWrapper.selectAll("path.link").data(f,h=>a.nodeId(h.data)),z=S.enter().insert("path","g").attr("class","link").attr("d",h=>{const $={x:a.layoutBindings[a.layout].linkJoinX({x:n,y:t,width:o,height:s}),y:a.layoutBindings[a.layout].linkJoinY({x:n,y:t,width:o,height:s})};return a.layoutBindings[a.layout].diagonal($,$,$)}).merge(S);z.attr("fill","none"),this.isEdge()?z.style("display",h=>h.data._pagingButton?"none":"auto"):z.attr("display",h=>h.data._pagingButton?"none":"auto"),z.each(a.linkUpdate),z.transition().duration(a.duration).attr("d",h=>{const _=a.compact&&h.flexCompactDim?{x:a.layoutBindings[a.layout].compactLinkMidX(h,a),y:a.layoutBindings[a.layout].compactLinkMidY(h,a)}:{x:a.layoutBindings[a.layout].linkX(h),y:a.layoutBindings[a.layout].linkY(h)},C={x:a.layoutBindings[a.layout].linkParentX(h),y:a.layoutBindings[a.layout].linkParentY(h)},$=a.compact&&h.flexCompactDim?{x:a.layoutBindings[a.layout].linkCompactXStart(h),y:a.layoutBindings[a.layout].linkCompactYStart(h)}:_;return a.layoutBindings[a.layout].diagonal(_,C,$,{sy:a.linkYOffset})}),S.exit().transition().duration(a.duration).attr("d",h=>{const $={x:a.layoutBindings[a.layout].linkJoinX({x:r,y:i,width:o,height:s}),y:a.layoutBindings[a.layout].linkJoinY({x:r,y:i,width:o,height:s})};return a.layoutBindings[a.layout].diagonal($,$,null,{sy:a.linkYOffset})}).remove();const X=a.connectionsWrapper.selectAll("path.connection").data(x),K=X.enter().insert("path","g").attr("class","connection").attr("d",h=>{const $={x:a.layoutBindings[a.layout].linkJoinX({x:n,y:t,width:o,height:s}),y:a.layoutBindings[a.layout].linkJoinY({x:n,y:t,width:o,height:s})};return a.layoutBindings[a.layout].diagonal($,$,null,{sy:a.linkYOffset})}).merge(X);K.attr("fill","none"),K.transition().duration(a.duration).attr("d",h=>{const _=a.layoutBindings[a.layout].linkX({x:h._source.x,y:h._source.y,width:h._source.width,height:h._source.height}),C=a.layoutBindings[a.layout].linkY({x:h._source.x,y:h._source.y,width:h._source.width,height:h._source.height}),$=a.layoutBindings[a.layout].linkJoinX({x:h._target.x,y:h._target.y,width:h._target.width,height:h._target.height}),T=a.layoutBindings[a.layout].linkJoinY({x:h._target.x,y:h._target.y,width:h._target.width,height:h._target.height});return a.linkGroupArc({source:{x:_,y:C},target:{x:$,y:T}})}),K.each(a.connectionsUpdate),X.exit().transition().duration(a.duration).attr("opacity",0).remove();const Q=a.nodesWrapper.selectAll("g.node").data(c,({data:h})=>a.nodeId(h)),ct=Q.enter().append("g").attr("class","node").attr("transform",h=>h==a.root?`translate(${n},${t})`:`translate(${a.layoutBindings[a.layout].nodeJoinX({x:n,y:t,width:o,height:s})},${a.layoutBindings[a.layout].nodeJoinY({x:n,y:t,width:o,height:s})})`).attr("cursor","pointer").on("click.node",(h,_)=>{const{data:C}=_;if(![...h.srcElement.classList].includes("node-button-foreign-object")){if([...h.srcElement.classList].includes("paging-button-wrapper"))return void this.loadPagingNodes(_);if(!C._pagingButton)return void a.onNodeClick(_);console.log("event fired, no handlers")}}).on("keydown.node",(h,_)=>{if("Enter"===h.key||" "===h.key||"Spacebar"===h.key){if([...h.srcElement.classList].includes("node-button-foreign-object"))return;if([...h.srcElement.classList].includes("paging-button-wrapper"))return void this.loadPagingNodes(_);("Enter"===h.key||" "===h.key||"Spacebar"===h.key)&&this.onButtonClick(h,_)}});ct.each(a.nodeEnter),ct.patternify({tag:"rect",selector:"node-rect",data:h=>[h]});const U=ct.merge(Q).style("font","12px sans-serif");U.patternify({tag:"foreignObject",selector:"node-foreign-object",data:h=>[h]}).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-foreign-object-div",data:h=>[h]}),this.restyleForeignObjectElements();const p=ct.patternify({tag:"g",selector:"node-button-g",data:h=>[h]}).on("click",(h,_)=>this.onButtonClick(h,_)).on("keydown",(h,_)=>{("Enter"===h.key||" "===h.key||"Spacebar"===h.key)&&this.onButtonClick(h,_)});p.patternify({tag:"rect",selector:"node-button-rect",data:h=>[h]}).attr("opacity",0).attr("pointer-events","all").attr("width",h=>a.nodeButtonWidth(h)).attr("height",h=>a.nodeButtonHeight(h)).attr("x",h=>a.nodeButtonX(h)).attr("y",h=>a.nodeButtonY(h)),p.patternify({tag:"foreignObject",selector:"node-button-foreign-object",data:h=>[h]}).attr("width",h=>a.nodeButtonWidth(h)).attr("height",h=>a.nodeButtonHeight(h)).attr("x",h=>a.nodeButtonX(h)).attr("y",h=>a.nodeButtonY(h)).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-button-div",data:h=>[h]}).style("pointer-events","none").style("display","flex").style("width","100%").style("height","100%"),U.transition().attr("opacity",0).duration(a.duration).attr("transform",({x:h,y:_,width:C,height:$})=>a.layoutBindings[a.layout].nodeUpdateTransform({x:h,y:_,width:C,height:$})).attr("opacity",1),U.select(".node-rect").attr("width",({width:h})=>h).attr("height",({height:h})=>h).attr("x",({})=>0).attr("y",({})=>0).attr("cursor","pointer").attr("rx",3).attr("fill",a.nodeDefaultBackground),U.select(".node-button-g").attr("transform",({width:_,height:C})=>`translate(${a.layoutBindings[a.layout].buttonX({width:_,height:C})},${a.layoutBindings[a.layout].buttonY({width:_,height:C})})`).attr("display",({data:h})=>h._directSubordinates>0?null:"none").attr("opacity",({data:h,children:_,_children:C})=>h._pagingButton?0:_||C?1:0),U.select(".node-button-foreign-object .node-button-div").html(h=>a.buttonContent({node:h,state:a})),U.select(".node-button-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size",({children:h})=>h?40:26).text(({children:h})=>h?"-":"+").attr("y",this.isEdge()?10:0),U.each(a.nodeUpdate);const m=Q.exit();m.each(a.nodeExit);const E=m.data().reduce((h,_)=>h.depth<_.depth?h:_,{depth:1/0});m.attr("opacity",1).transition().duration(a.duration).attr("transform",h=>{let{x:_,y:C,width:$,height:T}=E.parent||{};return`translate(${a.layoutBindings[a.layout].nodeJoinX({x:_,y:C,width:$,height:T})},${a.layoutBindings[a.layout].nodeJoinY({x:_,y:C,width:$,height:T})})`}).on("end",function(){M.select(this).remove()}).attr("opacity",0),c.forEach(h=>{h.x0=h.x,h.y0=h.y});const k=a.allNodes.filter(h=>h.data._centered)[0];if(k){let h=[k];k.data._centeredWithDescendants&&(h=a.compact?k.descendants().filter((_,C)=>C<7):k.descendants().filter((_,C,$)=>{const T=Math.round($.length/2);return $.length%2?C>T-2&&C<T+2-1:C>T-2&&C<T+2})),k.data._centeredWithDescendants=null,k.data._centered=null,this.fit({animate:!0,scale:!1,nodes:h})}}isEdge(){return window.navigator.userAgent.includes("Edge")}hdiagonal(n,t,r,i){return this.getChartState().hdiagonal(n,t,r,i)}diagonal(n,t,r,i){return this.getChartState().diagonal(n,t,r,i)}restyleForeignObjectElements(){const n=this.getChartState();n.svg.selectAll(".node-foreign-object").attr("width",({width:t})=>t).attr("height",({height:t})=>t).attr("x",({})=>0).attr("y",({})=>0),n.svg.selectAll(".node-foreign-object-div").style("width",({width:t})=>`${t}px`).style("height",({height:t})=>`${t}px`).html(function(t,r,i){return t.data._pagingButton?`<div class="paging-button-wrapper"><div style="pointer-events:none">${n.pagingButton(t,r,i,n)}</div></div>`:n.nodeContent.bind(this)(t,r,i,n)})}onButtonClick(n,t){const r=this.getChartState();t.data._pagingButton||(r.setActiveNodeCentered&&(t.data._centered=!0,t.data._centeredWithDescendants=!0),t.children?(t._children=t.children,t.children=null,this.setExpansionFlagToChildren(t,!1)):(t.children=t._children,t._children=null,t.children&&t.children.forEach(({data:i})=>i._expanded=!0)),this.update(t),n.stopPropagation(),r.onExpandOrCollapse(t))}setExpansionFlagToChildren({data:n,children:t,_children:r},i){n._expanded=i,t&&t.forEach(o=>{this.setExpansionFlagToChildren(o,i)}),r&&r.forEach(o=>{this.setExpansionFlagToChildren(o,i)})}expandSomeNodes(n){if(n.data._expanded){let t=n.parent;for(;t&&t._children;)t.children=t._children,t._children=null,t=t.parent}n._children&&n._children.forEach(t=>this.expandSomeNodes(t)),n.children&&n.children.forEach(t=>this.expandSomeNodes(t))}updateNodesState(){const n=this.getChartState();this.setLayouts({expandNodesFirst:!0}),this.update(n.root)}setLayouts({expandNodesFirst:n=!0}){const t=this.getChartState();t.generateRoot=M.stratify().id(o=>t.nodeId(o)).parentId(o=>t.parentNodeId(o)),t.root=t.generateRoot(t.data);const r=t.root.descendants();t.initialExpandLevel>1&&r.length>0&&(r.forEach(o=>{o.depth<=t.initialExpandLevel&&(o.data._expanded=!0)}),t.initialExpandLevel=1);const i={};t.root.descendants().filter(o=>o.children).filter(o=>!o.data._pagingStep).forEach(o=>{o.data._pagingStep=t.minPagingVisibleNodes(o)}),t.root.eachBefore((o,s)=>{o.data._directSubordinatesPaging=o.children?o.children.length:0,o.children&&o.children.forEach((a,u)=>{if(a.data._pagingButton=!1,u>o.data._pagingStep&&(i[a.id]=!0),u===o.data._pagingStep&&o.children.length-1>o.data._pagingStep&&(a.data._pagingButton=!0),i[a.parent.id]&&(i[a.id]=!0),a.data._expanded||a.data._centered||a.data._highlighted||a.data._upToTheRootHighlighted){let l=a;for(;l&&(i[l.id]||l.data._pagingButton);)i[l.id]=!1,l.data._pagingButton&&(l.data._pagingButton=!1,l.parent.children.forEach(c=>{c.data._expanded=!0,i[c.id]=!1})),l=l.parent}})}),t.root=M.stratify().id(o=>t.nodeId(o)).parentId(o=>t.parentNodeId(o))(t.data.filter(o=>!0!==i[o.id])),t.root.each((o,s,a)=>{let u=o._hierarchyHeight||o.height,l=t.nodeWidth(o),c=t.nodeHeight(o);Object.assign(o,{width:l,height:c,_hierarchyHeight:u})}),t.root.x0=0,t.root.y0=0,t.allNodes=t.root.descendants(),t.allNodes.forEach(o=>{Object.assign(o.data,{_directSubordinates:o.children?o.children.length:0,_totalSubordinates:o.descendants().length-1})}),t.root.children&&(n&&t.root.children.forEach(this.expand),t.root.children.forEach(o=>this.collapse(o)),0==t.initialExpandLevel&&(t.root._children=t.root.children,t.root.children=null),[t.root].forEach(o=>this.expandSomeNodes(o)))}collapse(n){n.children&&(n._children=n.children,n._children.forEach(t=>this.collapse(t)),n.children=null)}expand(n){n._children&&(n.children=n._children,n.children.forEach(t=>this.expand(t)),n._children=null)}zoomed(n,t){const r=this.getChartState(),i=r.chart,o=n.transform;r.lastTransform=o,i.attr("transform",o),this.isEdge()&&this.restyleForeignObjectElements()}zoomTreeBounds({x0:n,x1:t,y0:r,y1:i,params:o={animate:!0,scale:!0,onCompleted:()=>{}}}){const{centerG:s,svgWidth:a,svgHeight:u,svg:l,zoomBehavior:c,duration:f,lastTransform:d}=this.getChartState();let g=Math.min(8,.9/Math.max((t-n)/a,(i-r)/u)),w=M.zoomIdentity.translate(a/2,u/2);w=w.scale(o.scale?g:d.k),w=w.translate(-(n+t)/2,-(r+i)/2),l.transition().duration(o.animate?f:0).call(c.transform,w),s.transition().duration(o.animate?f:0).attr("transform","translate(0,0)").on("end",function(){o.onCompleted&&o.onCompleted()})}fit({animate:n=!0,nodes:t,scale:r=!0,onCompleted:i=(()=>{})}={}){const o=this.getChartState(),{root:s}=o;let a=t||s.descendants();const u=M.min(a,d=>d.x+o.layoutBindings[o.layout].nodeLeftX(d)),l=M.max(a,d=>d.x+o.layoutBindings[o.layout].nodeRightX(d)),c=M.min(a,d=>d.y+o.layoutBindings[o.layout].nodeTopY(d)),f=M.max(a,d=>d.y+o.layoutBindings[o.layout].nodeBottomY(d));return this.zoomTreeBounds({params:{animate:n,scale:r,onCompleted:i},x0:u-50,x1:l+50,y0:c-50,y1:f+50}),this}loadPagingNodes(n){const t=this.getChartState();n.data._pagingButton=!1;const r=n.parent.data._pagingStep,i=t.pagingStep(n.parent);n.parent.data._pagingStep=r+i,this.updateNodesState()}setExpanded(n,t=!0){const r=this.getChartState(),i=r.allNodes.filter(({data:o})=>r.nodeId(o)==n)[0];if(!i)return console.log(`ORG CHART - ${t?"EXPAND":"COLLAPSE"} - Node with id (${n})  not found in the tree`),this;if(i.data._expanded=t,0==t){const o=i.parent||{descendants:()=>[]};o.descendants().filter(a=>a!=o).forEach(a=>a.data._expanded=!1)}return this}setCentered(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(({data:a})=>t.nodeId(a).toString()==n.toString())[0];return o?(o.ancestors().forEach(a=>a.data._expanded=!0),o.data._centered=!0,o.data._expanded=!0,this):(console.log(`ORG CHART - CENTER - Node with id (${n}) not found in the tree`),this)}setHighlighted(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(a=>t.nodeId(a.data).toString()===n.toString())[0];return o?(o.ancestors().forEach(a=>a.data._expanded=!0),o.data._highlighted=!0,o.data._expanded=!0,o.data._centered=!0,this):(console.log(`ORG CHART - HIGHLIGHT - Node with id (${n})  not found in the tree`),this)}setUpToTheRootHighlighted(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(a=>t.nodeId(a.data).toString()===n.toString())[0];return o?(o.ancestors().forEach(a=>a.data._expanded=!0),o.data._upToTheRootHighlighted=!0,o.data._expanded=!0,o.ancestors().forEach(a=>a.data._upToTheRootHighlighted=!0),this):(console.log(`ORG CHART - HIGHLIGHTROOT - Node with id (${n}) not found in the tree`),this)}clearHighlighting(){const n=this.getChartState();return n.allNodes.forEach(t=>{t.data._highlighted=!1,t.data._upToTheRootHighlighted=!1}),this.update(n.root),this}fullscreen(n){const t=this.getChartState(),r=M.select(n||t.container).node();M.select(document).on("fullscreenchange."+t.id,function(i){(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement)==r?setTimeout(s=>{t.svg.attr("height",window.innerHeight-40)},500):t.svg.attr("height",t.svgHeight)}),r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()}zoomIn(){const{svg:n,zoomBehavior:t}=this.getChartState();n.transition().call(t.scaleBy,1.3)}zoomOut(){const{svg:n,zoomBehavior:t}=this.getChartState();n.transition().call(t.scaleBy,.78)}toDataURL(n,t){var r=new XMLHttpRequest;r.onload=function(){var i=new FileReader;i.onloadend=function(){t(i.result)},i.readAsDataURL(r.response)},r.open("GET",n),r.responseType="blob",r.send()}exportImg({full:n=!1,scale:t=3,onLoad:r=(s=>s),save:i=!0,backgroundColor:o="#FAFAFA"}={}){const s=this,a=this.getChartState(),{svg:u,root:l}=a;let c=0;const f=u.selectAll("img");let d=f.size();const g=()=>{JSON.parse(JSON.stringify(s.lastTransform()));const x=s.duration();n&&s.fit();const{svg:v}=s.getChartState();setTimeout(y=>{s.downloadImage({node:v.node(),scale:t,isSvg:!1,backgroundColor:o,onAlreadySerialized:S=>{s.update(l)},imageName:a.imageName,onLoad:r,save:i})},n?x+10:0)};d>0?f.each(function(){s.toDataURL(this.src,w=>{this.src=w,++c==d&&g()})}):g()}exportSvg(){const{svg:n,imageName:t}=this.getChartState();return this.downloadImage({imageName:t,node:n.node(),scale:3,isSvg:!0}),this}expandAll(){const{data:r}=this.getChartState();return r.forEach(i=>i._expanded=!0),this.render(),this}collapseAll(){const{allNodes:n}=this.getChartState();return n.forEach(r=>r.data._expanded=!1),this.initialExpandLevel(0),this.render(),this}downloadImage({node:n,scale:t=2,imageName:r="graph",isSvg:i=!1,save:o=!0,backgroundColor:s="#FAFAFA",onAlreadySerialized:a=(l=>{}),onLoad:u=(l=>{})}){const l=n;function c(x,v){var y=document.createElement("a");"string"==typeof y.download?(document.body.appendChild(y),y.download=v,y.href=x,y.click(),document.body.removeChild(y)):location.replace(x)}function f(x){const v="http://www.w3.org/2000/xmlns/";x=x.cloneNode(!0);const N=window.location.href+"#",z=document.createTreeWalker(x,NodeFilter.SHOW_ELEMENT,null,!1);for(;z.nextNode();)for(const A of z.currentNode.attributes)A.value.includes(N)&&(A.value=A.value.replace(N,"#"));return x.setAttributeNS(v,"xmlns","http://www.w3.org/2000/svg"),x.setAttributeNS(v,"xmlns:xlink","http://www.w3.org/1999/xlink"),(new XMLSerializer).serializeToString(x)}if(i){let x=f(l);return x='<?xml version="1.0" standalone="no"?>\r\n'+x,c(w="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(x),r+".svg"),void a()}const d=t,g=document.createElement("img");g.onload=function(){const x=document.createElement("canvas"),v=l.getBoundingClientRect();x.width=v.width*d,x.height=v.height*d;const y=x.getContext("2d");y.fillStyle=s,y.fillRect(0,0,v.width*d,v.height*d),y.drawImage(g,0,0,v.width*d,v.height*d);let S=x.toDataURL("image/png");u&&u(S),o&&c(S,r+".png")};var w="data:image/svg+xml; charset=utf8, "+encodeURIComponent(f(l));a(),g.src=w}getTextWidth(n,{fontSize:t=14,fontWeight:r=400,defaultFont:i="Helvetice",ctx:o}={}){return o.font=`${r||""} ${t}px ${i} `,o.measureText(n).width}clear(){const n=this.getChartState();M.select(window).on(`resize.${n.id}`,null),n.svg&&n.svg.selectAll("*").remove()}}}}]);