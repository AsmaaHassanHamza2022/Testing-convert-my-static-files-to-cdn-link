(self.webpackChunkportal=self.webpackChunkportal||[]).push([[50100],{50100:(Te,U,u)=>{u.r(U),u.d(U,{DEFAULT_LANGUAGES_CREATE_FORM_PROPS:()=>b,DEFAULT_LANGUAGES_EDIT_FORM_PROPS:()=>W,DEFAULT_LANGUAGES_ENTITY_ACTIONS:()=>z,DEFAULT_LANGUAGES_ENTITY_PROPS:()=>k,DEFAULT_LANGUAGES_TOOLBAR_ACTIONS:()=>K,DEFAULT_LANGUAGE_MANAGEMENT_CREATE_FORM_PROPS:()=>y,DEFAULT_LANGUAGE_MANAGEMENT_EDIT_FORM_PROPS:()=>I,DEFAULT_LANGUAGE_MANAGEMENT_ENTITY_ACTIONS:()=>Q,DEFAULT_LANGUAGE_MANAGEMENT_ENTITY_PROPS:()=>N,DEFAULT_LANGUAGE_MANAGEMENT_TOOLBAR_ACTIONS:()=>Y,DEFAULT_LANGUAGE_TEXTS_ENTITY_ACTIONS:()=>j,DEFAULT_LANGUAGE_TEXTS_TOOLBAR_ACTIONS:()=>w,LANGUAGE_MANAGEMENT_CREATE_FORM_PROP_CONTRIBUTORS:()=>R,LANGUAGE_MANAGEMENT_EDIT_FORM_PROP_CONTRIBUTORS:()=>D,LANGUAGE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS:()=>x,LANGUAGE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS:()=>S,LANGUAGE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS:()=>O,LanguageManagementExtensionsGuard:()=>G,LanguageManagementGuard:()=>P,LanguageManagementModule:()=>Ee,LanguageTextsComponent:()=>v,LanguagesComponent:()=>d});var g=u(81011),m=u(27437),s=u(32709),e=u(11705),C=u(2836),T=u(4125),p=u(32070),F=u(62411),c=u(36394),f=u(86418),B=u(74478),h=u(42595),A=u(21786),$=u(30973),X=u(77138),H=u(82830),V=u(28675);function J(a,i){1&a&&e.\u0275\u0275text(0),2&a&&e.\u0275\u0275textInterpolate(i.$implicit.displayName)}function Z(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&a){const t=i.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",t.displayName," (",e.\u0275\u0275pipeBind1(2,2,"LanguageManagement::DefaultLanguage"),")")}}function q(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,null!=t.selected&&t.selected.id?"LanguageManagement::Edit":"LanguageManagement::CreateNewLanguage")," ")}}function ee(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",12),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(1,"div",13),e.\u0275\u0275element(2,"abp-extensible-form",14),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(2),e.\u0275\u0275property("selectedRecord",t.selected)}}function te(a,i){if(1&a&&e.\u0275\u0275template(0,ee,3,2,"form",11),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.form)}}function ae(a,i){1&a&&(e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"abp-button",16),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"AbpIdentity::Cancel")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"AbpIdentity::Save")))}function ne(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=i.$implicit;e.\u0275\u0275property("ngValue",t.cultureName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function oe(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=i.$implicit;e.\u0275\u0275property("ngValue",t.cultureName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function ie(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=i.$implicit;e.\u0275\u0275property("ngValue",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function le(a,i){if(1&a&&e.\u0275\u0275element(0,"abp-grid-actions",26),2&a){const t=i.row;e.\u0275\u0275property("index",i.rowIndex)("record",t)}}function se(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=i.row,o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t[o.field]," ")}}function re(a,i){if(1&a&&(e.\u0275\u0275elementStart(0,"ngx-datatable-column",27),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275template(2,se,2,1,"ng-template",20),e.\u0275\u0275elementEnd()),2&a){const t=i.$implicit;e.\u0275\u0275property("name",e.\u0275\u0275pipeBind1(1,3,t.header))("prop",t.field)("width",200)}}function ge(a,i){1&a&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"LanguageManagement::Edit")))}function ue(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",6)(2,"label",30),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div")(6,"strong"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",6)(9,"label",31),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"textarea",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",6)(14,"label",31),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"textarea",33),e.\u0275\u0275listener("keyup.enter",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save(!1))})("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selected.value=n)}),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("show",!t.modalBusy),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,8,"LanguageManagement::Key")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.selected.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,10,"LanguageManagement::BaseValue")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t.selected.baseValue),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,12,"LanguageManagement::TargetValue")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selected.value)}}function ce(a,i){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"abp-button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.restore())}),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"abp-button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save(!1))}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"abp-button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save(!0))}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275element(12,"i",38),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,6,"LanguageManagement::Cancel")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,8,"LanguageManagement::RestoreToDefault")),e.\u0275\u0275advance(2),e.\u0275\u0275property("loading",t.modalBusy),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"LanguageManagement::Save")),e.\u0275\u0275advance(2),e.\u0275\u0275property("loading",t.modalBusy),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(11,12,"LanguageManagement::SaveAndNext")," ")}}const me=function(){return{size:"lg"}};var pe=["ad","ae","af","ag","ai","al","am","ao","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bl","bm","bn","bo","bq","br","bs","bt","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","do","dz","ec","ee","eg","eh","er","es","et","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hn","hr","hr","ht","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mf","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xk","ye","yt","za","zm","zw"];let d=(()=>{class a{constructor(t,o,n,l,r,_){this.list=t,this.confirmationService=o,this.service=n,this.injector=l,this.configState=r,this.sessionService=_,this.data={items:[],totalCount:0},this.cultures$=(0,T.of)([]),this.isModalVisible=!1,this.modalBusy=!1,this.flagIcons=pe}createForm(){this.cultures$.pipe((0,p.switchMap)(t=>t.length?(0,T.of)(t):this.service.getCulturelist())).subscribe(t=>{this.cultures$=(0,T.of)(t);const o=new s.FormPropData(this.injector,this.selected);this.form=(0,s.generateFormFromProps)(o)})}hookToQuery(){this.list.hookToQuery(t=>this.service.getList(t)).subscribe(t=>this.data=t)}ngOnInit(){this.hookToQuery()}openModal(){this.createForm(),this.isModalVisible=!0}add(){this.selected={},this.openModal()}edit(t){this.service.get(t).subscribe(o=>{this.selected=o,this.openModal()})}save(){if(!this.form.valid)return;this.modalBusy=!0;const{id:t}=this.selected;(t?this.service.update(t,{...this.selected,...this.form.value}):this.service.create(this.form.value)).pipe((0,p.finalize)(()=>this.modalBusy=!1)).subscribe(()=>{this.isModalVisible=!1,this.list.get(),this.selected.id||this.configState.refreshAppState().subscribe()})}delete(t,o,n=!1){let l="LanguageManagement::LanguageDeletionConfirmationMessage";n&&(l="LanguageManagement::DefaultLanguageDeletionConfirmationMessage"),this.confirmationService.warn(l,"LanguageManagement::AreYouSure",{messageLocalizationParams:[o]}).subscribe(r=>{r===m.Confirmation.Status.confirm&&this.service.get(t).subscribe(_=>{this.service.delete(t).subscribe(()=>{let L;this.service.getAllList().subscribe(M=>{M.items.forEach(E=>{E.isDefaultLanguage&&(L=E)}),_.cultureName==this.sessionService.getLanguage()&&this.sessionService.setLanguage(L.cultureName)}),this.list.get()})})})}setAsDefault(t){this.service.setAsDefault(t).subscribe(()=>this.list.get())}static#e=this.\u0275fac=function(o){return new(o||a)(e.\u0275\u0275directiveInject(g.ListService),e.\u0275\u0275directiveInject(m.ConfirmationService),e.\u0275\u0275directiveInject(C.LanguageService),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.ConfigStateService),e.\u0275\u0275directiveInject(g.SessionStateService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["abp-languages"]],features:[e.\u0275\u0275ProvidersFeature([g.ListService,{provide:s.EXTENSIONS_IDENTIFIER,useValue:"LanguageManagement.LanguagesComponent"}])],decls:17,vars:10,consts:[[3,"title","toolbar"],["id","wrapper"],["localizationSourceName","LanguageManagement",3,"list"],[1,"card"],[3,"data","recordsTotal","list"],["displayName",""],["defaultLanguage",""],[3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["id","languageForm","validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["id","languageForm","validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2"],[3,"selectedRecord"],["type","button","abpClose","",1,"btn","btn-secondary"],["iconClass","fa fa-check","buttonType","submit","formName","languageForm"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"abp-page",0),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275element(3,"abp-advanced-entity-filters",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275element(5,"abp-extensible-table",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(6,J,1,1,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Z,3,4,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(10,"abp-modal",7),e.\u0275\u0275listener("visibleChange",function(r){return n.isModalVisible=r}),e.\u0275\u0275template(11,q,3,3,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(13,te,1,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(15,ae,6,6,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,8,"LanguageManagement::Languages"))("toolbar",n.data),e.\u0275\u0275advance(3),e.\u0275\u0275property("list",n.list),e.\u0275\u0275advance(2),e.\u0275\u0275property("data",n.data.items)("recordsTotal",n.data.totalCount)("list",n.list),e.\u0275\u0275advance(5),e.\u0275\u0275property("visible",n.isModalVisible)("busy",n.modalBusy))},dependencies:[F.NgIf,c.\u0275NgNoValidate,c.NgControlStatusGroup,c.FormGroupDirective,g.FormSubmitDirective,s.ExtensibleFormComponent,s.ExtensibleTableComponent,f.AdvancedEntityFiltersComponent,B.ValidationGroupDirective,m.ButtonComponent,m.ModalComponent,m.ModalCloseDirective,h.PageComponent,g.LocalizationPipe],encapsulation:2})}return a})(),v=(()=>{class a{constructor(t,o,n,l,r){this.list=t,this.renderer=o,this.configState=n,this.service=l,this.languageService=r,this.data={items:[],totalCount:0},this.pageQuery={},this.isModalVisible=!1,this.modalBusy=!1,this.resources=[]}ngOnInit(){this.languages=this.configState.getDeep("localization.languages"),this.languageService.getResources().subscribe(t=>{this.resources=t}),this.pageQuery={baseCultureName:this.languages[0].cultureName,targetCultureName:this.languages?.[1]?.cultureName||this.languages?.[0]?.cultureName,getOnlyEmptyValues:!1},this.hookToQuery(),this.columns=[{field:"name",header:"LanguageManagement::Key"},{field:"baseValue",header:"LanguageManagement::BaseValue"},{field:"value",header:"LanguageManagement::Value"},{field:"resourceName",header:"LanguageManagement::ResourceName"}]}openModal(){this.isModalVisible=!0}closeModal(){this.isModalVisible=!1,this.selected={},this.selectedIndex=null}hookToQuery(){this.list.hookToQuery(t=>this.service.getList({...t,...this.pageQuery})).subscribe(t=>{if(this.data=t,this.isModalVisible){if(!t.items[this.selectedIndex])return void this.closeModal();this.selected={...t.items[this.selectedIndex]}}})}edit(t,o){this.selectedIndex=o%this.list.maxResultCount,this.selected={...t},this.openModal()}save(t){if(this.modalBusy)return;this.modalBusy=!0;const{resourceName:o,cultureName:n,name:l,value:r}=this.selected;this.service.update(o,n,l,r).pipe((0,p.finalize)(()=>{setTimeout(()=>{this.modalBusy=!1},200),t||this.closeModal()})).subscribe(()=>{if(t){const{maxResultCount:_}=this.list;if(this.selectedIndex+1===this.data.totalCount%_&&10*this.list.page+_>=this.data.totalCount)return void this.closeModal();(this.selectedIndex+1)%_==0?(this.selectedIndex=0,this.list.page=this.list.page+1,this.renderer.removeClass(document.getElementById("LanguageTextToEdit_TargetCultureValue"),"ng-dirty")):(this.selectedIndex+=1,this.selected={...this.data.items[this.selectedIndex]},this.renderer.removeClass(document.getElementById("LanguageTextToEdit_TargetCultureValue"),"ng-dirty"))}this.list.getWithoutPageReset()})}restore(){const{resourceName:t,cultureName:o,name:n}=this.selected;this.service.restoreToDefault(t,o,n).subscribe(()=>{this.closeModal(),this.list.get()})}static#e=this.\u0275fac=function(o){return new(o||a)(e.\u0275\u0275directiveInject(g.ListService),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(g.ConfigStateService),e.\u0275\u0275directiveInject(C.LanguageTextService),e.\u0275\u0275directiveInject(C.LanguageService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["abp-language-texts"]],features:[e.\u0275\u0275ProvidersFeature([g.ListService,{provide:s.EXTENSIONS_IDENTIFIER,useValue:"LanguageManagement.LanguageTextsComponent"}])],decls:54,vars:47,consts:[[3,"title","toolbar"],["id","wrapper"],["localizationSourceName","LanguageManagement",3,"list"],["id","FilterFormId",3,"keyup.enter"],[1,"row"],[1,"col-12","col-md-3"],[1,"mb-3"],["for","BaseCultureName",1,"form-label"],["id","BaseCultureName","name","BaseCultureName",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["for","TargetCultureName",1,"form-label"],["id","TargetCultureName","name","TargetCultureName",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],["for","ResourceName",1,"form-label"],["id","ResourceName","name","ResourceName",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],["for","GetOnlyEmptyValues",1,"form-label"],["id","GetOnlyEmptyValues","name","GetOnlyEmptyValues",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[1,"card"],["default","",3,"rows","count","list"],[3,"name","maxWidth","width","sortable"],["ngx-datatable-cell-template",""],[3,"name","prop","width",4,"ngFor","ngForOf"],[3,"visible","busy","options","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["text","LanguageManagement::Actions",3,"index","record"],[3,"name","prop","width"],["abpEllipsis",""],[1,"fade"],[1,"form-label"],["for","LanguageTextToEdit_BaseCultureValue",1,"form-label"],["id","LanguageTextToEdit_BaseCultureValue","name","LanguageTextToEdit.BaseCultureValue","rows","4","disabled","",1,"form-control",3,"value"],["id","LanguageTextToEdit_TargetCultureValue","name","LanguageTextToEdit.TargetCultureValue","rows","4",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],["type","button","abpClose","",1,"btn","btn-sm","btn-outline-primary"],["iconClass","fa fa-check","buttonClass","btn btn-sm btn-outline-primary",3,"click"],["iconClass","fa fa-check","buttonClass","btn btn-sm btn-primary",3,"loading","click"],["iconClass","fa fa-check","buttonClass","btn btn-sm btn-success",3,"loading","click"],["aria-hidden","true",1,"fa","fa-arrow-right","ms-1"]],template:function(o,n){1&o&&(e.\u0275\u0275elementStart(0,"abp-page",0),e.\u0275\u0275pipe(1,"abpLocalization"),e.\u0275\u0275elementStart(2,"div",1)(3,"abp-advanced-entity-filters",2)(4,"abp-advanced-entity-filters-above-search")(5,"form",3),e.\u0275\u0275listener("keyup.enter",function(){return n.list.get()}),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"select",8),e.\u0275\u0275listener("ngModelChange",function(r){return n.pageQuery.baseCultureName=r})("change",function(){return n.list.get()}),e.\u0275\u0275template(13,ne,2,2,"option",9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(14,"div",5)(15,"div",6)(16,"label",10),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"select",11),e.\u0275\u0275listener("ngModelChange",function(r){return n.pageQuery.targetCultureName=r})("change",function(){return n.list.get()}),e.\u0275\u0275template(20,oe,2,2,"option",9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(21,"div",5)(22,"div",6)(23,"label",12),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"select",13),e.\u0275\u0275listener("ngModelChange",function(r){return n.pageQuery.resourceName=r})("change",function(){return n.list.get()}),e.\u0275\u0275element(27,"option",14),e.\u0275\u0275template(28,ie,2,2,"option",9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",5)(30,"div",6)(31,"label",15),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"select",16),e.\u0275\u0275listener("ngModelChange",function(r){return n.pageQuery.getOnlyEmptyValues=r})("change",function(){return n.list.get()}),e.\u0275\u0275elementStart(35,"option",14),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"option",14),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"abpLocalization"),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(41,"div",17)(42,"ngx-datatable",18)(43,"ngx-datatable-column",19),e.\u0275\u0275pipe(44,"abpLocalization"),e.\u0275\u0275template(45,le,1,2,"ng-template",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,re,3,5,"ngx-datatable-column",21),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(47,"abp-modal",22),e.\u0275\u0275listener("visibleChange",function(r){return n.isModalVisible=r}),e.\u0275\u0275template(48,ge,3,3,"ng-template",null,23,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(50,ue,18,14,"ng-template",null,24,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(52,ce,13,14,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,30,"LanguageManagement::LanguageTexts"))("toolbar",n.data.items),e.\u0275\u0275advance(3),e.\u0275\u0275property("list",n.list),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,32,"LanguageManagement::BaseCultureName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.pageQuery.baseCultureName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.languages),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,34,"LanguageManagement::TargetCultureName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.pageQuery.targetCultureName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.languages),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,36,"LanguageManagement::ResourceName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.pageQuery.resourceName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngValue",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.resources),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,38,"LanguageManagement::TargetValue")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.pageQuery.getOnlyEmptyValues),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngValue",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(37,40,"LanguageManagement::All")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngValue",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(40,42,"LanguageManagement::OnlyEmptyValues")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("rows",n.data.items)("count",n.data.totalCount)("list",n.list),e.\u0275\u0275advance(1),e.\u0275\u0275property("name",e.\u0275\u0275pipeBind1(44,44,"LanguageManagement::Actions"))("maxWidth",150)("width",150)("sortable",!1),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.columns),e.\u0275\u0275advance(1),e.\u0275\u0275property("visible",n.isModalVisible)("busy",n.modalBusy)("options",e.\u0275\u0275pureFunction0(46,me)))},dependencies:[F.NgForOf,c.\u0275NgNoValidate,c.NgSelectOption,c.\u0275NgSelectMultipleOption,c.DefaultValueAccessor,c.SelectControlValueAccessor,c.NgControlStatus,c.NgControlStatusGroup,c.NgModel,c.NgForm,s.GridActionsComponent,f.AdvancedEntityFiltersComponent,f.AdvancedEntityFiltersAboveSearchComponent,A.DatatableComponent,A.DataTableColumnDirective,A.DataTableColumnCellDirective,m.EllipsisDirective,m.ButtonComponent,m.ModalComponent,m.NgxDatatableDefaultDirective,m.NgxDatatableListDirective,m.ModalCloseDirective,h.PageComponent,g.LocalizationPipe],encapsulation:2})}return a})();const j=s.EntityAction.createMany([{text:"LanguageManagement::Edit",action:a=>{a.getInjected(v).edit(a.record,a.index)},permission:"LanguageManagement.LanguageTexts.Edit"}]),w=s.ToolbarAction.createMany([]),z=s.EntityAction.createMany([{text:"LanguageManagement::Edit",action:a=>{a.getInjected(d).edit(a.record.id)},permission:"LanguageManagement.Languages.Edit"},{text:"LanguageManagement::Delete",action:a=>{a.getInjected(d).delete(a.record.id,a.record.displayName,a.record.isDefaultLanguage)},permission:"LanguageManagement.Languages.Delete"},{text:"LanguageManagement::SetAsDefaultLanguage",action:a=>{a.getInjected(d).setAsDefault(a.record.id)},permission:"LanguageManagement.Languages.ChangeDefault"}]),k=s.EntityProp.createMany([{type:"string",name:"displayName",displayName:"LanguageManagement::DisplayName",columnWidth:200,valueResolver:a=>{const{displayName:i,isDefaultLanguage:t}=a.record;if(!t)return(0,T.of)(i);const o=a.getInjected(g.LocalizationService),n=o.instant.bind(o);return(0,T.of)(`<strong>${(0,g.escapeHtmlChars)(i)} (${n("LanguageManagement::DefaultLanguage")})</strong>`)}},{type:"string",name:"cultureName",displayName:"LanguageManagement::CultureName",columnWidth:200},{type:"string",name:"uiCultureName",displayName:"LanguageManagement::UiCultureName",columnWidth:200},{type:"boolean",name:"isEnabled",displayName:"LanguageManagement::IsEnabled",columnWidth:100},{type:"string",name:"flagIcon",displayName:"LanguageManagement::FlagIcon",columnWidth:100,valueResolver:a=>{const{displayName:i,flagIcon:t}=a.record;return(0,T.of)(`<span class="fi fis fi-${t}" title="${i}"></span>`)}}]),b=s.FormProp.createMany([{type:"string",name:"cultureName",displayName:"LanguageManagement::CultureName",id:"culture-name",validators:()=>[c.Validators.required],options:a=>a.getInjected(d).cultures$.pipe((0,p.map)(i=>i.map(t=>({key:t.displayName,value:t.name}))))},{type:"string",name:"uiCultureName",displayName:"LanguageManagement::UiCultureName",id:"ui-culture-name",validators:()=>[c.Validators.required],options:a=>a.getInjected(d).cultures$.pipe((0,p.map)(i=>i.map(t=>({key:t.displayName,value:t.name}))))},{type:"string",name:"displayName",displayName:"LanguageManagement::DisplayName",id:"name",validators:()=>[c.Validators.required,c.Validators.maxLength(256)]},{type:"string",name:"flagIcon",displayName:"LanguageManagement::FlagIcon",id:"flag-icon",validators:()=>[c.Validators.required],options:a=>(0,T.of)(a.getInjected(d).flagIcons.map(i=>({key:i,value:i})))},{type:"boolean",name:"isEnabled",displayName:"LanguageManagement::IsEnabled",id:"is-enabled",defaultValue:!1}]),W=b.slice(2),K=s.ToolbarAction.createMany([{text:"LanguageManagement::CreateNewLanguage",action:a=>{a.getInjected(d).add()},permission:"LanguageManagement.Languages.Create",icon:"fa fa-plus"}]),Q={"LanguageManagement.LanguagesComponent":z,"LanguageManagement.LanguageTextsComponent":j},Y={"LanguageManagement.LanguagesComponent":K,"LanguageManagement.LanguageTextsComponent":w},N={"LanguageManagement.LanguagesComponent":k},y={"LanguageManagement.LanguagesComponent":b},I={"LanguageManagement.LanguagesComponent":W},x=new e.InjectionToken("LANGUAGE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS"),O=new e.InjectionToken("LANGUAGE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS"),S=new e.InjectionToken("LANGUAGE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS"),R=new e.InjectionToken("LANGUAGE_MANAGEMENT_CREATE_FORM_PROP_CONTRIBUTORS"),D=new e.InjectionToken("LANGUAGE_MANAGEMENT_EDIT_FORM_PROP_CONTRIBUTORS");let G=(()=>{class a{constructor(t){this.injector=t}canActivate(){const t=this.injector.get($.ENABLE_FLAG_ICON),o=this.injector.get(s.ExtensionsService),n=this.injector.get(x,null)||{},l=this.injector.get(O,null)||{},r=this.injector.get(S,null)||{},_=this.injector.get(R,null)||{},L=this.injector.get(D,null)||{};t||this.filterFlagIcon(N,y,I);const M=this.injector.get(g.ConfigStateService);return(0,s.getObjectExtensionEntitiesFromStore)(M,"LanguageManagement").pipe((0,p.map)(E=>({"LanguageManagement.LanguagesComponent":E.Language})),(0,s.mapEntitiesToContributors)(M,"LanguageManagement"),(0,p.tap)(E=>{(0,s.mergeWithDefaultActions)(o.entityActions,Q,n),(0,s.mergeWithDefaultActions)(o.toolbarActions,Y,l),(0,s.mergeWithDefaultProps)(o.entityProps,N,E.prop,r),(0,s.mergeWithDefaultProps)(o.createFormProps,y,E.createForm,_),(0,s.mergeWithDefaultProps)(o.editFormProps,I,E.editForm,L)}),(0,p.mapTo)(!0))}filterFlagIcon(...t){t.forEach(o=>{o["LanguageManagement.LanguagesComponent"]=o["LanguageManagement.LanguagesComponent"].filter(n=>"flagIcon"!==n.name)})}static#e=this.\u0275fac=function(o){return new(o||a)(e.\u0275\u0275inject(e.Injector))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})}return a})(),P=(()=>{class a{constructor(t){this.languageManagementFeatures=t}canActivate(){return this.languageManagementFeatures.pipe((0,p.map)(t=>t.enable))}static#e=this.\u0275fac=function(o){return new(o||a)(e.\u0275\u0275inject(X.LANGUAGE_MANAGEMENT_FEATURES))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})}return a})();const de=[{path:"",redirectTo:"languages",pathMatch:"full"},{path:"",component:g.RouterOutletComponent,canActivate:[g.AuthGuard,g.PermissionGuard,G,P],children:[{path:"languages",component:g.ReplaceableRouteContainerComponent,data:{requiredPolicy:"LanguageManagement.Languages",replaceableComponent:{key:"LanguageManagement.LanguagesComponent",defaultComponent:d}}},{path:"texts",component:g.ReplaceableRouteContainerComponent,data:{requiredPolicy:"LanguageManagement.LanguageTexts",replaceableComponent:{key:"LanguageManagement.LanguageTextsComponent",defaultComponent:v}}}]}];let _e=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:a});static#a=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.RouterModule.forChild(de),V.RouterModule]})}return a})(),Ee=(()=>{class a{static forChild(t={}){return{ngModule:a,providers:[{provide:x,useValue:t.entityActionContributors},{provide:O,useValue:t.toolbarActionContributors},{provide:S,useValue:t.entityPropContributors},{provide:R,useValue:t.createFormPropContributors},{provide:D,useValue:t.editFormPropContributors},G,P]}}static forLazy(t={}){return new g.LazyModuleFactory(a.forChild(t))}static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:a});static#a=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[_e,g.CoreModule,f.CommercialUiModule,m.ThemeSharedModule,H.NgbDropdownModule,B.NgxValidateCoreModule,h.PageModule,f.AdvancedEntityFiltersModule]})}return a})()}}]);