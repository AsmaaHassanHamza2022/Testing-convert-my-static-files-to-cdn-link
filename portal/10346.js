(self.webpackChunkportal=self.webpackChunkportal||[]).push([[10346],{10346:(ce,E,m)=>{m.r(E),m.d(E,{AbstractAccountSettingsComponent:()=>_,AbstractAccountSettingsService:()=>d,AccountAdminModule:()=>ae,AccountCaptchaService:()=>C,AccountExternalProviderService:()=>h,AccountSettingsCaptchaComponent:()=>A,AccountSettingsComponent:()=>w,AccountSettingsExternalProviderComponent:()=>y,AccountSettingsGeneralComponent:()=>S,AccountSettingsModule:()=>re,AccountSettingsService:()=>I,AccountSettingsTwoFactorComponent:()=>b,AccountTwoFactorSettingService:()=>M,eTwoFactorBehaviour:()=>f,twoFactorBehaviourOptions:()=>F});var l=m(81011),e=m(11705),g=m(27437),u=m(82830),v=m(32070),p=m(62411),r=m(36394),T=m(4125),x=m(74478);function N(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275listener("keyup.enter",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c))}),e.\u0275\u0275elementStart(2,"h4"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2)(6,"input",3),e.\u0275\u0275listener("ngModelChange",function(i){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.isSelfRegistrationEnabled=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",4),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",2)(11,"input",5),e.\u0275\u0275listener("ngModelChange",function(i){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.enableLocalLogin=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",6),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(15,"hr",7),e.\u0275\u0275elementStart(16,"div")(17,"abp-button",8),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c))}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=a.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"AbpAccount::AccountSettingsGeneral")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.isSelfRegistrationEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,9,"AbpAccount::DisplayName:IsSelfRegistrationEnabled")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.enableLocalLogin),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,11,"AbpAccount::DisplayName:EnableLocalLogin")),e.\u0275\u0275advance(4),e.\u0275\u0275property("loading",o.loading),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,13,"AbpAccount::Save"))}}function D(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",12),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("ngValue",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.key," ")}}function O(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"input",13),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const c=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(c.usersCanChange=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",14),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.usersCanChange),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"AbpIdentity::DisplayName:Abp.Identity.UsersCanChange"))}}function P(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275listener("keyup.enter",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c))}),e.\u0275\u0275elementStart(2,"h4"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div")(6,"div",2)(7,"label",3),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"select",4),e.\u0275\u0275listener("ngModelChange",function(i){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.twoFactorBehaviour=i)}),e.\u0275\u0275template(11,D,2,2,"option",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,O,5,4,"div",6),e.\u0275\u0275elementStart(13,"div",7)(14,"input",8),e.\u0275\u0275listener("ngModelChange",function(i){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.isRememberBrowserEnabled=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"label",9),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(18,"hr",10),e.\u0275\u0275elementStart(19,"div")(20,"abp-button",11),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c))}),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=a.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"AbpAccount::TwoFactorAuthentication")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"AbpIdentity::DisplayName:Abp.Identity.TwoFactorBehaviour")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.twoFactorBehaviour),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.twoFactorBehaviourOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.twoFactorBehaviour===o.eTwoFactorBehaviour.Optional),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.isRememberBrowserEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,13,"AbpAccount::RememberBrowser")),e.\u0275\u0275advance(4),e.\u0275\u0275property("loading",o.loading),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,15,"AbpAccount::Save"))}}function B(n,a){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",15),e.\u0275\u0275element(2,"input",16),e.\u0275\u0275elementStart(3,"label",17),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",15),e.\u0275\u0275element(7,"input",18),e.\u0275\u0275elementStart(8,"label",19),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",6)(12,"label",10),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,3,"AbpAccount::Description:UseCaptchaOnLogin")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,5,"AbpAccount::Description:UseCaptchaOnRegistration")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,7,"AbpAccount::DisplayName:VerifyBaseUrl")))}function k(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",6)(1,"label",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",21),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"AbpAccount::DisplayName:Score")))}function V(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"form",4),e.\u0275\u0275template(1,B,16,9,"ng-container",5),e.\u0275\u0275elementStart(2,"div",6)(3,"label",7),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"select",8)(7,"option",9),e.\u0275\u0275text(8,"2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"option",9),e.\u0275\u0275text(10,"3"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"div",6)(12,"label",10),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",11),e.\u0275\u0275elementStart(16,"small",12),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",6)(20,"label",10),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"input",13),e.\u0275\u0275elementStart(24,"small",12),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(27,k,5,3,"div",14),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formGroup",t.form),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isTenant),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,10,"AbpAccount::DisplayName:Version")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngValue",2),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngValue",3),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,12,"AbpAccount::DisplayName:SiteKey")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,14,"AbpAccount::SetNullWillUseGlobalSettings")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,16,"AbpAccount::DisplayName:SiteSecret")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,18,"AbpAccount::SetNullWillUseGlobalSettings")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",3===t.form.controls.version.value)}}function L(n,a){1&n&&e.\u0275\u0275elementContainer(0)}function $(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0)(1),e.\u0275\u0275elementStart(2,"h4"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",7)(5,"input",8),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const c=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(c.useHostSettings=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"label",9),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",10),e.\u0275\u0275template(10,L,1,0,"ng-container",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"hr",12),e.\u0275\u0275elementContainerEnd()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275reference(5);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.useHostSettings),e.\u0275\u0275attribute("id",t.name+".use-host-settings"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.name+".use-host-settings"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,8,"AbpAccount::ExternalProviderUseHostSettings")),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("show",!t.useHostSettings),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o)}}function R(n,a){1&n&&e.\u0275\u0275elementContainer(0)}function z(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"h4"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",13)(3,"input",14),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const c=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(c.enabled=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"label",15),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"abpLocalization"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,R,1,0,"ng-container",11)}if(2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.enabled),e.\u0275\u0275attribute("id",t.name+".enabled")("name",t.name+".enabled"),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("for",t.name+".enabled"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,"AbpAccount::ExternalProviderEnabled")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",o)}}function U(n,a){1&n&&e.\u0275\u0275elementContainer(0)}function j(n,a){1&n&&e.\u0275\u0275elementContainer(0)}function G(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",18)(2,"label",19),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",20),e.\u0275\u0275listener("ngModelChange",function(i){const s=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(s.value=i)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=a.$implicit,o=e.\u0275\u0275nextContext().type,i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275attribute("for",i.name+"."+t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"::ExternalProvider:"+i.name+":"+t.name)),e.\u0275\u0275advance(2),e.\u0275\u0275property("type",o||"text")("ngModel",t.value),e.\u0275\u0275attribute("id",i.name+"."+t.name)}}function K(n,a){1&n&&e.\u0275\u0275template(0,G,6,7,"ng-container",2),2&n&&e.\u0275\u0275property("ngForOf",a.$implicit)}const W=function(n){return{$implicit:n}},H=function(n){return{$implicit:n,type:"password"}};function J(n,a){if(1&n&&(e.\u0275\u0275template(0,U,1,0,"ng-container",16),e.\u0275\u0275template(1,j,1,0,"ng-container",16),e.\u0275\u0275template(2,K,1,1,"ng-template",null,17,e.\u0275\u0275templateRefExtractor)),2&n){const t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(4,W,o.properties)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(6,H,o.secretProperties))}}function Q(n,a){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$,12,10,"ng-container",4),e.\u0275\u0275template(2,z,8,9,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,J,4,8,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isTenant)("ngIfElse",t)}}function X(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275listener("keyup.enter",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c.settings))}),e.\u0275\u0275template(2,Q,6,2,"ng-container",2),e.\u0275\u0275elementStart(3,"div")(4,"abp-button",3),e.\u0275\u0275listener("click",function(){const c=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.submit(c.settings))}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"abpLocalization"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=a.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.settings),e.\u0275\u0275advance(2),e.\u0275\u0275property("loading",o.loading),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"AbpAccount::Save"))}}function Y(n,a){if(1&n&&e.\u0275\u0275element(0,"abp-account-settings-general",11),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("isTenant",t.isTenant)}}function Z(n,a){if(1&n&&e.\u0275\u0275element(0,"abp-account-settings-two-factor",11),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isTenant",t.isTenant)}}function q(n,a){1&n&&(e.\u0275\u0275elementStart(0,"li",5)(1,"a",6),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Z,1,1,"ng-template",7),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"AbpAccount::AccountSettingsTwoFactor")))}function ee(n,a){if(1&n&&e.\u0275\u0275element(0,"abp-account-settings-captcha",11),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isTenant",t.isTenant)}}function te(n,a){1&n&&(e.\u0275\u0275elementStart(0,"li",5)(1,"a",6),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ee,1,1,"ng-template",7),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AbpAccount::Captcha")," "))}function ne(n,a){if(1&n&&e.\u0275\u0275element(0,"abp-account-settings-external-provider",11),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("isTenant",t.isTenant)}}function oe(n,a){1&n&&(e.\u0275\u0275elementStart(0,"li",5)(1,"a",6),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ne,1,1,"ng-template",7),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AbpAccount::AccountExternalProviderSettings")," "))}function ie(n,a){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,oe,5,3,"li",8),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.isExternalProviderExists$))}}let ae=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.CoreModule]})}return n})();class d{constructor(a){this.restService=a,this.apiName="AbpAccountAdmin"}getSettings(){return this.restService.request({method:"GET",url:this.url},{apiName:this.apiName})}updateSettings(a){return this.restService.request({method:"PUT",url:this.url,body:a},{apiName:this.apiName})}}let _=(()=>{class n{set loading(t){this._loading=t,this.cdr.markForCheck()}get loading(){return this._loading}constructor(t){this.injector=t,this.service=t.get(d),this.toaster=t.get(g.ToasterService),this.cdr=t.get(e.ChangeDetectorRef),this.configState=t.get(l.ConfigStateService)}ngOnInit(){this.settings$=this.service.getSettings()}submit(t){this.loading=!0,this.service.updateSettings(this.isTenant?this.mapTenantSettingsForSubmit(t):t).pipe((0,v.finalize)(()=>this.loading=!1)).subscribe(()=>{this.toaster.success("AbpSettingManagement::SuccessfullySaved",null),this.configState.refreshAppState().subscribe()})}mapTenantSettingsForSubmit(t){return t}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(e.Injector))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],inputs:{isTenant:"isTenant"},decls:0,vars:0,template:function(o,i){},encapsulation:2})}return n})(),I=(()=>{class n extends d{constructor(t){super(t),this.url="/api/account-admin/settings"}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(l.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),S=(()=>{class n extends _{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}();static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-account-settings-general"]],features:[e.\u0275\u0275ProvidersFeature([{provide:d,useClass:I}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[1,"py-2",3,"keyup.enter"],[1,"form-check","mb-2"],["type","checkbox","id","IsSelfRegistrationEnabled","name","IsSelfRegistrationEnabled","autofocus","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","IsSelfRegistrationEnabled",1,"form-check-label"],["type","checkbox","id","EnableLocalLogin","name","EnableLocalLogin",1,"form-check-input",3,"ngModel","ngModelChange"],["for","EnableLocalLogin",1,"form-check-label"],[1,"my-3"],["iconClass","fa fa-save",3,"loading","click"]],template:function(o,i){1&o&&(e.\u0275\u0275template(0,N,20,15,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,i.settings$))},dependencies:[p.NgIf,r.CheckboxControlValueAccessor,r.NgControlStatus,r.NgModel,l.AutofocusDirective,g.ButtonComponent,p.AsyncPipe,l.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),M=(()=>{class n extends d{constructor(t){super(t),this.url="/api/account-admin/settings/two-factor"}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(l.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})();var f=function(n){return n[n.Optional=0]="Optional",n[n.Disabled=1]="Disabled",n[n.Forced=2]="Forced",n}(f||{});const F=(0,l.mapEnumToOptions)(f);let b=(()=>{class n extends _{constructor(){super(...arguments),this.eTwoFactorBehaviour=f,this.twoFactorBehaviourOptions=F}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}();static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-account-settings-two-factor"]],features:[e.\u0275\u0275ProvidersFeature([{provide:d,useClass:M}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[3,"keyup.enter"],[1,"mb-3"],["for","AccountTwoFactorSettings_TwoFactorBehaviour",1,"form-label"],["name","TwoFactorBehaviour",1,"form-select","form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","form-check mb-2",4,"ngIf"],[1,"form-check","mb-2"],["name","IsRememberBrowserEnabled","type","checkbox","checked","checked","id","AccountTwoFactorSettings_IsRememberBrowserEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],["for","AccountTwoFactorSettings_IsRememberBrowserEnabled",1,"form-check-label"],[1,"my-3"],["iconClass","fa fa-save",3,"loading","click"],[3,"ngValue"],["name","UsersCanChange","type","checkbox","checked","checked","id","AccountTwoFactorSettings_UsersCanChange",1,"form-check-input",3,"ngModel","ngModelChange"],["for","AccountTwoFactorSettings_UsersCanChange",1,"form-check-label"]],template:function(o,i){1&o&&(e.\u0275\u0275template(0,P,23,17,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,i.settings$))},dependencies:[p.NgForOf,p.NgIf,r.NgSelectOption,r.\u0275NgSelectMultipleOption,r.CheckboxControlValueAccessor,r.SelectControlValueAccessor,r.NgControlStatus,r.NgModel,g.ButtonComponent,p.AsyncPipe,l.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),C=(()=>{class n extends d{constructor(t){super(t),this.url="/api/account-admin/settings/recaptcha"}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(l.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),h=(()=>{class n extends d{constructor(t){super(t),this.url="/api/account-admin/settings/external-provider"}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(l.RestService))};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}return n})(),A=(()=>{class n extends _{constructor(t,o,i){super(t),this.injector=t,this.fb=o,this.subscription=i}ngOnInit(){super.ngOnInit(),this.subscription.addOne(this.settings$,t=>this.buildForm(t))}buildForm(t){this.form=this.fb.group({useCaptchaOnLogin:[t.useCaptchaOnLogin],useCaptchaOnRegistration:[t.useCaptchaOnRegistration],verifyBaseUrl:[t.verifyBaseUrl,[r.Validators.required]],siteKey:[t.siteKey],siteSecret:[t.siteSecret],version:[t.version,[r.Validators.required]],score:[t.score,[r.Validators.required,r.Validators.min(0),r.Validators.max(1)]]}),this.cdr.detectChanges()}mapTenantSettingsForSubmit(t){return{version:t.version,siteKey:t.siteKey,siteSecret:t.siteSecret}}submit(){this.form.invalid||super.submit(this.form.value)}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(r.UntypedFormBuilder),e.\u0275\u0275directiveInject(l.SubscriptionService))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-account-settings-captcha"]],features:[e.\u0275\u0275ProvidersFeature([{provide:d,useClass:C},l.SubscriptionService]),e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:8,consts:[[3,"keyup.enter"],[3,"formGroup",4,"ngIf"],[1,"my-3"],["iconClass","fa fa-save",3,"loading","click"],[3,"formGroup"],[4,"ngIf"],[1,"mb-3"],["for","captcha-version",1,"form-label"],["id","captcha-version","formControlName","version",1,"form-control"],[3,"ngValue"],[1,"form-label"],["type","text","formControlName","siteKey",1,"form-control"],[1,"form-text","text-muted"],["type","text","formControlName","siteSecret",1,"form-control"],["class","mb-3",4,"ngIf"],[1,"form-check","mb-2"],["type","checkbox","id","use-captcha-on-login","name","useCaptchaOnLogin","formControlName","useCaptchaOnLogin","autofocus","",1,"form-check-input"],["for","use-captcha-on-login",1,"form-check-label"],["type","checkbox","id","use-captcha-on-registration","name","useCaptchaOnRegistration","formControlName","useCaptchaOnRegistration",1,"form-check-input"],["for","use-captcha-on-registration",1,"form-check-label"],["type","text","formControlName","verifyBaseUrl",1,"form-control"],["type","number","formControlName","score","min","0","max","1",1,"form-control"]],template:function(o,i){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("keyup.enter",function(){return i.submit()}),e.\u0275\u0275elementStart(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,V,28,20,"form",1),e.\u0275\u0275element(5,"hr",2),e.\u0275\u0275elementStart(6,"div")(7,"abp-button",3),e.\u0275\u0275listener("click",function(){return i.submit()}),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"abpLocalization"),e.\u0275\u0275elementEnd()()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"AbpAccount::Captcha")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.form),e.\u0275\u0275advance(3),e.\u0275\u0275property("loading",i.loading),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,6,"AbpAccount::Save")))},dependencies:[p.NgIf,r.\u0275NgNoValidate,r.NgSelectOption,r.\u0275NgSelectMultipleOption,r.DefaultValueAccessor,r.NumberValueAccessor,r.CheckboxControlValueAccessor,r.SelectControlValueAccessor,r.NgControlStatus,r.NgControlStatusGroup,r.MinValidator,r.MaxValidator,r.FormGroupDirective,r.FormControlName,l.AutofocusDirective,x.ValidationGroupDirective,x.ValidationDirective,g.ButtonComponent,l.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),y=(()=>{class n extends _{constructor(){super(...arguments),this.mapInitialTenantSettings=t=>({settings:t.settings.filter(o=>o.enabled).map(this.setUseHostSettingsOf)})}ngOnInit(){this.isTenant?this.settings$=this.service.getSettings().pipe((0,v.map)(this.mapInitialTenantSettings)):super.ngOnInit()}mapTenantSettingsForSubmit(t){return t.map(this.clearPropertyValues)}clearPropertyValues(t){t.useHostSettings&&(t.properties.forEach(c=>c.value=""),t.secretProperties.forEach(c=>c.value=""));const{useHostSettings:o,...i}=t;return i}setUseHostSettingsOf(t){const o=!(t.properties.some(i=>i.value)||t.secretProperties.some(i=>i.value));return{...t,useHostSettings:o}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}();static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-account-settings-external-provider"]],features:[e.\u0275\u0275ProvidersFeature([{provide:d,useClass:h}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[3,"keyup.enter"],[4,"ngFor","ngForOf"],["iconClass","fa fa-save",3,"loading","click"],[4,"ngIf","ngIfElse"],["host",""],["propertySetsTemplate",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label",3,"for"],[1,"collapse"],[4,"ngTemplateOutlet"],[1,"my-4"],[1,"form-check","mb-2"],["type","checkbox","autofocus","",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["singlePropertySetTemplate",""],[1,"mb-3"],[1,"form-label"],[1,"form-control",3,"type","ngModel","ngModelChange"]],template:function(o,i){1&o&&(e.\u0275\u0275template(0,X,7,5,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,i.settings$))},dependencies:[p.NgForOf,p.NgIf,p.NgTemplateOutlet,r.DefaultValueAccessor,r.CheckboxControlValueAccessor,r.NgControlStatus,r.NgModel,l.AutofocusDirective,g.ButtonComponent,p.AsyncPipe,l.LocalizationPipe],encapsulation:2,changeDetection:0})}return n})(),w=(()=>{class n{constructor(t,o,i,c){this.configStateService=t,this.sessionStateService=o,this.captchaService=i,this.externalProviderService=c}ngOnInit(){this.isTwoFactorSettingsEnabled=this.configStateService.getFeature("Identity.TwoFactor")===f[f.Optional],this.isExternalProviderExists$=this.externalProviderService.getSettings().pipe((0,v.map)(t=>t?.settings?.length>0)),this.isTenant=this.sessionStateService.getTenant()?.isAvailable,this.isTenant?(this.isExternalProviderEnabled$=this.externalProviderService.getSettings().pipe((0,v.map)(t=>t.settings.some(o=>o.enabled))),this.isCaptchaEnabled$=this.captchaService.getSettings().pipe((0,v.map)(t=>t.useCaptchaOnLogin||t.useCaptchaOnRegistration))):(this.isExternalProviderEnabled$=(0,T.of)(!0),this.isCaptchaEnabled$=(0,T.of)(!0))}static#e=this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(l.ConfigStateService),e.\u0275\u0275directiveInject(l.SessionStateService),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(h))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["abp-account-settings"]],features:[e.\u0275\u0275ProvidersFeature([h,C])],decls:19,vars:14,consts:[[1,"my-2"],["id","AccountSettingsForm",1,"row"],[1,"col-md-12"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],[4,"ngIf"],[3,"ngbNavOutlet"],[3,"isTenant"]],template:function(o,i){if(1&o&&(e.\u0275\u0275elementStart(0,"h2"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr",0),e.\u0275\u0275elementStart(4,"div",1)(5,"div",2)(6,"ul",3,4)(8,"li",5)(9,"a",6),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"abpLocalization"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Y,1,1,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,q,5,3,"li",8),e.\u0275\u0275template(14,te,5,3,"li",8),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,ie,3,3,"ng-container",9),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"div",10),e.\u0275\u0275elementEnd()()),2&o){const c=e.\u0275\u0275reference(7);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,6,"AbpAccount::Menu:Account")),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,8,"AbpAccount::AccountSettingsGeneral")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.isTwoFactorSettingsEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,10,i.isCaptchaEnabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,12,i.isExternalProviderEnabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbNavOutlet",c)}},dependencies:[p.NgIf,u.NgbNavContent,u.NgbNav,u.NgbNavItem,u.NgbNavItemRole,u.NgbNavLink,u.NgbNavLinkBase,u.NgbNavOutlet,S,b,A,y,p.AsyncPipe,l.LocalizationPipe],encapsulation:2})}return n})(),re=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.CoreModule,g.ThemeSharedModule,u.NgbNavModule,x.NgxValidateCoreModule]})}return n})()}}]);